(self.webpackChunkfirebase_angular_auth=self.webpackChunkfirebase_angular_auth||[]).push([[179],{2011:(Ze,ye,N)=>{"use strict";N.d(ye,{Dh:()=>le,GT:()=>ae,cc:()=>Te,hO:()=>Ne,on:()=>j,pX:()=>ne,xv:()=>ue});var f=N(4650),Q=N(127),P=N(5813);Ze=N.hmd(Ze);const ie=["ngOnDestroy"],ne=(de,je,qe,be={})=>new Proxy(de,{get:(pe,Ee)=>qe.runOutsideAngular(()=>{var xe;if(de[Ee])return!(null===(xe=be?.spy)||void 0===xe)&&xe.get&&be.spy.get(Ee,de[Ee]),de[Ee];if(ie.indexOf(Ee)>-1)return()=>{};const Fe=je.toPromise().then(B=>{const he=B&&B[Ee];return"function"==typeof he?he.bind(B):he&&he.then?he.then(G=>qe.run(()=>G)):qe.run(()=>he)});return new Proxy(()=>{},{get:(B,he)=>Fe[he],apply:(B,he,G)=>Fe.then(Y=>{var re;const X=Y&&Y(...G);return!(null===(re=be?.spy)||void 0===re)&&re.apply&&be.spy.apply(Ee,G,X),X})})})}),ae=(de,je)=>{je.forEach(qe=>{Object.getOwnPropertyNames(qe.prototype||qe).forEach(be=>{Object.defineProperty(de.prototype,be,Object.getOwnPropertyDescriptor(qe.prototype||qe,be))})})};class oe{constructor(je){return je}}const le=new f.OlP("angularfire2.app.options"),ue=new f.OlP("angularfire2.app.name");function j(de,je,qe){const pe="object"==typeof qe&&qe||{};pe.name=pe.name||"string"==typeof qe&&qe||"[DEFAULT]";const xe=Q.Z.apps.filter(Fe=>Fe&&Fe.name===pe.name)[0]||je.runOutsideAngular(()=>Q.Z.initializeApp(de,pe));try{JSON.stringify(de)!==JSON.stringify(xe.options)&&H("error",`${xe.name} Firebase App already initialized with different options${Ze.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new oe(xe)}const H=(de,...je)=>{(0,f.X6Q)()&&typeof console<"u"&&console[de](...je)},Z={provide:oe,useFactory:j,deps:[le,f.R0b,[new f.FiY,ue]]};let Ne=(()=>{class de{constructor(qe){Q.Z.registerVersion("angularfire",P.q4.full,"core"),Q.Z.registerVersion("angularfire",P.q4.full,"app-compat"),Q.Z.registerVersion("angular",f.q4F.full,qe.toString())}static initializeApp(qe,be){return{ngModule:de,providers:[{provide:le,useValue:qe},{provide:ue,useValue:be}]}}}return de.\u0275fac=function(qe){return new(qe||de)(f.LFG(f.Lbi))},de.\u0275mod=f.oAB({type:de}),de.\u0275inj=f.cJS({providers:[Z]}),de})();function Te(de,je,qe,be,pe){const[,Ee,xe]=globalThis.\u0275AngularfireInstanceCache.find(Fe=>Fe[0]===de)||[];if(Ee)return function _e(de,je){try{return de.toString()===je.toString()}catch{return de===je}}(pe,xe)||(fe("error",`${je} was already initialized on the ${qe} Firebase App with different settings.${We?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:pe,was:xe})),Ee;{const Fe=be();return globalThis.\u0275AngularfireInstanceCache.push([de,Fe,pe]),Fe}}const We=!!Ze.hot,fe=(de,...je)=>{(0,f.X6Q)()&&typeof console<"u"&&console[de](...je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Ze,ye,N)=>{"use strict";N.d(ye,{q4:()=>Ye,iC:()=>mi,HU:()=>Js,vb:()=>ji,JM:()=>Lo});var f=N(4650),Q=N(5867),P=N(5861),ie=N(9681),ne=N(2090),ae=N(4859),oe=N(1877),le=N(8766);const ue="@firebase/installations",j="0.5.13",Z=`w:${j}`,Ne="FIS_v2",je=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function qe(w){return w instanceof ne.ZR&&w.code.includes("request-failed")}function be({projectId:w}){return`https://firebaseinstallations.googleapis.com/v1/projects/${w}/installations`}function pe(w){return{token:w.token,requestStatus:2,expiresIn:Y(w.expiresIn),creationTime:Date.now()}}function Ee(w,D){return xe.apply(this,arguments)}function xe(){return(xe=(0,P.Z)(function*(w,D){const k=(yield D.json()).error;return je.create("request-failed",{requestName:w,serverCode:k.code,serverMessage:k.message,serverStatus:k.status})})).apply(this,arguments)}function Fe({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function B(w,{refreshToken:D}){const A=Fe(w);return A.append("Authorization",function re(w){return`${Ne} ${w}`}(D)),A}function he(w){return G.apply(this,arguments)}function G(){return(G=(0,P.Z)(function*(w){const D=yield w();return D.status>=500&&D.status<600?w():D})).apply(this,arguments)}function Y(w){return Number(w.replace("s","000"))}function X(w,D){return Re.apply(this,arguments)}function Re(){return(Re=(0,P.Z)(function*({appConfig:w,heartbeatServiceProvider:D},{fid:A}){const k=be(w),q=Fe(w),te=D.getImmediate({optional:!0});if(te){const lt=yield te.getHeartbeatsHeader();lt&&q.append("x-firebase-client",lt)}const Se={method:"POST",headers:q,body:JSON.stringify({fid:A,authVersion:Ne,appId:w.appId,sdkVersion:Z})},Ge=yield he(()=>fetch(k,Se));if(Ge.ok){const lt=yield Ge.json();return{fid:lt.fid||A,registrationStatus:2,refreshToken:lt.refreshToken,authToken:pe(lt.authToken)}}throw yield Ee("Create Installation",Ge)})).apply(this,arguments)}function Me(w){return new Promise(D=>{setTimeout(D,w)})}const Rt=/^[cdef][\w-]{21}$/;function Ve(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const A=function Pt(w){return function nt(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return Rt.test(A)?A:""}catch{return""}}function rn(w){return`${w.appName}!${w.appId}`}const Nt=new Map;function Ot(w,D){const A=rn(w);xt(A,D),function fo(w,D){const A=function zn(){return!Pr&&"BroadcastChannel"in self&&(Pr=new BroadcastChannel("[Firebase] FID Change"),Pr.onmessage=w=>{xt(w.data.key,w.data.fid)}),Pr}();A&&A.postMessage({key:w,fid:D}),function Qn(){0===Nt.size&&Pr&&(Pr.close(),Pr=null)}()}(A,D)}function xt(w,D){const A=Nt.get(w);if(A)for(const k of A)k(D)}let Pr=null;const cr="firebase-installations-store";let mr=null;function es(){return mr||(mr=(0,le.X3)("firebase-installations-database",1,{upgrade:(w,D)=>{0===D&&w.createObjectStore(cr)}})),mr}function Ue(w,D){return dr.apply(this,arguments)}function dr(){return(dr=(0,P.Z)(function*(w,D){const A=rn(w),q=(yield es()).transaction(cr,"readwrite"),te=q.objectStore(cr),ve=yield te.get(A);return yield te.put(D,A),yield q.done,(!ve||ve.fid!==D.fid)&&Ot(w,D.fid),D})).apply(this,arguments)}function ni(w){return An.apply(this,arguments)}function An(){return(An=(0,P.Z)(function*(w){const D=rn(w),k=(yield es()).transaction(cr,"readwrite");yield k.objectStore(cr).delete(D),yield k.done})).apply(this,arguments)}function _r(w,D){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,P.Z)(function*(w,D){const A=rn(w),q=(yield es()).transaction(cr,"readwrite"),te=q.objectStore(cr),ve=yield te.get(A),Se=D(ve);return void 0===Se?yield te.delete(A):yield te.put(Se,A),yield q.done,Se&&(!ve||ve.fid!==Se.fid)&&Ot(w,Se.fid),Se})).apply(this,arguments)}function un(w){return In.apply(this,arguments)}function In(){return(In=(0,P.Z)(function*(w){let D;const A=yield _r(w.appConfig,k=>{const q=qt(k),te=rt(w,q);return D=te.registrationPromise,te.installationEntry});return""===A.fid?{installationEntry:yield D}:{installationEntry:A,registrationPromise:D}})).apply(this,arguments)}function qt(w){return ht(w||{fid:Ve(),registrationStatus:0})}function rt(w,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(je.create("app-offline"))};const A={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},k=function ze(w,D){return Ht.apply(this,arguments)}(w,A);return{installationEntry:A,registrationPromise:k}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:pn(w)}:{installationEntry:D}}function Ht(){return(Ht=(0,P.Z)(function*(w,D){try{const A=yield X(w,D);return Ue(w.appConfig,A)}catch(A){throw qe(A)&&409===A.customData.serverCode?yield ni(w.appConfig):yield Ue(w.appConfig,{fid:D.fid,registrationStatus:0}),A}})).apply(this,arguments)}function pn(w){return Un.apply(this,arguments)}function Un(){return(Un=(0,P.Z)(function*(w){let D=yield Jn(w.appConfig);for(;1===D.registrationStatus;)yield Me(100),D=yield Jn(w.appConfig);if(0===D.registrationStatus){const{installationEntry:A,registrationPromise:k}=yield un(w);return k||A}return D})).apply(this,arguments)}function Jn(w){return _r(w,D=>{if(!D)throw je.create("installation-not-found");return ht(D)})}function ht(w){return function ri(w){return 1===w.registrationStatus&&w.registrationTime+1e4<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function kt(w,D){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,P.Z)(function*({appConfig:w,heartbeatServiceProvider:D},A){const k=Ft(w,A),q=B(w,A),te=D.getImmediate({optional:!0});if(te){const lt=yield te.getHeartbeatsHeader();lt&&q.append("x-firebase-client",lt)}const Se={method:"POST",headers:q,body:JSON.stringify({installation:{sdkVersion:Z,appId:w.appId}})},Ge=yield he(()=>fetch(k,Se));if(Ge.ok)return pe(yield Ge.json());throw yield Ee("Generate Auth Token",Ge)})).apply(this,arguments)}function Ft(w,{fid:D}){return`${be(w)}/${D}/authTokens:generate`}function Sn(w){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,P.Z)(function*(w,D=!1){let A;const k=yield _r(w.appConfig,te=>{if(!L(te))throw je.create("not-registered");const ve=te.authToken;if(!D&&U(ve))return te;if(1===ve.requestStatus)return A=He(w,D),te;{if(!navigator.onLine)throw je.create("app-offline");const Se=ge(te);return A=ot(w,Se),Se}});return A?yield A:k.authToken})).apply(this,arguments)}function He(w,D){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,P.Z)(function*(w,D){let A=yield $e(w.appConfig);for(;1===A.authToken.requestStatus;)yield Me(100),A=yield $e(w.appConfig);const k=A.authToken;return 0===k.requestStatus?Sn(w,D):k})).apply(this,arguments)}function $e(w){return _r(w,D=>{if(!L(D))throw je.create("not-registered");return function ee(w){return 1===w.requestStatus&&w.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function ot(w,D){return at.apply(this,arguments)}function at(){return(at=(0,P.Z)(function*(w,D){try{const A=yield kt(w,D),k=Object.assign(Object.assign({},D),{authToken:A});return yield Ue(w.appConfig,k),A}catch(A){if(!qe(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const k=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Ue(w.appConfig,k)}else yield ni(w.appConfig);throw A}})).apply(this,arguments)}function L(w){return void 0!==w&&2===w.registrationStatus}function U(w){return 2===w.requestStatus&&!function z(w){const D=Date.now();return D<w.creationTime||w.creationTime+w.expiresIn<D+36e5}(w)}function ge(w){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:D})}function Je(){return(Je=(0,P.Z)(function*(w){const D=w,{installationEntry:A,registrationPromise:k}=yield un(D);return k?k.catch(console.error):Sn(D).catch(console.error),A.fid})).apply(this,arguments)}function sn(){return(sn=(0,P.Z)(function*(w,D=!1){const A=w;return yield Vt(A),(yield Sn(A,D)).token})).apply(this,arguments)}function Vt(w){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,P.Z)(function*(w){const{registrationPromise:D}=yield un(w);D&&(yield D)})).apply(this,arguments)}function Si(w){return je.create("missing-app-config-values",{valueName:w})}const ks="installations",Jt=w=>{const D=w.getProvider("app").getImmediate(),A=function Kt(w){if(!w||!w.options)throw Si("App Configuration");if(!w.name)throw Si("App Name");const D=["projectId","apiKey","appId"];for(const A of D)if(!w.options[A])throw Si(A);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(D);return{app:D,appConfig:A,heartbeatServiceProvider:(0,ie._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},ns=w=>{const D=w.getProvider("app").getImmediate(),A=(0,ie._getProvider)(D,ks).getImmediate();return{getId:()=>function Pe(w){return Je.apply(this,arguments)}(A),getToken:q=>function Ct(w){return sn.apply(this,arguments)}(A,q)}};(function da(){(0,ie._registerComponent)(new ae.wA(ks,Jt,"PUBLIC")),(0,ie._registerComponent)(new ae.wA("installations-internal",ns,"PRIVATE"))})(),(0,ie.registerVersion)(ue,j),(0,ie.registerVersion)(ue,j,"esm2017");const zr="@firebase/remote-config",Tn=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class fd{constructor(D,A,k,q){this.client=D,this.storage=A,this.storageCache=k,this.logger=q}isCachedDataFresh(D,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const k=Date.now()-A,q=k<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${k}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${q}.`),q}fetch(D){var A=this;return(0,P.Z)(function*(){const[k,q]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(q&&A.isCachedDataFresh(D.cacheMaxAgeMillis,k))return q;D.eTag=q&&q.eTag;const te=yield A.client.fetch(D),ve=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===te.status&&ve.push(A.storage.setLastSuccessfulFetchResponse(te)),yield Promise.all(ve),te})()}}function Dl(w=navigator){return w.languages&&w.languages[0]||w.language}class Il{constructor(D,A,k,q,te,ve){this.firebaseInstallations=D,this.sdkVersion=A,this.namespace=k,this.projectId=q,this.apiKey=te,this.appId=ve}fetch(D){var A=this;return(0,P.Z)(function*(){var k,q,te;const[ve,Se]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),lt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,gt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},et={sdk_version:A.sdkVersion,app_instance_id:ve,app_instance_id_token:Se,app_id:A.appId,language_code:Dl()},tn={method:"POST",headers:gt,body:JSON.stringify(et)},$n=fetch(lt,tn),Xs=new Promise((eo,ys)=>{D.signal.addEventListener(()=>{const Ur=new Error("The operation was aborted.");Ur.name="AbortError",ys(Ur)})});let $i;try{yield Promise.race([$n,Xs]),$i=yield $n}catch(eo){let ys="fetch-client-network";throw"AbortError"===(null===(k=eo)||void 0===k?void 0:k.name)&&(ys="fetch-timeout"),Tn.create(ys,{originalErrorMessage:null===(q=eo)||void 0===q?void 0:q.message})}let pt=$i.status;const Qr=$i.headers.get("ETag")||void 0;let Wi,Dr;if(200===$i.status){let eo;try{eo=yield $i.json()}catch(ys){throw Tn.create("fetch-client-parse",{originalErrorMessage:null===(te=ys)||void 0===te?void 0:te.message})}Wi=eo.entries,Dr=eo.state}if("INSTANCE_STATE_UNSPECIFIED"===Dr?pt=500:"NO_CHANGE"===Dr?pt=304:("NO_TEMPLATE"===Dr||"EMPTY_CONFIG"===Dr)&&(Wi={}),304!==pt&&200!==pt)throw Tn.create("fetch-status",{httpStatus:pt});return{status:pt,eTag:Qr,config:Wi}})()}}class Uh{constructor(D,A){this.client=D,this.storage=A}fetch(D){var A=this;return(0,P.Z)(function*(){const k=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(D,k)})()}attemptFetch(D,{throttleEndTimeMillis:A,backoffCount:k}){var q=this;return(0,P.Z)(function*(){yield function Rn(w,D){return new Promise((A,k)=>{const q=Math.max(D-Date.now(),0),te=setTimeout(A,q);w.addEventListener(()=>{clearTimeout(te),k(Tn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,A);try{const te=yield q.client.fetch(D);return yield q.storage.deleteThrottleMetadata(),te}catch(te){if(!function Vu(w){if(!(w instanceof ne.ZR&&w.customData))return!1;const D=Number(w.customData.httpStatus);return 429===D||500===D||503===D||504===D}(te))throw te;const ve={throttleEndTimeMillis:Date.now()+(0,ne.$s)(k),backoffCount:k+1};return yield q.storage.setThrottleMetadata(ve),q.attemptFetch(D,ve)}})()}}class bl{constructor(D,A,k,q,te){this.app=D,this._client=A,this._storageCache=k,this._storage=q,this._logger=te,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Tl(w,D){var A;const k=w.target.error||void 0;return Tn.create(D,{originalErrorMessage:k&&(null===(A=k)||void 0===A?void 0:A.message)})}const Ni="app_namespace_store";class $h{constructor(D,A,k,q=function Hh(){return new Promise((w,D)=>{var A;try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=q=>{D(Tl(q,"storage-open"))},k.onsuccess=q=>{w(q.target.result)},k.onupgradeneeded=q=>{0===q.oldVersion&&q.target.result.createObjectStore(Ni,{keyPath:"compositeKey"})}}catch(k){D(Tn.create("storage-open",{originalErrorMessage:null===(A=k)||void 0===A?void 0:A.message}))}})}()){this.appId=D,this.appName=A,this.namespace=k,this.openDbPromise=q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var A=this;return(0,P.Z)(function*(){const k=yield A.openDbPromise;return new Promise((q,te)=>{var ve;const Ge=k.transaction([Ni],"readonly").objectStore(Ni),lt=A.createCompositeKey(D);try{const gt=Ge.get(lt);gt.onerror=et=>{te(Tl(et,"storage-get"))},gt.onsuccess=et=>{const tn=et.target.result;q(tn?tn.value:void 0)}}catch(gt){te(Tn.create("storage-get",{originalErrorMessage:null===(ve=gt)||void 0===ve?void 0:ve.message}))}})})()}set(D,A){var k=this;return(0,P.Z)(function*(){const q=yield k.openDbPromise;return new Promise((te,ve)=>{var Se;const lt=q.transaction([Ni],"readwrite").objectStore(Ni),gt=k.createCompositeKey(D);try{const et=lt.put({compositeKey:gt,value:A});et.onerror=tn=>{ve(Tl(tn,"storage-set"))},et.onsuccess=()=>{te()}}catch(et){ve(Tn.create("storage-set",{originalErrorMessage:null===(Se=et)||void 0===Se?void 0:Se.message}))}})})()}delete(D){var A=this;return(0,P.Z)(function*(){const k=yield A.openDbPromise;return new Promise((q,te)=>{var ve;const Ge=k.transaction([Ni],"readwrite").objectStore(Ni),lt=A.createCompositeKey(D);try{const gt=Ge.delete(lt);gt.onerror=et=>{te(Tl(et,"storage-delete"))},gt.onsuccess=()=>{q()}}catch(gt){te(Tn.create("storage-delete",{originalErrorMessage:null===(ve=gt)||void 0===ve?void 0:ve.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Bu{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,P.Z)(function*(){const A=D.storage.getLastFetchStatus(),k=D.storage.getLastSuccessfulFetchTimestampMillis(),q=D.storage.getActiveConfig(),te=yield A;te&&(D.lastFetchStatus=te);const ve=yield k;ve&&(D.lastSuccessfulFetchTimestampMillis=ve);const Se=yield q;Se&&(D.activeConfig=Se)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function pa(){return pd.apply(this,arguments)}function pd(){return(pd=(0,P.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}!function Oi(){(0,ie._registerComponent)(new ae.wA("remote-config",function w(D,{instanceIdentifier:A}){const k=D.getProvider("app").getImmediate(),q=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Tn.create("registration-window");if(!(0,ne.hl)())throw Tn.create("indexed-db-unavailable");const{projectId:te,apiKey:ve,appId:Se}=k.options;if(!te)throw Tn.create("registration-project-id");if(!ve)throw Tn.create("registration-api-key");if(!Se)throw Tn.create("registration-app-id");const Ge=new $h(Se,k.name,A=A||"firebase"),lt=new Bu(Ge),gt=new oe.Yd(zr);gt.logLevel=oe.in.ERROR;const et=new Il(q,ie.SDK_VERSION,A,te,ve,Se),tn=new Uh(et,Ge),$n=new fd(tn,Ge,lt,gt),Xs=new bl(k,$n,lt,Ge,gt);return function jn(w){const D=(0,ne.m9)(w);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Xs),Xs},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(zr,"0.3.12"),(0,ie.registerVersion)(zr,"0.3.12","esm2017")}();const Zr="/firebase-messaging-sw.js",si="/firebase-cloud-messaging-push-scope",oi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",mo="google.c.a.c_id",ga="google.c.a.c_l",Al="google.c.a.ts",gd="google.c.a.e";var ai=(()=>{return(w=ai||(ai={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",ai;var w})();function yr(w){const D=new Uint8Array(w);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function hr(w){const A=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),k=atob(A),q=new Uint8Array(k.length);for(let te=0;te<k.length;++te)q[te]=k.charCodeAt(te);return q}const Fs="fcm_token_details_db",qn="fcm_token_object_Store";function md(w){return _d.apply(this,arguments)}function _d(){return _d=(0,P.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(te=>te.name).includes(Fs))return null;let D=null;return(yield(0,le.X3)(Fs,5,{upgrade:(k=(0,P.Z)(function*(q,te,ve,Se){var Ge;if(te<2||!q.objectStoreNames.contains(qn))return;const lt=Se.objectStore(qn),gt=yield lt.index("fcmSenderId").get(w);if(yield lt.clear(),gt)if(2===te){const et=gt;if(!et.auth||!et.p256dh||!et.endpoint)return;D={token:et.fcmToken,createTime:null!==(Ge=et.createTime)&&void 0!==Ge?Ge:Date.now(),subscriptionOptions:{auth:et.auth,p256dh:et.p256dh,endpoint:et.endpoint,swScope:et.swScope,vapidKey:"string"==typeof et.vapidKey?et.vapidKey:yr(et.vapidKey)}}}else if(3===te){const et=gt;D={token:et.fcmToken,createTime:et.createTime,subscriptionOptions:{auth:yr(et.auth),p256dh:yr(et.p256dh),endpoint:et.endpoint,swScope:et.swScope,vapidKey:yr(et.vapidKey)}}}else if(4===te){const et=gt;D={token:et.fcmToken,createTime:et.createTime,subscriptionOptions:{auth:yr(et.auth),p256dh:yr(et.p256dh),endpoint:et.endpoint,swScope:et.swScope,vapidKey:yr(et.vapidKey)}}}}),function(te,ve,Se,Ge){return k.apply(this,arguments)})})).close(),yield(0,le.Lj)(Fs),yield(0,le.Lj)("fcm_vapid_details_db"),yield(0,le.Lj)("undefined"),cn(D)?D:null;var k}),_d.apply(this,arguments)}function cn(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:D}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const vr="firebase-messaging-store";let nr=null;function _a(){return nr||(nr=(0,le.X3)("firebase-messaging-database",1,{upgrade:(w,D)=>{0===D&&w.createObjectStore(vr)}})),nr}function Ls(w){return li.apply(this,arguments)}function li(){return(li=(0,P.Z)(function*(w){const D=kr(w),k=yield(yield _a()).transaction(vr).objectStore(vr).get(D);if(k)return k;{const q=yield md(w.appConfig.senderId);if(q)return yield Mt(w,q),q}})).apply(this,arguments)}function Mt(w,D){return ya.apply(this,arguments)}function ya(){return(ya=(0,P.Z)(function*(w,D){const A=kr(w),q=(yield _a()).transaction(vr,"readwrite");return yield q.objectStore(vr).put(D,A),yield q.done,D})).apply(this,arguments)}function as(w){return va.apply(this,arguments)}function va(){return(va=(0,P.Z)(function*(w){const D=kr(w),k=(yield _a()).transaction(vr,"readwrite");yield k.objectStore(vr).delete(D),yield k.done})).apply(this,arguments)}function kr({appConfig:w}){return w.appId}const on=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ft(w,D){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,P.Z)(function*(w,D){var A;const k=yield Ml(w),q=we(D),te={method:"POST",headers:k,body:JSON.stringify(q)};let ve;try{ve=yield(yield fetch(ui(w.appConfig),te)).json()}catch(Se){throw on.create("token-subscribe-failed",{errorInfo:null===(A=Se)||void 0===A?void 0:A.toString()})}if(ve.error)throw on.create("token-subscribe-failed",{errorInfo:ve.error.message});if(!ve.token)throw on.create("token-subscribe-no-token");return ve.token})).apply(this,arguments)}function vd(w,D){return wa.apply(this,arguments)}function wa(){return(wa=(0,P.Z)(function*(w,D){var A;const k=yield Ml(w),q=we(D.subscriptionOptions),te={method:"PATCH",headers:k,body:JSON.stringify(q)};let ve;try{ve=yield(yield fetch(`${ui(w.appConfig)}/${D.token}`,te)).json()}catch(Se){throw on.create("token-update-failed",{errorInfo:null===(A=Se)||void 0===A?void 0:A.toString()})}if(ve.error)throw on.create("token-update-failed",{errorInfo:ve.error.message});if(!ve.token)throw on.create("token-update-no-token");return ve.token})).apply(this,arguments)}function Da(w,D){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,P.Z)(function*(w,D){var A;const q={method:"DELETE",headers:yield Ml(w)};try{const ve=yield(yield fetch(`${ui(w.appConfig)}/${D}`,q)).json();if(ve.error)throw on.create("token-unsubscribe-failed",{errorInfo:ve.error.message})}catch(te){throw on.create("token-unsubscribe-failed",{errorInfo:null===(A=te)||void 0===A?void 0:A.toString()})}})).apply(this,arguments)}function ui({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function Ml(w){return _o.apply(this,arguments)}function _o(){return(_o=(0,P.Z)(function*({appConfig:w,installations:D}){const A=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function we({p256dh:w,auth:D,endpoint:A,vapidKey:k}){const q={web:{endpoint:A,auth:D,p256dh:w}};return k!==oi&&(q.web.applicationPubKey=k),q}const Dt=6048e5;function Ia(w){return ba.apply(this,arguments)}function ba(){return(ba=(0,P.Z)(function*(w){const D=yield Rl(w.swRegistration,w.vapidKey),A={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:D.endpoint,auth:yr(D.getKey("auth")),p256dh:yr(D.getKey("p256dh"))},k=yield Ls(w.firebaseDependencies);if(k){if(Wu(k.subscriptionOptions,A))return Date.now()>=k.createTime+Dt?Vs(w,{token:k.token,createTime:Date.now(),subscriptionOptions:A}):k.token;try{yield Da(w.firebaseDependencies,k.token)}catch(q){console.warn(q)}return yo(w.firebaseDependencies,A)}return yo(w.firebaseDependencies,A)})).apply(this,arguments)}function dn(w){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,P.Z)(function*(w){const D=yield Ls(w.firebaseDependencies);D&&(yield Da(w.firebaseDependencies,D.token),yield as(w.firebaseDependencies));const A=yield w.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()})).apply(this,arguments)}function Vs(w,D){return Er.apply(this,arguments)}function Er(){return(Er=(0,P.Z)(function*(w,D){try{const A=yield vd(w.firebaseDependencies,D),k=Object.assign(Object.assign({},D),{token:A,createTime:Date.now()});return yield Mt(w.firebaseDependencies,k),A}catch(A){throw yield dn(w),A}})).apply(this,arguments)}function yo(w,D){return vo.apply(this,arguments)}function vo(){return(vo=(0,P.Z)(function*(w,D){const k={token:yield ft(w,D),createTime:Date.now(),subscriptionOptions:D};return yield Mt(w,k),k.token})).apply(this,arguments)}function Rl(w,D){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,P.Z)(function*(w,D){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:hr(D)})})).apply(this,arguments)}function Wu(w,D){return D.vapidKey===w.vapidKey&&D.endpoint===w.endpoint&&D.auth===w.auth&&D.p256dh===w.p256dh}function Eo(w){const D={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function hn(w,D){if(!D.notification)return;w.notification={};const A=D.notification.title;A&&(w.notification.title=A);const k=D.notification.body;k&&(w.notification.body=k);const q=D.notification.image;q&&(w.notification.image=q)}(D,w),function qr(w,D){!D.data||(w.data=D.data)}(D,w),function Nl(w,D){var A,k,q,te,ve;if(!(D.fcmOptions||null!==(A=D.notification)&&void 0!==A&&A.click_action))return;w.fcmOptions={};const Se=null!==(q=null===(k=D.fcmOptions)||void 0===k?void 0:k.link)&&void 0!==q?q:null===(te=D.notification)||void 0===te?void 0:te.click_action;Se&&(w.fcmOptions.link=Se);const Ge=null===(ve=D.fcmOptions)||void 0===ve?void 0:ve.analytics_label;Ge&&(w.fcmOptions.analyticsLabel=Ge)}(D,w),D}function ls(w){return"object"==typeof w&&!!w&&mo in w}function ci(w,D){const A=[];for(let k=0;k<w.length;k++)A.push(w.charAt(k)),k<D.length&&A.push(D.charAt(k));return A.join("")}function Co(w){return on.create("missing-app-config-values",{valueName:w})}ci("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ci("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Gh{constructor(D,A,k){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const q=function Wh(w){if(!w||!w.options)throw Co("App Configuration Object");if(!w.name)throw Co("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:A}=w;for(const k of D)if(!A[k])throw Co(k);return{appName:w.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:q,installations:A,analyticsProvider:k}}_delete(){return Promise.resolve()}}function Ol(w){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,P.Z)(function*(w){var D;try{w.swRegistration=yield navigator.serviceWorker.register(Zr,{scope:si}),w.swRegistration.update().catch(()=>{})}catch(A){throw on.create("failed-service-worker-registration",{browserErrorMessage:null===(D=A)||void 0===D?void 0:D.message})}})).apply(this,arguments)}function wo(w,D){return xl.apply(this,arguments)}function xl(){return(xl=(0,P.Z)(function*(w,D){if(!D&&!w.swRegistration&&(yield Ol(w)),D||!w.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw on.create("invalid-sw-registration");w.swRegistration=D}})).apply(this,arguments)}function Do(w,D){return kl.apply(this,arguments)}function kl(){return(kl=(0,P.Z)(function*(w,D){D?w.vapidKey=D:w.vapidKey||(w.vapidKey=oi)})).apply(this,arguments)}function Ma(){return(Ma=(0,P.Z)(function*(w,D){if(!navigator)throw on.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw on.create("permission-blocked");return yield Do(w,D?.vapidKey),yield wo(w,D?.serviceWorkerRegistration),Ia(w)})).apply(this,arguments)}function Fl(w,D,A){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,P.Z)(function*(w,D,A){const k=Vl(D);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(k,{message_id:A[mo],message_name:A[ga],message_time:A[Al],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Vl(w){switch(w){case ai.NOTIFICATION_CLICKED:return"notification_open";case ai.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function us(){return(us=(0,P.Z)(function*(w,D){const A=D.data;if(!A.isFirebaseMessaging)return;w.onMessageHandler&&A.messageType===ai.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(Eo(A)):w.onMessageHandler.next(Eo(A)));const k=A.data;ls(k)&&"1"===k[gd]&&(yield Fl(w,A.messageType,k))})).apply(this,arguments)}const cs="@firebase/messaging",Pn=w=>{const D=new Gh(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function Gu(w,D){return us.apply(this,arguments)}(D,A)),D},fr=w=>{const D=w.getProvider("messaging").getImmediate();return{getToken:k=>function Sa(w,D){return Ma.apply(this,arguments)}(D,k)}};function Ul(){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,P.Z)(function*(){try{yield(0,ne.eu)()}catch{return!1}return typeof window<"u"&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Yt(){(0,ie._registerComponent)(new ae.wA("messaging",Pn,"PUBLIC")),(0,ie._registerComponent)(new ae.wA("messaging-internal",fr,"PRIVATE")),(0,ie.registerVersion)(cs,"0.9.17"),(0,ie.registerVersion)(cs,"0.9.17","esm2017")}();const Bs="analytics",Ku="firebase_id",hs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Oa="https://www.googletagmanager.com/gtag/js",fn=new oe.Yd("@firebase/analytics");function xa(w){return Promise.all(w.map(D=>D.catch(A=>A)))}function ka(w,D){const A=document.createElement("script");A.src=`${Oa}?l=${w}&id=${D}`,A.async=!0,document.head.appendChild(A)}function Ed(w,D,A,k,q,te){return js.apply(this,arguments)}function js(){return(js=(0,P.Z)(function*(w,D,A,k,q,te){const ve=k[q];try{if(ve)yield D[ve];else{const Ge=(yield xa(A)).find(lt=>lt.measurementId===q);Ge&&(yield D[Ge.appId])}}catch(Se){fn.error(Se)}w("config",q,te)})).apply(this,arguments)}function Hs(w,D,A,k,q){return fs.apply(this,arguments)}function fs(){return(fs=(0,P.Z)(function*(w,D,A,k,q){try{let te=[];if(q&&q.send_to){let ve=q.send_to;Array.isArray(ve)||(ve=[ve]);const Se=yield xa(A);for(const Ge of ve){const lt=Se.find(et=>et.measurementId===Ge),gt=lt&&D[lt.appId];if(!gt){te=[];break}te.push(gt)}}0===te.length&&(te=Object.values(D)),yield Promise.all(te),w("event",k,q||{})}catch(te){fn.error(te)}})).apply(this,arguments)}function Qu(){const w=window.document.getElementsByTagName("script");for(const D of Object.values(w))if(D.src&&D.src.includes(Oa))return D;return null}const kn=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ao=new class Kr{constructor(D={},A=1e3){this.throttleMetadata=D,this.intervalMillis=A}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,A){this.throttleMetadata[D]=A}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Xu(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function So(w){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,P.Z)(function*(w){var D;const{appId:A,apiKey:k}=w,q={method:"GET",headers:Xu(k)},te=hs.replace("{app-id}",A),ve=yield fetch(te,q);if(200!==ve.status&&304!==ve.status){let Se="";try{const Ge=yield ve.json();null!==(D=Ge.error)&&void 0!==D&&D.message&&(Se=Ge.error.message)}catch{}throw kn.create("config-fetch-failed",{httpStatus:ve.status,responseMessage:Se})}return ve.json()})).apply(this,arguments)}function gn(w){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,P.Z)(function*(w,D=Ao,A){const{appId:k,apiKey:q,measurementId:te}=w.options;if(!k)throw kn.create("no-app-id");if(!q){if(te)return{measurementId:te,appId:k};throw kn.create("no-api-key")}const ve=D.getThrottleMetadata(k)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Se=new Ua;return setTimeout((0,P.Z)(function*(){Se.abort()}),void 0!==A?A:6e4),La({appId:k,apiKey:q,measurementId:te},ve,Se,D)})).apply(this,arguments)}function La(w,D,A){return ps.apply(this,arguments)}function ps(){return(ps=(0,P.Z)(function*(w,{throttleEndTimeMillis:D,backoffCount:A},k,q=Ao){var te,ve;const{appId:Se,measurementId:Ge}=w;try{yield Mo(k,D)}catch(lt){if(Ge)return fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ge} provided in the "measurementId" field in the local Firebase config. [${null===(te=lt)||void 0===te?void 0:te.message}]`),{appId:Se,measurementId:Ge};throw lt}try{const lt=yield So(w);return q.deleteThrottleMetadata(Se),lt}catch(lt){const gt=lt;if(!Va(gt)){if(q.deleteThrottleMetadata(Se),Ge)return fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ge} provided in the "measurementId" field in the local Firebase config. [${gt?.message}]`),{appId:Se,measurementId:Ge};throw lt}const et=503===Number(null===(ve=gt?.customData)||void 0===ve?void 0:ve.httpStatus)?(0,ne.$s)(A,q.intervalMillis,30):(0,ne.$s)(A,q.intervalMillis),tn={throttleEndTimeMillis:Date.now()+et,backoffCount:A+1};return q.setThrottleMetadata(Se,tn),fn.debug(`Calling attemptFetch again in ${et} millis`),La(w,tn,k,q)}})).apply(this,arguments)}function Mo(w,D){return new Promise((A,k)=>{const q=Math.max(D-Date.now(),0),te=setTimeout(A,q);w.addEventListener(()=>{clearTimeout(te),k(kn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function Va(w){if(!(w instanceof ne.ZR&&w.customData))return!1;const D=Number(w.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Ua{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let Fi,Po;function Li(){return(Li=(0,P.Z)(function*(w,D,A,k,q){if(q&&q.global)w("event",A,k);else{const te=yield D;w("event",A,Object.assign(Object.assign({},k),{send_to:te}))}})).apply(this,arguments)}function ms(w){Po=w}function Wl(w){Fi=w}function hi(){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,P.Z)(function*(){var w;if(!(0,ne.hl)())return fn.warn(kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(D){return fn.warn(kn.create("indexeddb-unavailable",{errorInfo:null===(w=D)||void 0===w?void 0:w.toString()}).message),!1}return!0})).apply(this,arguments)}function Gs(){return(Gs=(0,P.Z)(function*(w,D,A,k,q,te,ve){var Se;const Ge=gn(w);Ge.then($n=>{A[$n.measurementId]=$n.appId,w.options.measurementId&&$n.measurementId!==w.options.measurementId&&fn.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${$n.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch($n=>fn.error($n)),D.push(Ge);const lt=hi().then($n=>{if($n)return k.getId()}),[gt,et]=yield Promise.all([Ge,lt]);Qu()||ka(te,gt.measurementId),Po&&(q("consent","default",Po),ms(void 0)),q("js",new Date);const tn=null!==(Se=ve?.config)&&void 0!==Se?Se:{};return tn.origin="firebase",tn.update=!0,null!=et&&(tn[Ku]=et),q("config",gt.measurementId,tn),Fi&&(q("set",Fi),Wl(void 0)),gt.measurementId})).apply(this,arguments)}class $a{constructor(D){this.app=D}_delete(){return delete pr[this.app.options.appId],Promise.resolve()}}let pr={},Vi=[];const zs={};let qs,_s,Zs="dataLayer",No=!1;function hg(w,D,A){!function zh(){const w=[];if((0,ne.ru)()&&w.push("This is a browser extension environment."),(0,ne.zI)()||w.push("Cookies are not available."),w.length>0){const D=w.map((k,q)=>`(${q+1}) ${k}`).join(" "),A=kn.create("invalid-analytics-context",{errorInfo:D});fn.warn(A.message)}}();const k=w.options.appId;if(!k)throw kn.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw kn.create("no-api-key");fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=pr[k])throw kn.create("already-exists",{id:k});if(!No){!function Yu(w){let D=[];Array.isArray(window[w])?D=window[w]:window[w]=D}(Zs);const{wrappedGtag:te,gtagCore:ve}=function Io(w,D,A,k,q){let te=function(...ve){window[k].push(arguments)};return window[q]&&"function"==typeof window[q]&&(te=window[q]),window[q]=function Fa(w,D,A,k){function te(){return(te=(0,P.Z)(function*(ve,Se,Ge){try{"event"===ve?yield Hs(w,D,A,Se,Ge):"config"===ve?yield Ed(w,D,A,k,Se,Ge):"consent"===ve?w("consent","update",Ge):w("set",Se)}catch(lt){fn.error(lt)}})).apply(this,arguments)}return function q(ve,Se,Ge){return te.apply(this,arguments)}}(te,w,D,A),{gtagCore:te,wrappedGtag:window[q]}}(pr,Vi,zs,Zs,"gtag");_s=te,qs=ve,No=!0}return pr[k]=function Ws(w,D,A,k,q,te,ve){return Gs.apply(this,arguments)}(w,Vi,zs,D,qs,Zs,A),new $a(w)}function pg(){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,P.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}const Xe="@firebase/analytics";!function en(){(0,ie._registerComponent)(new ae.wA(Bs,(D,{options:A})=>hg(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,ie._registerComponent)(new ae.wA("analytics-internal",function w(D){try{const A=D.getProvider(Bs).getImmediate();return{logEvent:(k,q,te)=>function Xt(w,D,A,k){w=(0,ne.m9)(w),function ec(w,D,A,k,q){return Li.apply(this,arguments)}(_s,pr[w.app.options.appId],D,A,k).catch(q=>fn.error(q))}(A,k,q,te)}}catch(A){throw kn.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,ie.registerVersion)(Xe,"0.8.1"),(0,ie.registerVersion)(Xe,"0.8.1","esm2017")}();var Lr=N(4408),Kn=N(7565);const Ga=new class Ui extends Kn.v{}(class Oo extends Lr.o{constructor(D,A){super(D,A),this.scheduler=D,this.work=A}schedule(D,A=0){return A>0?super.schedule(D,A):(this.delay=A,this.state=D,this.scheduler.flush(this),this)}execute(D,A){return A>0||this.closed?super.execute(D,A):this._execute(D,A)}requestAsyncId(D,A,k=0){return null!=k&&k>0||null==k&&this.delay>0?super.requestAsyncId(D,A,k):(D.flush(this),0)}});var zl=N(4986),xo=N(8505),Ks=N(9468),fi=N(5363);const Ye=new f.GfV("7.4.1"),ko="__angularfire_symbol__analyticsIsSupportedValue",Bi="__angularfire_symbol__analyticsIsSupported",Fo="__angularfire_symbol__remoteConfigIsSupportedValue",Ys="__angularfire_symbol__remoteConfigIsSupported",mn="__angularfire_symbol__messagingIsSupportedValue",Zl="__angularfire_symbol__messagingIsSupported";function Lo(w,D,A){if(D){if(1===D.length)return D[0];const te=D.filter(ve=>ve.app===A);if(1===te.length)return te[0]}return A.container.getProvider(w).getImmediate({optional:!0})}globalThis[Bi]||(globalThis[Bi]=pg().then(w=>globalThis[ko]=w).catch(()=>globalThis[ko]=!1)),globalThis[Zl]||(globalThis[Zl]=Ul().then(w=>globalThis[mn]=w).catch(()=>globalThis[mn]=!1)),globalThis[Ys]||(globalThis[Ys]=pa().then(w=>globalThis[Fo]=w).catch(()=>globalThis[Fo]=!1));const ji=(w,D)=>{const A=D?[D]:(0,Q.C6)(),k=[];return A.forEach(q=>{q.container.getProvider(w).instances.forEach(ve=>{k.includes(ve)||k.push(ve)})}),k};function pi(){}class Vr{constructor(D,A=Ga){this.zone=D,this.delegate=A}now(){return this.delegate.now()}schedule(D,A,k){const q=this.zone;return this.delegate.schedule(function(ve){q.runGuarded(()=>{D.apply(this,[ve])})},A,k)}}class Vo{constructor(D){this.zone=D,this.task=null}call(D,A){const k=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pi,{},pi,pi)),A.pipe((0,xo.b)({next:k,complete:k,error:k})).subscribe(D).add(k)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Js=(()=>{class w{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new Vr(Zone.current)),this.insideAngular=A.run(()=>new Vr(Zone.current,zl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(A){return new(A||w)(f.LFG(f.R0b))},w.\u0275prov=f.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function gr(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function mi(w){return gr(),function _n(w){return function(A){return(A=A.lift(new Vo(w.ngZone))).pipe((0,Ks.R)(w.outsideAngular),(0,fi.Q)(w.insideAngular))}}(gr())(w)}},2090:(Ze,ye,N)=>{"use strict";N.d(ye,{$s:()=>Ce,BH:()=>Rt,DV:()=>Nr,Dv:()=>Ht,GJ:()=>Qn,L:()=>le,LL:()=>rn,Pz:()=>nt,Sg:()=>wt,UG:()=>_e,UI:()=>mr,US:()=>ae,Wj:()=>Jn,Wl:()=>_t,Yr:()=>pe,ZB:()=>H,ZR:()=>Pt,aH:()=>Me,b$:()=>de,cI:()=>Vn,dS:()=>ri,eu:()=>Fe,g5:()=>P,gK:()=>pn,gQ:()=>Wr,h$:()=>oe,hl:()=>xe,hu:()=>Q,jU:()=>We,lb:()=>ht,m9:()=>at,ne:()=>un,p$:()=>j,pd:()=>_r,r3:()=>Ai,ru:()=>fe,tV:()=>ue,uI:()=>Te,ug:()=>kt,vZ:()=>es,w1:()=>qe,w9:()=>zn,xO:()=>ni,xb:()=>cr,z$:()=>Ne,zI:()=>B,zd:()=>An});const Q=function(L,U){if(!L)throw P(U)},P=function(L){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+L)},ie=function(L){const U=[];let z=0;for(let ge=0;ge<L.length;ge++){let ee=L.charCodeAt(ge);ee<128?U[z++]=ee:ee<2048?(U[z++]=ee>>6|192,U[z++]=63&ee|128):55296==(64512&ee)&&ge+1<L.length&&56320==(64512&L.charCodeAt(ge+1))?(ee=65536+((1023&ee)<<10)+(1023&L.charCodeAt(++ge)),U[z++]=ee>>18|240,U[z++]=ee>>12&63|128,U[z++]=ee>>6&63|128,U[z++]=63&ee|128):(U[z++]=ee>>12|224,U[z++]=ee>>6&63|128,U[z++]=63&ee|128)}return U},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(L,U){if(!Array.isArray(L))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,ge=[];for(let ee=0;ee<L.length;ee+=3){const Pe=L[ee],Je=ee+1<L.length,Ct=Je?L[ee+1]:0,sn=ee+2<L.length,Vt=sn?L[ee+2]:0;let Ke=(15&Ct)<<2|Vt>>6,St=63&Vt;sn||(St=64,Je||(Ke=64)),ge.push(z[Pe>>2],z[(3&Pe)<<4|Ct>>4],z[Ke],z[St])}return ge.join("")},encodeString(L,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(L):this.encodeByteArray(ie(L),U)},decodeString(L,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(L):function(L){const U=[];let z=0,ge=0;for(;z<L.length;){const ee=L[z++];if(ee<128)U[ge++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const Pe=L[z++];U[ge++]=String.fromCharCode((31&ee)<<6|63&Pe)}else if(ee>239&&ee<365){const sn=((7&ee)<<18|(63&L[z++])<<12|(63&L[z++])<<6|63&L[z++])-65536;U[ge++]=String.fromCharCode(55296+(sn>>10)),U[ge++]=String.fromCharCode(56320+(1023&sn))}else{const Pe=L[z++],Je=L[z++];U[ge++]=String.fromCharCode((15&ee)<<12|(63&Pe)<<6|63&Je)}}return U.join("")}(this.decodeStringToByteArray(L,U))},decodeStringToByteArray(L,U){this.init_();const z=U?this.charToByteMapWebSafe_:this.charToByteMap_,ge=[];for(let ee=0;ee<L.length;){const Pe=z[L.charAt(ee++)],Ct=ee<L.length?z[L.charAt(ee)]:0;++ee;const Vt=ee<L.length?z[L.charAt(ee)]:64;++ee;const Ie=ee<L.length?z[L.charAt(ee)]:64;if(++ee,null==Pe||null==Ct||null==Vt||null==Ie)throw Error();ge.push(Pe<<2|Ct>>4),64!==Vt&&(ge.push(Ct<<4&240|Vt>>2),64!==Ie&&ge.push(Vt<<6&192|Ie))}return ge},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let L=0;L<this.ENCODED_VALS.length;L++)this.byteToCharMap_[L]=this.ENCODED_VALS.charAt(L),this.charToByteMap_[this.byteToCharMap_[L]]=L,this.byteToCharMapWebSafe_[L]=this.ENCODED_VALS_WEBSAFE.charAt(L),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[L]]=L,L>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(L)]=L,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(L)]=L)}}},oe=function(L){const U=ie(L);return ae.encodeByteArray(U,!0)},le=function(L){return oe(L).replace(/\./g,"")},ue=function(L){try{return ae.decodeString(L,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function j(L){return H(void 0,L)}function H(L,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===L&&(L={});break;case Array:L=[];break;default:return U}for(const z in U)!U.hasOwnProperty(z)||!Z(z)||(L[z]=H(L[z],U[z]));return L}function Z(L){return"__proto__"!==L}function Ne(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Te(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function _e(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function We(){return"object"==typeof self&&self.self===self}function fe(){const L="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof L&&void 0!==L.id}function de(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function qe(){const L=Ne();return L.indexOf("MSIE ")>=0||L.indexOf("Trident/")>=0}function pe(){return!1}function xe(){return"object"==typeof indexedDB}function Fe(){return new Promise((L,U)=>{try{let z=!0;const ge="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(ge);ee.onsuccess=()=>{ee.result.close(),z||self.indexedDB.deleteDatabase(ge),L(!0)},ee.onupgradeneeded=()=>{z=!1},ee.onerror=()=>{var Pe;U((null===(Pe=ee.error)||void 0===Pe?void 0:Pe.message)||"")}}catch(z){U(z)}})}function B(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const X=()=>function he(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u")return;const L=process.env.__FIREBASE_DEFAULTS__,U=process.env.__FIREBASE_DEFAULTS_PATH__;if(L)return U&&console.warn("Values were provided for both __FIREBASE_DEFAULTS__ and __FIREBASE_DEFAULTS_PATH__. __FIREBASE_DEFAULTS_PATH__ will be ignored."),JSON.parse(L);if(U)try{return N(9163)(U)}catch{console.warn(`Unable to read defaults from file provided to __FIREBASE_DEFAULTS_PATH__: ${U}`)}})()||(()=>{if(typeof document>"u")return;const L=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/),U=L&&ue(L[1]);return U&&JSON.parse(U)})(),Me=()=>{var L;return null===(L=X())||void 0===L?void 0:L.config},nt=L=>{var U;return null===(U=X())||void 0===U?void 0:U[`_${L}`]};class Rt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,z)=>{this.resolve=U,this.reject=z})}wrapCallback(U){return(z,ge)=>{z?this.reject(z):this.resolve(ge),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(z):U(z,ge))}}}function wt(L,U){if(L.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ge=U||"demo-project",ee=L.iat||0,Pe=L.sub||L.user_id;if(!Pe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Je=Object.assign({iss:`https://securetoken.google.com/${ge}`,aud:ge,iat:ee,exp:ee+3600,auth_time:ee,sub:Pe,user_id:Pe,firebase:{sign_in_provider:"custom",identities:{}}},L);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(Je)),""].join(".")}class Pt extends Error{constructor(U,z,ge){super(z),this.code=U,this.customData=ge,this.name="FirebaseError",Object.setPrototypeOf(this,Pt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rn.prototype.create)}}class rn{constructor(U,z,ge){this.service=U,this.serviceName=z,this.errors=ge}create(U,...z){const ge=z[0]||{},ee=`${this.service}/${U}`,Pe=this.errors[U],Je=Pe?function Nt(L,U){return L.replace(Ot,(z,ge)=>{const ee=U[ge];return null!=ee?String(ee):`<${ge}?>`})}(Pe,ge):"Error";return new Pt(ee,`${this.serviceName}: ${Je} (${ee}).`,ge)}}const Ot=/\{\$([^}]+)}/g;function Vn(L){return JSON.parse(L)}function _t(L){return JSON.stringify(L)}const xt=function(L){let U={},z={},ge={},ee="";try{const Pe=L.split(".");U=Vn(ue(Pe[0])||""),z=Vn(ue(Pe[1])||""),ee=Pe[2],ge=z.d||{},delete z.d}catch{}return{header:U,claims:z,data:ge,signature:ee}},zn=function(L){const z=xt(L).claims;return!!z&&"object"==typeof z&&z.hasOwnProperty("iat")},Qn=function(L){const U=xt(L).claims;return"object"==typeof U&&!0===U.admin};function Ai(L,U){return Object.prototype.hasOwnProperty.call(L,U)}function Nr(L,U){if(Object.prototype.hasOwnProperty.call(L,U))return L[U]}function cr(L){for(const U in L)if(Object.prototype.hasOwnProperty.call(L,U))return!1;return!0}function mr(L,U,z){const ge={};for(const ee in L)Object.prototype.hasOwnProperty.call(L,ee)&&(ge[ee]=U.call(z,L[ee],ee,L));return ge}function es(L,U){if(L===U)return!0;const z=Object.keys(L),ge=Object.keys(U);for(const ee of z){if(!ge.includes(ee))return!1;const Pe=L[ee],Je=U[ee];if(Ue(Pe)&&Ue(Je)){if(!es(Pe,Je))return!1}else if(Pe!==Je)return!1}for(const ee of ge)if(!z.includes(ee))return!1;return!0}function Ue(L){return null!==L&&"object"==typeof L}function ni(L){const U=[];for(const[z,ge]of Object.entries(L))Array.isArray(ge)?ge.forEach(ee=>{U.push(encodeURIComponent(z)+"="+encodeURIComponent(ee))}):U.push(encodeURIComponent(z)+"="+encodeURIComponent(ge));return U.length?"&"+U.join("&"):""}function An(L){const U={};return L.replace(/^\?/,"").split("&").forEach(ge=>{if(ge){const[ee,Pe]=ge.split("=");U[decodeURIComponent(ee)]=decodeURIComponent(Pe)}}),U}function _r(L){const U=L.indexOf("?");if(!U)return"";const z=L.indexOf("#",U);return L.substring(U,z>0?z:void 0)}class Wr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let U=1;U<this.blockSize;++U)this.pad_[U]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(U,z){z||(z=0);const ge=this.W_;if("string"==typeof U)for(let Ie=0;Ie<16;Ie++)ge[Ie]=U.charCodeAt(z)<<24|U.charCodeAt(z+1)<<16|U.charCodeAt(z+2)<<8|U.charCodeAt(z+3),z+=4;else for(let Ie=0;Ie<16;Ie++)ge[Ie]=U[z]<<24|U[z+1]<<16|U[z+2]<<8|U[z+3],z+=4;for(let Ie=16;Ie<80;Ie++){const Ke=ge[Ie-3]^ge[Ie-8]^ge[Ie-14]^ge[Ie-16];ge[Ie]=4294967295&(Ke<<1|Ke>>>31)}let Vt,Ut,ee=this.chain_[0],Pe=this.chain_[1],Je=this.chain_[2],Ct=this.chain_[3],sn=this.chain_[4];for(let Ie=0;Ie<80;Ie++){Ie<40?Ie<20?(Vt=Ct^Pe&(Je^Ct),Ut=1518500249):(Vt=Pe^Je^Ct,Ut=1859775393):Ie<60?(Vt=Pe&Je|Ct&(Pe|Je),Ut=2400959708):(Vt=Pe^Je^Ct,Ut=3395469782);const Ke=(ee<<5|ee>>>27)+Vt+sn+Ut+ge[Ie]&4294967295;sn=Ct,Ct=Je,Je=4294967295&(Pe<<30|Pe>>>2),Pe=ee,ee=Ke}this.chain_[0]=this.chain_[0]+ee&4294967295,this.chain_[1]=this.chain_[1]+Pe&4294967295,this.chain_[2]=this.chain_[2]+Je&4294967295,this.chain_[3]=this.chain_[3]+Ct&4294967295,this.chain_[4]=this.chain_[4]+sn&4294967295}update(U,z){if(null==U)return;void 0===z&&(z=U.length);const ge=z-this.blockSize;let ee=0;const Pe=this.buf_;let Je=this.inbuf_;for(;ee<z;){if(0===Je)for(;ee<=ge;)this.compress_(U,ee),ee+=this.blockSize;if("string"==typeof U){for(;ee<z;)if(Pe[Je]=U.charCodeAt(ee),++Je,++ee,Je===this.blockSize){this.compress_(Pe),Je=0;break}}else for(;ee<z;)if(Pe[Je]=U[ee],++Je,++ee,Je===this.blockSize){this.compress_(Pe),Je=0;break}}this.inbuf_=Je,this.total_+=z}digest(){const U=[];let z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ee=this.blockSize-1;ee>=56;ee--)this.buf_[ee]=255&z,z/=256;this.compress_(this.buf_);let ge=0;for(let ee=0;ee<5;ee++)for(let Pe=24;Pe>=0;Pe-=8)U[ge]=this.chain_[ee]>>Pe&255,++ge;return U}}function un(L,U){const z=new In(L,U);return z.subscribe.bind(z)}class In{constructor(U,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{U(this)}).catch(ge=>{this.error(ge)})}next(U){this.forEachObserver(z=>{z.next(U)})}error(U){this.forEachObserver(z=>{z.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,z,ge){let ee;if(void 0===U&&void 0===z&&void 0===ge)throw new Error("Missing Observer.");ee=function rt(L,U){if("object"!=typeof L||null===L)return!1;for(const z of U)if(z in L&&"function"==typeof L[z])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:z,complete:ge},void 0===ee.next&&(ee.next=ze),void 0===ee.error&&(ee.error=ze),void 0===ee.complete&&(ee.complete=ze);const Pe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch{}}),this.observers.push(ee),Pe}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,U)}sendOne(U,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{z(this.observers[U])}catch(ge){typeof console<"u"&&console.error&&console.error(ge)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ze(){}const Ht=function(L,U,z,ge){let ee;if(ge<U?ee="at least "+U:ge>z&&(ee=0===z?"none":"no more than "+z),ee)throw new Error(L+" failed: Was called with "+ge+(1===ge?" argument.":" arguments.")+" Expects "+ee+".")};function pn(L,U){return`${L} failed: ${U} argument `}function Jn(L,U,z,ge){if((!ge||z)&&"function"!=typeof z)throw new Error(pn(L,U)+"must be a valid function.")}function ht(L,U,z,ge){if((!ge||z)&&("object"!=typeof z||null===z))throw new Error(pn(L,U)+"must be a valid context object.")}const ri=function(L){const U=[];let z=0;for(let ge=0;ge<L.length;ge++){let ee=L.charCodeAt(ge);if(ee>=55296&&ee<=56319){const Pe=ee-55296;ge++,Q(ge<L.length,"Surrogate pair missing trail surrogate."),ee=65536+(Pe<<10)+(L.charCodeAt(ge)-56320)}ee<128?U[z++]=ee:ee<2048?(U[z++]=ee>>6|192,U[z++]=63&ee|128):ee<65536?(U[z++]=ee>>12|224,U[z++]=ee>>6&63|128,U[z++]=63&ee|128):(U[z++]=ee>>18|240,U[z++]=ee>>12&63|128,U[z++]=ee>>6&63|128,U[z++]=63&ee|128)}return U},kt=function(L){let U=0;for(let z=0;z<L.length;z++){const ge=L.charCodeAt(z);ge<128?U++:ge<2048?U+=2:ge>=55296&&ge<=56319?(U+=4,z++):U+=3}return U};function Ce(L,U=1e3,z=2){const ge=U*Math.pow(z,L),ee=Math.round(.5*ge*(Math.random()-.5)*2);return Math.min(144e5,ge+ee)}function at(L){return L&&L._delegate?L._delegate:L}},5108:(Ze,ye,N)=>{"use strict";var f=N(4650);let Q=null;function P(){return Q}const oe=new f.OlP("DocumentToken");let le=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return function ue(){return(0,f.LFG)(H)}()},providedIn:"platform"}),n})();const j=new f.OlP("Location Initialized");let H=(()=>{class n extends le{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const s=P().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",e,!1),()=>s.removeEventListener("popstate",e)}onHashChange(e){const s=P().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",e,!1),()=>s.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,s,a){Z()?this._history.pushState(e,s,a):this.location.hash=a}replaceState(e,s,a){Z()?this._history.replaceState(e,s,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(oe))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function Ne(){return new H((0,f.LFG)(oe))}()},providedIn:"platform"}),n})();function Z(){return!!window.history.pushState}function Te(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function _e(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function We(n){return n&&"?"!==n[0]?"?"+n:n}let fe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(je)},providedIn:"root"}),n})();const de=new f.OlP("appBaseHref");let je=(()=>{class n extends fe{constructor(e,s){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=s??this._platformLocation.getBaseHrefFromDOM()??(0,f.f3M)(oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Te(this._baseHref,e)}path(e=!1){const s=this._platformLocation.pathname+We(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${s}${a}`:s}pushState(e,s,a,c){const g=this.prepareExternalUrl(a+We(c));this._platformLocation.pushState(e,s,g)}replaceState(e,s,a,c){const g=this.prepareExternalUrl(a+We(c));this._platformLocation.replaceState(e,s,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(le),f.LFG(de,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qe=(()=>{class n extends fe{constructor(e,s){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(e){const s=Te(this._baseHref,e);return s.length>0?"#"+s:s}pushState(e,s,a,c){let g=this.prepareExternalUrl(a+We(c));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.pushState(e,s,g)}replaceState(e,s,a,c){let g=this.prepareExternalUrl(a+We(c));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.replaceState(e,s,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(le),f.LFG(de,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),be=(()=>{class n{constructor(e){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const s=this._locationStrategy.getBaseHref();this._baseHref=_e(xe(s)),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,s=""){return this.path()==this.normalize(e+We(s))}normalize(e){return n.stripTrailingSlash(function Ee(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,xe(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,s="",a=null){this._locationStrategy.pushState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+We(s)),a)}replaceState(e,s="",a=null){this._locationStrategy.replaceState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+We(s)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)})),()=>{const s=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(s,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",s){this._urlChangeListeners.forEach(a=>a(e,s))}subscribe(e,s,a){return this._subject.subscribe({next:e,error:s,complete:a})}}return n.normalizeQueryParams=We,n.joinWithSlash=Te,n.stripTrailingSlash=_e,n.\u0275fac=function(e){return new(e||n)(f.LFG(fe))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function pe(){return new be((0,f.LFG)(fe))}()},providedIn:"root"}),n})();function xe(n){return n.replace(/\/index.html$/,"")}class po{constructor(t,e,s,a){this.$implicit=t,this.ngForOf=e,this.index=s,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let is=(()=>{class n{constructor(e,s,a){this._viewContainer=e,this._template=s,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const s=this._viewContainer;e.forEachOperation((a,c,g)=>{if(null==a.previousIndex)s.createEmbeddedView(this._template,new po(a.item,this._ngForOf,-1,-1),null===g?void 0:g);else if(null==g)s.remove(null===c?void 0:c);else if(null!==c){const v=s.get(c);s.move(v,g),Pi(v,a)}});for(let a=0,c=s.length;a<c;a++){const v=s.get(a).context;v.index=a,v.count=c,v.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{Pi(s.get(a.currentIndex),a)})}static ngTemplateContextGuard(e,s){return!0}}return n.\u0275fac=function(e){return new(e||n)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Pi(n,t){n.context.$implicit=t.item}class Vu{createSubscription(t,e){return t.subscribe({next:e,error:s=>{throw s}})}dispose(t){t.unsubscribe()}}class Uh{createSubscription(t,e){return t.then(e,s=>{throw s})}dispose(t){}}const ii=new Uh,Bh=new Vu;let bl=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,s=>this._updateLatestValue(e,s))}_selectStrategy(e){if((0,f.QGY)(e))return ii;if((0,f.F4k)(e))return Bh;throw function Rn(n,t){return new f.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,s){e===this._obj&&(this._latestValue=s,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(f.Y36(f.sBO,16))},n.\u0275pipe=f.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),os=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();let ma=(()=>{class n{}return n.\u0275prov=(0,f.Yz7)({token:n,providedIn:"root",factory:()=>new yd((0,f.LFG)(oe),window)}),n})();class yd{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function nr(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const s=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const c=a.shadowRoot;if(c){const g=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(g)return g}a=s.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),s=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(s-c[0],a-c[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=vr(this.window.history)||vr(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function vr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class us extends class Gu extends class ae{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ne(n){Q||(Q=n)}(new us)}onAndCancel(t,e,s){return t.addEventListener(e,s,!1),()=>{t.removeEventListener(e,s,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Ra(){return cs=cs||document.querySelector("base"),cs?cs.getAttribute("href"):null}();return null==e?null:function fr(n){Pn=Pn||document.createElement("a"),Pn.setAttribute("href",n);const t=Pn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){cs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function ha(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const s=e.indexOf("="),[a,c]=-1==s?[e,""]:[e.slice(0,s),e.slice(s+1)];if(a.trim()===t)return decodeURIComponent(c)}return null}(document.cookie,t)}}let Pn,cs=null;const Yt=new f.OlP("TRANSITION_ID"),Bl=[{provide:f.ip1,useFactory:function Ul(n,t,e){return()=>{e.get(f.CZH).donePromise.then(()=>{const s=P(),a=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<a.length;c++)s.remove(a[c])})}},deps:[Yt,oe,f.zs3],multi:!0}];let jl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Pa=new f.OlP("EventManagerPlugins");let Zu=(()=>{class n{constructor(e,s){this._zone=s,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,s,a){return this._findPluginFor(s).addEventListener(e,s,a)}addGlobalEventListener(e,s,a){return this._findPluginFor(s).addGlobalEventListener(e,s,a)}getZone(){return this._zone}_findPluginFor(e){const s=this._eventNameToPlugin.get(e);if(s)return s;const a=this._plugins;for(let c=0;c<a.length;c++){const g=a[c];if(g.supports(e))return this._eventNameToPlugin.set(e,g),g}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(Pa),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Na{constructor(t){this._doc=t}addGlobalEventListener(t,e,s){const a=P().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,s)}}let ds=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const s=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Us=(()=>{class n extends ds{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,s,a){e.forEach(c=>{const g=this._doc.createElement("style");g.textContent=c,a.push(s.appendChild(g))})}addHost(e){const s=[];this._addStylesToHost(this._stylesSet,e,s),this._hostNodes.set(e,s)}removeHost(e){const s=this._hostNodes.get(e);s&&s.forEach(qu),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(e,a,s)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(qu))}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(oe))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function qu(n){P().remove(n)}const Bs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ku=/%COMP%/g;function ka(n,t,e){for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?ka(n,a,e):(a=a.replace(Ku,n),e.push(a))}return e}function Yu(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let js=(()=>{class n{constructor(e,s,a){this.eventManager=e,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Hs(e)}createRenderer(e,s){if(!e||!s)return this.defaultRenderer;switch(s.encapsulation){case f.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new Qu(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(e),a}case 1:case f.ifc.ShadowDom:return new Ju(this.eventManager,this.sharedStylesHost,e,s);default:if(!this.rendererByCompId.has(s.id)){const a=ka(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(Zu),f.LFG(Us),f.LFG(f.AFp))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Hs{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Bs[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Io(t)?t.content:t).appendChild(e)}insertBefore(t,e,s){t&&(Io(t)?t.content:t).insertBefore(e,s)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let s="string"==typeof t?document.querySelector(t):t;if(!s)throw new Error(`The selector "${t}" did not match any elements`);return e||(s.textContent=""),s}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,s,a){if(a){e=a+":"+e;const c=Bs[a];c?t.setAttributeNS(c,e,s):t.setAttribute(e,s)}else t.setAttribute(e,s)}removeAttribute(t,e,s){if(s){const a=Bs[s];a?t.removeAttributeNS(a,e):t.removeAttribute(`${s}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,s,a){a&(f.JOm.DashCase|f.JOm.Important)?t.style.setProperty(e,s,a&f.JOm.Important?"important":""):t.style[e]=s}removeStyle(t,e,s){s&f.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,s){t[e]=s}setValue(t,e){t.nodeValue=e}listen(t,e,s){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Yu(s)):this.eventManager.addEventListener(t,e,Yu(s))}}function Io(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Qu extends Hs{constructor(t,e,s,a){super(t),this.component=s;const c=ka(a+"-"+s.id,s.styles,[]);e.addStyles(c),this.contentAttr=function fn(n){return"_ngcontent-%COMP%".replace(Ku,n)}(a+"-"+s.id),this.hostAttr=function xa(n){return"_nghost-%COMP%".replace(Ku,n)}(a+"-"+s.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const s=super.createElement(t,e);return super.setAttribute(s,this.contentAttr,""),s}}class Ju extends Hs{constructor(t,e,s,a){super(t),this.sharedStylesHost=e,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=ka(a.id,a.styles,[]);for(let g=0;g<c.length;g++){const v=document.createElement("style");v.textContent=c[g],this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,s){return super.insertBefore(this.nodeOrShadowRoot(t),e,s)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let kn=(()=>{class n extends Na{constructor(e){super(e)}supports(e){return!0}addEventListener(e,s,a){return e.addEventListener(s,a,!1),()=>this.removeEventListener(e,s,a)}removeEventListener(e,s,a){return e.removeEventListener(s,a)}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(oe))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const bo=["alt","control","meta","shift"],To={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Kr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ao=(()=>{class n extends Na{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,s,a){const c=n.parseEventName(s),g=n.eventCallback(c.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,c.domEventName,g))}static parseEventName(e){const s=e.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const c=n._normalizeKey(s.pop());let g="",v=s.indexOf("code");if(v>-1&&(s.splice(v,1),g="code."),bo.forEach(S=>{const V=s.indexOf(S);V>-1&&(s.splice(V,1),g+=S+".")}),g+=c,0!=s.length||0===c.length)return null;const I={};return I.domEventName=a,I.fullKey=g,I}static matchEventFullKeyCode(e,s){let a=To[e.key]||e.key,c="";return s.indexOf("code.")>-1&&(a=e.code,c="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),bo.forEach(g=>{g!==a&&(0,Kr[g])(e)&&(c+=g+".")}),c+=a,c===s)}static eventCallback(e,s,a){return c=>{n.matchEventFullKeyCode(c,e)&&a.runGuarded(()=>s(c))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(oe))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Ua=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:"browser"},{provide:f.g9A,useValue:function La(){us.makeCurrent()},multi:!0},{provide:oe,useFactory:function Mo(){return(0,f.RDi)(document),document},deps:[]}]),Fi=new f.OlP(""),ec=[{provide:f.rWj,useClass:class zu{addToWindow(t){f.dqk.getAngularTestability=(s,a=!0)=>{const c=t.findTestabilityInTree(s,a);if(null==c)throw new Error("Could not find testability for element.");return c},f.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(s=>{const a=f.dqk.getAllAngularTestabilities();let c=a.length,g=!1;const v=function(I){g=g||I,c--,0==c&&s(g)};a.forEach(function(I){I.whenStable(v)})})}findTestabilityInTree(t,e,s){return null==e?null:t.getTestability(e)??(s?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:f.lri,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]}],Li=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function ps(){return new f.qLn},deps:[]},{provide:Pa,useClass:kn,multi:!0,deps:[oe,f.R0b,f.Lbi]},{provide:Pa,useClass:Ao,multi:!0,deps:[oe]},{provide:js,useClass:js,deps:[Zu,Us,f.AFp]},{provide:f.FYo,useExisting:js},{provide:ds,useExisting:Us},{provide:Us,useClass:Us,deps:[oe]},{provide:Zu,useClass:Zu,deps:[Pa,f.R0b]},{provide:class Ls{},useClass:jl,deps:[]},[]];let Ba=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:f.AFp,useValue:e.appId},{provide:Yt,useExisting:f.AFp},Bl]}}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(Fi,12))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[...Li,...ec],imports:[os,f.hGG]}),n})(),di=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(oe))},n.\u0275prov=f.Yz7({token:n,factory:function(e){let s=null;return s=e?new e:function $s(){return new di((0,f.LFG)(oe))}(),s},providedIn:"root"}),n})();typeof window<"u"&&window;var Xt=N(8996),Cr=N(7669);function Xe(...n){const t=(0,Cr.yG)(n);return(0,Xt.D)(n,t)}var wr=N(7579);class en extends wr.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:s}=this;if(t)throw e;return this._throwIfClosed(),s}next(t){super.next(this._value=t)}}const Oo=(0,N(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Kn=N(9751);const{isArray:Ui}=Array,{getPrototypeOf:Ga,prototype:qh,keys:zl}=Object;function xo(n){if(1===n.length){const t=n[0];if(Ui(t))return{args:t,keys:null};if(function Ks(n){return n&&"object"==typeof n&&Ga(n)===qh}(t)){const e=zl(t);return{args:e.map(s=>t[s]),keys:e}}}return{args:n,keys:null}}var fi=N(4671),Ye=N(4004);const{isArray:ko}=Array;function Fo(n){return(0,Ye.U)(t=>function Bi(n,t){return ko(t)?n(...t):n(t)}(n,t))}function Ys(n,t){return n.reduce((e,s,a)=>(e[s]=t[a],e),{})}var mn=N(5403),Zl=N(9672);function Qs(...n){const t=(0,Cr.yG)(n),e=(0,Cr.jO)(n),{args:s,keys:a}=xo(n);if(0===s.length)return(0,Xt.D)([],t);const c=new Kn.y(function Kh(n,t,e=fi.y){return s=>{ql(t,()=>{const{length:a}=n,c=new Array(a);let g=a,v=a;for(let I=0;I<a;I++)ql(t,()=>{const S=(0,Xt.D)(n[I],t);let V=!1;S.subscribe((0,mn.x)(s,F=>{c[I]=F,V||(V=!0,v--),v||s.next(e(c.slice()))},()=>{--g||s.complete()}))},s)},s)}}(s,t,a?g=>Ys(a,g):fi.y));return e?c.pipe(Fo(e)):c}function ql(n,t,e){n?(0,Zl.f)(e,n,t):t()}var za=N(8189);function ji(...n){return function Lo(){return(0,za.J)(1)}()((0,Xt.D)(n,(0,Cr.yG)(n)))}var pi=N(8421);function Vr(n){return new Kn.y(t=>{(0,pi.Xf)(n()).subscribe(t)})}var Vo=N(9635),Js=N(576);function gr(n,t){const e=(0,Js.m)(n)?n:()=>n,s=a=>a.error(e());return new Kn.y(t?a=>t.schedule(s,0,a):s)}var gi=N(515),Yr=N(727),Hn=N(4482);function Hi(){return(0,Hn.e)((n,t)=>{let e=null;n._refCount++;const s=(0,mn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const a=n._connection,c=e;e=null,a&&(!c||a===c)&&a.unsubscribe(),t.unsubscribe()});n.subscribe(s),s.closed||(e=n.connect())})}class mi extends Kn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Hn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Yr.w0;const e=this.getSubject();t.add(this.source.subscribe((0,mn.x)(e,void 0,()=>{this._teardown(),e.complete()},s=>{this._teardown(),e.error(s)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Yr.w0.EMPTY)}return t}refCount(){return Hi()(this)}}function _n(n,t){return(0,Hn.e)((e,s)=>{let a=null,c=0,g=!1;const v=()=>g&&!a&&s.complete();e.subscribe((0,mn.x)(s,I=>{a?.unsubscribe();let S=0;const V=c++;(0,pi.Xf)(n(I,V)).subscribe(a=(0,mn.x)(s,F=>s.next(t?t(I,F,V,S++):F),()=>{a=null,v()}))},()=>{g=!0,v()}))})}function zt(n){return n<=0?()=>gi.E:(0,Hn.e)((t,e)=>{let s=0;t.subscribe((0,mn.x)(e,a=>{++s<=n&&(e.next(a),n<=s&&e.complete())}))})}function w(n,t){return(0,Hn.e)((e,s)=>{let a=0;e.subscribe((0,mn.x)(s,c=>n.call(t,c,a++)&&s.next(c)))})}var D=N(5577);function A(n){return(0,Hn.e)((t,e)=>{let s=!1;t.subscribe((0,mn.x)(e,a=>{s=!0,e.next(a)},()=>{s||e.next(n),e.complete()}))})}function k(n=q){return(0,Hn.e)((t,e)=>{let s=!1;t.subscribe((0,mn.x)(e,a=>{s=!0,e.next(a)},()=>s?e.complete():e.error(n())))})}function q(){return new Oo}function te(n,t){const e=arguments.length>=2;return s=>s.pipe(n?w((a,c)=>n(a,c,s)):fi.y,zt(1),e?A(t):k(()=>new Oo))}function ve(n,t){return(0,Js.m)(t)?(0,D.z)(n,t,1):(0,D.z)(n,1)}var Se=N(8505);function Ge(n){return(0,Hn.e)((t,e)=>{let c,s=null,a=!1;s=t.subscribe((0,mn.x)(e,void 0,void 0,g=>{c=(0,pi.Xf)(n(g,Ge(n)(t))),s?(s.unsubscribe(),s=null,c.subscribe(e)):a=!0})),a&&(s.unsubscribe(),s=null,c.subscribe(e))})}function lt(n,t,e,s,a){return(c,g)=>{let v=e,I=t,S=0;c.subscribe((0,mn.x)(g,V=>{const F=S++;I=v?n(I,V,F):(v=!0,V),s&&g.next(I)},a&&(()=>{v&&g.next(I),g.complete()})))}}function gt(n,t){return(0,Hn.e)(lt(n,t,arguments.length>=2,!0))}function et(n){return n<=0?()=>gi.E:(0,Hn.e)((t,e)=>{let s=[];t.subscribe((0,mn.x)(e,a=>{s.push(a),n<s.length&&s.shift()},()=>{for(const a of s)e.next(a);e.complete()},void 0,()=>{s=null}))})}function tn(n,t){const e=arguments.length>=2;return s=>s.pipe(n?w((a,c)=>n(a,c,s)):fi.y,et(1),e?A(t):k(()=>new Oo))}function $i(n){return(0,Hn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const pt="primary",Qr=Symbol("RouteTitle");class Wi{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Dr(n){return new Wi(n)}function eo(n,t,e){const s=e.path.split("/");if(s.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||s.length<n.length))return null;const a={};for(let c=0;c<s.length;c++){const g=s[c],v=n[c];if(g.startsWith(":"))a[g.substring(1)]=v;else if(g!==v.path)return null}return{consumed:n.slice(0,s.length),posParams:a}}function Ur(n,t){const e=n?Object.keys(n):void 0,s=t?Object.keys(t):void 0;if(!e||!s||e.length!=s.length)return!1;let a;for(let c=0;c<e.length;c++)if(a=e[c],!Dd(n[a],t[a]))return!1;return!0}function Dd(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),s=[...t].sort();return e.every((a,c)=>s[c]===a)}return n===t}function Yh(n){return Array.prototype.concat.apply([],n)}function Qh(n){return n.length>0?n[n.length-1]:null}function Nn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Jr(n){return(0,f.CqO)(n)?n:(0,f.QGY)(n)?(0,Xt.D)(Promise.resolve(n)):Xe(n)}const Cy={exact:function Xh(n,t,e){if(!Es(n.segments,t.segments)||!vs(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const s in t.children)if(!n.children[s]||!Xh(n.children[s],t.children[s],e))return!1;return!0},subset:Uo},bd={exact:function Td(n,t){return Ur(n,t)},subset:function ef(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Dd(n[e],t[e]))},ignored:()=>!0};function yg(n,t,e){return Cy[e.paths](n.root,t.root,e.matrixParams)&&bd[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Uo(n,t,e){return nc(n,t,t.segments,e)}function nc(n,t,e,s){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!Es(a,e)||t.hasChildren()||!vs(a,e,s))}if(n.segments.length===e.length){if(!Es(n.segments,e)||!vs(n.segments,e,s))return!1;for(const a in t.children)if(!n.children[a]||!Uo(n.children[a],t.children[a],s))return!1;return!0}{const a=e.slice(0,n.segments.length),c=e.slice(n.segments.length);return!!(Es(n.segments,a)&&vs(n.segments,a,s)&&n.children[pt])&&nc(n.children[pt],t,c,s)}}function vs(n,t,e){return t.every((s,a)=>bd[e](n[a].parameters,s.parameters))}class Bo{constructor(t,e,s){this.root=t,this.queryParams=e,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dr(this.queryParams)),this._queryParamMap}toString(){return sc.serialize(this)}}class It{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Nn(e,(s,a)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return oc(this)}}class rc{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Dr(this.parameters)),this._parameterMap}toString(){return rf(this)}}function Es(n,t){return n.length===t.length&&n.every((e,s)=>e.path===t[s].path)}let Ad=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return new ic},providedIn:"root"}),n})();class ic{parse(t){const e=new Ho(t);return new Bo(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${jo(t.root,!0)}`,s=function Dy(n){const t=Object.keys(n).map(e=>{const s=n[e];return Array.isArray(s)?s.map(a=>`${Yl(e)}=${Yl(a)}`).join("&"):`${Yl(e)}=${Yl(s)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${s}${"string"==typeof t.fragment?`#${function vg(n){return encodeURI(n)}(t.fragment)}`:""}`}}const sc=new ic;function oc(n){return n.segments.map(t=>rf(t)).join("/")}function jo(n,t){if(!n.hasChildren())return oc(n);if(t){const e=n.children[pt]?jo(n.children[pt],!1):"",s=[];return Nn(n.children,(a,c)=>{c!==pt&&s.push(`${c}:${jo(a,!1)}`)}),s.length>0?`${e}(${s.join("//")})`:e}{const e=function tf(n,t){let e=[];return Nn(n.children,(s,a)=>{a===pt&&(e=e.concat(t(s,a)))}),Nn(n.children,(s,a)=>{a!==pt&&(e=e.concat(t(s,a)))}),e}(n,(s,a)=>a===pt?[jo(n.children[pt],!1)]:[`${a}:${jo(s,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[pt]?`${oc(n)}/${e[0]}`:`${oc(n)}/(${e.join("//")})`}}function nf(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yl(n){return nf(n).replace(/%3B/gi,";")}function Xr(n){return nf(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function to(n){return decodeURIComponent(n)}function Sd(n){return to(n.replace(/\+/g,"%20"))}function rf(n){return`${Xr(n.path)}${function wy(n){return Object.keys(n).map(t=>`;${Xr(t)}=${Xr(n[t])}`).join("")}(n.parameters)}`}const Iy=/^[^\/()?;=#]+/;function Md(n){const t=n.match(Iy);return t?t[0]:""}const sf=/^[^=?&#]+/,Eg=/^[^&#]+/;class Ho{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new It([],{}):new It([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(s[pt]=new It(t,e)),s}parseSegment(){const t=Md(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new f.vHH(4009,!1);return this.capture(t),new rc(to(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Md(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const a=Md(this.remaining);a&&(s=a,this.capture(s))}t[to(e)]=to(s)}parseQueryParam(t){const e=function af(n){const t=n.match(sf);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const g=function by(n){const t=n.match(Eg);return t?t[0]:""}(this.remaining);g&&(s=g,this.capture(s))}const a=Sd(e),c=Sd(s);if(t.hasOwnProperty(a)){let g=t[a];Array.isArray(g)||(g=[g],t[a]=g),g.push(c)}else t[a]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=Md(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new f.vHH(4010,!1);let c;s.indexOf(":")>-1?(c=s.slice(0,s.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=pt);const g=this.parseChildren();e[c]=1===Object.keys(g).length?g[pt]:new It([],g),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new f.vHH(4011,!1)}}function Ql(n){return n.segments.length>0?new It([],{[pt]:n}):n}function ei(n){const t={};for(const s of Object.keys(n.children)){const c=ei(n.children[s]);(c.segments.length>0||c.hasChildren())&&(t[s]=c)}return function $o(n){if(1===n.numberOfChildren&&n.children[pt]){const t=n.children[pt];return new It(n.segments.concat(t.segments),t.children)}return n}(new It(n.segments,t))}function no(n){return n instanceof Bo}function Ay(n,t,e,s,a){if(0===e.length)return Jl(t.root,t.root,t.root,s,a);const c=function uf(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Rd(!0,0,n);let t=0,e=!1;const s=n.reduce((a,c,g)=>{if("object"==typeof c&&null!=c){if(c.outlets){const v={};return Nn(c.outlets,(I,S)=>{v[S]="string"==typeof I?I.split("/"):I}),[...a,{outlets:v}]}if(c.segmentPath)return[...a,c.segmentPath]}return"string"!=typeof c?[...a,c]:0===g?(c.split("/").forEach((v,I)=>{0==I&&"."===v||(0==I&&""===v?e=!0:".."===v?t++:""!=v&&a.push(v))}),a):[...a,c]},[]);return new Rd(e,t,s)}(e);return c.toRoot()?Jl(t.root,t.root,new It([],{}),s,a):function g(I){const S=function Pd(n,t,e,s){if(n.isAbsolute)return new qa(t.root,!0,0);if(-1===s)return new qa(e,e===t.root,0);return function Nd(n,t,e){let s=n,a=t,c=e;for(;c>a;){if(c-=a,s=s.parent,!s)throw new f.vHH(4005,!1);a=s.segments.length}return new qa(s,!1,a-c)}(e,s+(Wo(n.commands[0])?0:1),n.numberOfDoubleDots)}(c,t,n.snapshot?._urlSegment,I),V=S.processChildren?ws(S.segmentGroup,S.index,c.commands):Xl(S.segmentGroup,S.index,c.commands);return Jl(t.root,S.segmentGroup,V,s,a)}(n.snapshot?._lastPathIndex)}function Wo(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Cs(n){return"object"==typeof n&&null!=n&&n.outlets}function Jl(n,t,e,s,a){let g,c={};s&&Nn(s,(I,S)=>{c[S]=Array.isArray(I)?I.map(V=>`${V}`):`${I}`}),g=n===t?e:wg(n,t,e);const v=Ql(ei(g));return new Bo(v,c,a)}function wg(n,t,e){const s={};return Nn(n.children,(a,c)=>{s[c]=a===t?e:wg(a,t,e)}),new It(n.segments,s)}class Rd{constructor(t,e,s){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=s,t&&s.length>0&&Wo(s[0]))throw new f.vHH(4003,!1);const a=s.find(Cs);if(a&&a!==Qh(s))throw new f.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qa{constructor(t,e,s){this.segmentGroup=t,this.processChildren=e,this.index=s}}function Xl(n,t,e){if(n||(n=new It([],{})),0===n.segments.length&&n.hasChildren())return ws(n,t,e);const s=function Dg(n,t,e){let s=0,a=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(s>=e.length)return c;const g=n.segments[a],v=e[s];if(Cs(v))break;const I=`${v}`,S=s<e.length-1?e[s+1]:null;if(a>0&&void 0===I)break;if(I&&S&&"object"==typeof S&&void 0===S.outlets){if(!uc(I,S,g))return c;s+=2}else{if(!uc(I,{},g))return c;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(n,t,e),a=e.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){const c=new It(n.segments.slice(0,s.pathIndex),{});return c.children[pt]=new It(n.segments.slice(s.pathIndex),n.children),ws(c,0,a)}return s.match&&0===a.length?new It(n.segments,{}):s.match&&!n.hasChildren()?yn(n,t,e):s.match?ws(n,0,a):yn(n,t,e)}function ws(n,t,e){if(0===e.length)return new It(n.segments,{});{const s=function ac(n){return Cs(n[0])?n[0].outlets:{[pt]:n}}(e),a={};return Nn(s,(c,g)=>{"string"==typeof c&&(c=[c]),null!==c&&(a[g]=Xl(n.children[g],t,c))}),Nn(n.children,(c,g)=>{void 0===s[g]&&(a[g]=c)}),new It(n.segments,a)}}function yn(n,t,e){const s=n.segments.slice(0,t);let a=0;for(;a<e.length;){const c=e[a];if(Cs(c)){const I=lc(c.outlets);return new It(s,I)}if(0===a&&Wo(e[0])){s.push(new rc(n.segments[t].path,df(e[0]))),a++;continue}const g=Cs(c)?c.outlets[pt]:`${c}`,v=a<e.length-1?e[a+1]:null;g&&v&&Wo(v)?(s.push(new rc(g,df(v))),a+=2):(s.push(new rc(g,{})),a++)}return new It(s,{})}function lc(n){const t={};return Nn(n,(e,s)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[s]=yn(new It([],{}),0,e))}),t}function df(n){const t={};return Nn(n,(e,s)=>t[s]=`${e}`),t}function uc(n,t,e){return n==e.path&&Ur(t,e.parameters)}class Gi{constructor(t,e){this.id=t,this.url=e}}class cc extends Gi{constructor(t,e,s="imperative",a=null){super(t,e),this.type=0,this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Go extends Gi{constructor(t,e,s){super(t,e),this.urlAfterRedirects=s,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class dc extends Gi{constructor(t,e,s,a){super(t,e),this.reason=s,this.code=a,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class hf extends Gi{constructor(t,e,s,a){super(t,e),this.error=s,this.target=a,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ig extends Gi{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hc extends Gi{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sy extends Gi{constructor(t,e,s,a,c){super(t,e),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ka extends Gi{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Od extends Gi{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ff{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pf{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gf{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mf{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fc{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pc{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eu{constructor(t,e,s){this.routerEvent=t,this.position=e,this.anchor=s,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class gc{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=tu(t,this._root);return e?e.children.map(s=>s.value):[]}firstChild(t){const e=tu(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=rr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return rr(t,this._root).map(e=>e.value)}}function tu(n,t){if(n===t.value)return t;for(const e of t.children){const s=tu(n,e);if(s)return s}return null}function rr(n,t){if(n===t.value)return[t];for(const e of t.children){const s=rr(n,e);if(s.length)return s.unshift(t),s}return[]}class Ir{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Br(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class _f extends gc{constructor(t,e){super(t),this.snapshot=e,ru(this,t)}toString(){return this.snapshot.toString()}}function Ya(n,t){const e=function Qa(n,t){const g=new Yn([],{},{},"",{},pt,t,null,n.root,-1,{});return new _c("",new Ir(g,[]))}(n,t),s=new en([new rc("",{})]),a=new en({}),c=new en({}),g=new en({}),v=new en(""),I=new zo(s,a,g,v,c,pt,t,e.root);return I.snapshot=e.root,new _f(new Ir(I,[]),e)}class zo{constructor(t,e,s,a,c,g,v,I){this.url=t,this.params=e,this.queryParams=s,this.fragment=a,this.data=c,this.outlet=g,this.component=v,this.title=this.data?.pipe((0,Ye.U)(S=>S[Qr]))??Xe(void 0),this._futureSnapshot=I}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ye.U)(t=>Dr(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ye.U)(t=>Dr(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nu(n,t="emptyOnly"){const e=n.pathFromRoot;let s=0;if("always"!==t)for(s=e.length-1;s>=1;){const a=e[s],c=e[s-1];if(a.routeConfig&&""===a.routeConfig.path)s--;else{if(c.component)break;s--}}return function mc(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(s))}class Yn{constructor(t,e,s,a,c,g,v,I,S,V,F,K){this.url=t,this.params=e,this.queryParams=s,this.fragment=a,this.data=c,this.outlet=g,this.component=v,this.title=this.data?.[Qr],this.routeConfig=I,this._urlSegment=S,this._lastPathIndex=V,this._correctedLastPathIndex=K??V,this._resolve=F}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Dr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _c extends gc{constructor(t,e){super(e),this.url=t,ru(this,e)}toString(){return yf(this._root)}}function ru(n,t){t.value._routerState=n,t.children.forEach(e=>ru(n,e))}function yf(n){const t=n.children.length>0?` { ${n.children.map(yf).join(", ")} } `:"";return`${n.value}${t}`}function xd(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ur(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Ur(t.params,e.params)||n.params.next(e.params),function ys(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ur(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Ur(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function iu(n,t){const e=Ur(n.params,t.params)&&function Kl(n,t){return Es(n,t)&&n.every((e,s)=>Ur(e.parameters,t[s].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||iu(n.parent,t.parent))}function Zo(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const s=e.value;s._futureSnapshot=t.value;const a=function kd(n,t,e){return t.children.map(s=>{for(const a of e.children)if(n.shouldReuseRoute(s.value,a.value.snapshot))return Zo(n,s,a);return Zo(n,s)})}(n,t,e);return new Ir(s,a)}{if(n.shouldAttach(t.value)){const c=n.retrieve(t.value);if(null!==c){const g=c.route;return g.value._futureSnapshot=t.value,g.children=t.children.map(v=>Zo(n,v)),g}}const s=function bg(n){return new zo(new en(n.url),new en(n.params),new en(n.queryParams),new en(n.fragment),new en(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(c=>Zo(n,c));return new Ir(s,a)}}const _i="ngNavigationCancelingError";function ro(n,t){const{redirectTo:e,navigationBehaviorOptions:s}=no(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,a=Fd(!1,0,t);return a.url=e,a.navigationBehaviorOptions=s,a}function Fd(n,t,e){const s=new Error("NavigationCancelingError: "+(n||""));return s[_i]=!0,s.cancellationCode=t,e&&(s.url=e),s}function yc(n){return vf(n)&&no(n.url)}function vf(n){return n&&n[_i]}class vc{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ec,this.attachRef=null}}let Ec=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,s){const a=this.getOrCreateContext(e);a.outlet=s,this.contexts.set(e,a)}onChildOutletDestroyed(e){const s=this.getContext(e);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let s=this.getContext(e);return s||(s=new vc,this.contexts.set(e,s)),s}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cc=!1;let qo=(()=>{class n{constructor(e,s,a,c,g){this.parentContexts=e,this.location=s,this.changeDetector=c,this.environmentInjector=g,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=a||pt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,Cc);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,Cc);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,Cc);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,s){this.activated=e,this._activatedRoute=s,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,s){if(this.isActivated)throw new f.vHH(4013,Cc);this._activatedRoute=e;const a=this.location,g=e._futureSnapshot.component,v=this.parentContexts.getOrCreateContext(this.name).children,I=new Tg(e,v,a.injector);if(s&&function m(n){return!!n.resolveComponentFactory}(s)){const S=s.resolveComponentFactory(g);this.activated=a.createComponent(S,a.length,I)}else this.activated=a.createComponent(g,{index:a.length,injector:I,environmentInjector:s??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(f.Y36(Ec),f.Y36(f.s_b),f.$8M("name"),f.Y36(f.sBO),f.Y36(f.lqb))},n.\u0275dir=f.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Tg{constructor(t,e,s){this.route=t,this.childContexts=e,this.parent=s}get(t,e){return t===zo?this.route:t===Ec?this.childContexts:this.parent.get(t,e)}}let d=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(e,s){1&e&&f._UZ(0,"router-outlet")},dependencies:[qo],encapsulation:2}),n})();function p(n,t){return n.providers&&!n._injector&&(n._injector=(0,f.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function tt(n){const t=n.children&&n.children.map(tt),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==pt&&(e.component=d),e}function Bt(n){return n.outlet||pt}function br(n,t){const e=n.filter(s=>Bt(s)===t);return e.push(...n.filter(s=>Bt(s)!==t)),e}function Ko(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class su{constructor(t,e,s,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=s,this.forwardEvent=a}activate(t){const e=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,s,t),xd(this.futureState.root),this.activateChildRoutes(e,s,t)}deactivateChildRoutes(t,e,s){const a=Br(e);t.children.forEach(c=>{const g=c.value.outlet;this.deactivateRoutes(c,a[g],s),delete a[g]}),Nn(a,(c,g)=>{this.deactivateRouteAndItsChildren(c,s)})}deactivateRoutes(t,e,s){const a=t.value,c=e?e.value:null;if(a===c)if(a.component){const g=s.getContext(a.outlet);g&&this.deactivateChildRoutes(t,e,g.children)}else this.deactivateChildRoutes(t,e,s);else c&&this.deactivateRouteAndItsChildren(e,s)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const s=e.getContext(t.value.outlet),a=s&&t.value.component?s.children:e,c=Br(t);for(const g of Object.keys(c))this.deactivateRouteAndItsChildren(c[g],a);if(s&&s.outlet){const g=s.outlet.detach(),v=s.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:g,route:t,contexts:v})}}deactivateRouteAndOutlet(t,e){const s=e.getContext(t.value.outlet),a=s&&t.value.component?s.children:e,c=Br(t);for(const g of Object.keys(c))this.deactivateRouteAndItsChildren(c[g],a);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(t,e,s){const a=Br(e);t.children.forEach(c=>{this.activateRoutes(c,a[c.value.outlet],s),this.forwardEvent(new pc(c.value.snapshot))}),t.children.length&&this.forwardEvent(new mf(t.value.snapshot))}activateRoutes(t,e,s){const a=t.value,c=e?e.value:null;if(xd(a),a===c)if(a.component){const g=s.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,g.children)}else this.activateChildRoutes(t,e,s);else if(a.component){const g=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const v=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),g.children.onOutletReAttached(v.contexts),g.attachRef=v.componentRef,g.route=v.route.value,g.outlet&&g.outlet.attach(v.componentRef,v.route.value),xd(v.route.value),this.activateChildRoutes(t,null,g.children)}else{const v=Ko(a.snapshot),I=v?.get(f._Vd)??null;g.attachRef=null,g.route=a,g.resolver=I,g.injector=v,g.outlet&&g.outlet.activateWith(a,g.injector),this.activateChildRoutes(t,null,g.children)}}else this.activateChildRoutes(t,null,s)}}class Ef{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class wc{constructor(t,e){this.component=t,this.route=e}}function Cf(n,t,e){const s=n._root;return Yo(s,t?t._root:null,e,[s.value])}function Ja(n,t){const e=Symbol(),s=t.get(n,e);return s===e?"function"!=typeof n||(0,f.Z0I)(n)?t.get(n):n:s}function Yo(n,t,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=Br(t);return n.children.forEach(g=>{(function Ld(n,t,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,g=t?t.value:null,v=e?e.getContext(n.value.outlet):null;if(g&&c.routeConfig===g.routeConfig){const I=function Vd(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Es(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Es(n.url,t.url)||!Ur(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!iu(n,t)||!Ur(n.queryParams,t.queryParams);default:return!iu(n,t)}}(g,c,c.routeConfig.runGuardsAndResolvers);I?a.canActivateChecks.push(new Ef(s)):(c.data=g.data,c._resolvedData=g._resolvedData),Yo(n,t,c.component?v?v.children:null:e,s,a),I&&v&&v.outlet&&v.outlet.isActivated&&a.canDeactivateChecks.push(new wc(v.outlet.component,g))}else g&&io(t,v,a),a.canActivateChecks.push(new Ef(s)),Yo(n,null,c.component?v?v.children:null:e,s,a)})(g,c[g.value.outlet],e,s.concat([g.value]),a),delete c[g.value.outlet]}),Nn(c,(g,v)=>io(g,e.getContext(v),a)),a}function io(n,t,e){const s=Br(n),a=n.value;Nn(s,(c,g)=>{io(c,a.component?t?t.children.getContext(g):null:t,e)}),e.canDeactivateChecks.push(new wc(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}function Xa(n){return"function"==typeof n}function wf(n){return n instanceof Oo||"EmptyError"===n?.name}const Df=Symbol("INITIAL_VALUE");function Dc(){return _n(n=>Qs(n.map(t=>t.pipe(zt(1),function wd(...n){const t=(0,Cr.yG)(n);return(0,Hn.e)((e,s)=>{(t?ji(n,e,t):ji(n,e)).subscribe(s)})}(Df)))).pipe((0,Ye.U)(t=>{for(const e of t)if(!0!==e){if(e===Df)return Df;if(!1===e||e instanceof Bo)return e}return!0}),w(t=>t!==Df),zt(1)))}function Tr(n){return(0,Vo.z)((0,Se.b)(t=>{if(no(t))throw ro(0,t)}),(0,Ye.U)(t=>!0===t))}const If={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bf(n,t,e,s,a){const c=ir(n,t,e);return c.matched?function Ng(n,t,e,s){const a=t.canMatch;return a&&0!==a.length?Xe(a.map(g=>{const v=Ja(g,n);return Jr(function t0(n){return n&&Xa(n.canMatch)}(v)?v.canMatch(t,e):n.runInContext(()=>v(t,e)))})).pipe(Dc(),Tr()):Xe(!0)}(s=p(t,s),t,e).pipe((0,Ye.U)(g=>!0===g?c:{...If})):Xe(c)}function ir(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...If}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const a=(t.matcher||eo)(e,n,t);if(!a)return{...If};const c={};Nn(a.posParams,(v,I)=>{c[I]=v.path});const g=a.consumed.length>0?{...c,...a.consumed[a.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:a.consumed,remainingSegments:e.slice(a.consumed.length),parameters:g,positionalParamSegments:a.posParams??{}}}function el(n,t,e,s,a="corrected"){if(e.length>0&&function h0(n,t,e){return e.some(s=>Tf(n,t,s)&&Bt(s)!==pt)}(n,e,s)){const g=new It(t,function d0(n,t,e,s){const a={};a[pt]=s,s._sourceSegment=n,s._segmentIndexShift=t.length;for(const c of e)if(""===c.path&&Bt(c)!==pt){const g=new It([],{});g._sourceSegment=n,g._segmentIndexShift=t.length,a[Bt(c)]=g}return a}(n,t,s,new It(e,n.children)));return g._sourceSegment=n,g._segmentIndexShift=t.length,{segmentGroup:g,slicedSegments:[]}}if(0===e.length&&function Oy(n,t,e){return e.some(s=>Tf(n,t,s))}(n,e,s)){const g=new It(n.segments,function Ny(n,t,e,s,a,c){const g={};for(const v of s)if(Tf(n,e,v)&&!a[Bt(v)]){const I=new It([],{});I._sourceSegment=n,I._segmentIndexShift="legacy"===c?n.segments.length:t.length,g[Bt(v)]=I}return{...a,...g}}(n,t,e,s,n.children,a));return g._sourceSegment=n,g._segmentIndexShift=t.length,{segmentGroup:g,slicedSegments:e}}const c=new It(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}function Tf(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Og(n,t,e,s){return!!(Bt(n)===s||s!==pt&&Tf(t,e,n))&&("**"===n.path||ir(t,n,e).matched)}function xy(n,t,e){return 0===t.length&&!n.children[e]}const Bd=!1;class Af{constructor(t){this.segmentGroup=t||null}}class ky{constructor(t){this.urlTree=t}}function jd(n){return gr(new Af(n))}function Fy(n){return gr(new ky(n))}class p0{constructor(t,e,s,a,c){this.injector=t,this.configLoader=e,this.urlSerializer=s,this.urlTree=a,this.config=c,this.allowRedirects=!0}apply(){const t=el(this.urlTree.root,[],[],this.config).segmentGroup,e=new It(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,pt).pipe((0,Ye.U)(c=>this.createUrlTree(ei(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ge(c=>{if(c instanceof ky)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof Af?this.noMatchError(c):c}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,pt).pipe((0,Ye.U)(a=>this.createUrlTree(ei(a),t.queryParams,t.fragment))).pipe(Ge(a=>{throw a instanceof Af?this.noMatchError(a):a}))}noMatchError(t){return new f.vHH(4002,Bd)}createUrlTree(t,e,s){const a=Ql(t);return new Bo(a,e,s)}expandSegmentGroup(t,e,s,a){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(t,e,s).pipe((0,Ye.U)(c=>new It([],c))):this.expandSegment(t,s,e,s.segments,a,!0)}expandChildren(t,e,s){const a=[];for(const c of Object.keys(s.children))"primary"===c?a.unshift(c):a.push(c);return(0,Xt.D)(a).pipe(ve(c=>{const g=s.children[c],v=br(e,c);return this.expandSegmentGroup(t,v,g,c).pipe((0,Ye.U)(I=>({segment:I,outlet:c})))}),gt((c,g)=>(c[g.outlet]=g.segment,c),{}),tn())}expandSegment(t,e,s,a,c,g){return(0,Xt.D)(s).pipe(ve(v=>this.expandSegmentAgainstRoute(t,e,s,v,a,c,g).pipe(Ge(S=>{if(S instanceof Af)return Xe(null);throw S}))),te(v=>!!v),Ge((v,I)=>{if(wf(v))return xy(e,a,c)?Xe(new It([],{})):jd(e);throw v}))}expandSegmentAgainstRoute(t,e,s,a,c,g,v){return Og(a,e,c,g)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,c,g):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,s,a,c,g):jd(e):jd(e)}expandSegmentAgainstRouteUsingRedirect(t,e,s,a,c,g){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,s,a,g):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,a,c,g)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,s,a){const c=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?Fy(c):this.lineralizeSegments(s,c).pipe((0,D.z)(g=>{const v=new It(g,{});return this.expandSegment(t,v,e,g,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,a,c,g){const{matched:v,consumedSegments:I,remainingSegments:S,positionalParamSegments:V}=ir(e,a,c);if(!v)return jd(e);const F=this.applyRedirectCommands(I,a.redirectTo,V);return a.redirectTo.startsWith("/")?Fy(F):this.lineralizeSegments(a,F).pipe((0,D.z)(K=>this.expandSegment(t,e,s,K.concat(S),g,!1)))}matchSegmentAgainstRoute(t,e,s,a,c){return"**"===s.path?(t=p(s,t),s.loadChildren?(s._loadedRoutes?Xe({routes:s._loadedRoutes,injector:s._loadedInjector}):this.configLoader.loadChildren(t,s)).pipe((0,Ye.U)(v=>(s._loadedRoutes=v.routes,s._loadedInjector=v.injector,new It(a,{})))):Xe(new It(a,{}))):bf(e,s,a,t).pipe(_n(({matched:g,consumedSegments:v,remainingSegments:I})=>g?this.getChildConfig(t=s._injector??t,s,a).pipe((0,D.z)(V=>{const F=V.injector??t,K=V.routes,{segmentGroup:me,slicedSegments:ke}=el(e,v,I,K),dt=new It(me.segments,me.children);if(0===ke.length&&dt.hasChildren())return this.expandChildren(F,K,dt).pipe((0,Ye.U)($r=>new It(v,$r)));if(0===K.length&&0===ke.length)return Xe(new It(v,{}));const mt=Bt(s)===c;return this.expandSegment(F,dt,K,ke,mt?pt:c,!0).pipe((0,Ye.U)(ln=>new It(v.concat(ln.segments),ln.children)))})):jd(e)))}getChildConfig(t,e,s){return e.children?Xe({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Xe({routes:e._loadedRoutes,injector:e._loadedInjector}):function c0(n,t,e,s){const a=t.canLoad;return void 0===a||0===a.length?Xe(!0):Xe(a.map(g=>{const v=Ja(g,n);return Jr(function Mg(n){return n&&Xa(n.canLoad)}(v)?v.canLoad(t,e):n.runInContext(()=>v(t,e)))})).pipe(Dc(),Tr())}(t,e,s).pipe((0,D.z)(a=>a?this.configLoader.loadChildren(t,e).pipe((0,Se.b)(c=>{e._loadedRoutes=c.routes,e._loadedInjector=c.injector})):function Ic(n){return gr(Fd(Bd,3))}())):Xe({routes:[],injector:t})}lineralizeSegments(t,e){let s=[],a=e.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return Xe(s);if(a.numberOfChildren>1||!a.children[pt])return gr(new f.vHH(4e3,Bd));a=a.children[pt]}}applyRedirectCommands(t,e,s){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,s)}applyRedirectCreateUrlTree(t,e,s,a){const c=this.createSegmentGroup(t,e.root,s,a);return new Bo(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const s={};return Nn(t,(a,c)=>{if("string"==typeof a&&a.startsWith(":")){const v=a.substring(1);s[c]=e[v]}else s[c]=a}),s}createSegmentGroup(t,e,s,a){const c=this.createSegments(t,e.segments,s,a);let g={};return Nn(e.children,(v,I)=>{g[I]=this.createSegmentGroup(t,v,s,a)}),new It(c,g)}createSegments(t,e,s,a){return e.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,a):this.findOrReturn(c,s))}findPosParam(t,e,s){const a=s[e.path.substring(1)];if(!a)throw new f.vHH(4001,Bd);return a}findOrReturn(t,e){let s=0;for(const a of e){if(a.path===t.path)return e.splice(s),a;s++}return t}}class RI{}class so{constructor(t,e,s,a,c,g,v,I){this.injector=t,this.rootComponentType=e,this.config=s,this.urlTree=a,this.url=c,this.paramsInheritanceStrategy=g,this.relativeLinkResolution=v,this.urlSerializer=I}recognize(){const t=el(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,pt).pipe((0,Ye.U)(e=>{if(null===e)return null;const s=new Yn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},pt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Ir(s,e),c=new _c(this.url,a);return this.inheritParamsAndData(c._root),c}))}inheritParamsAndData(t){const e=t.value,s=nu(e,this.paramsInheritanceStrategy);e.params=Object.freeze(s.params),e.data=Object.freeze(s.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,s,a){return 0===s.segments.length&&s.hasChildren()?this.processChildren(t,e,s):this.processSegment(t,e,s,s.segments,a)}processChildren(t,e,s){return(0,Xt.D)(Object.keys(s.children)).pipe(ve(a=>{const c=s.children[a],g=br(e,a);return this.processSegmentGroup(t,g,c,a)}),gt((a,c)=>a&&c?(a.push(...c),a):null),function $n(n,t=!1){return(0,Hn.e)((e,s)=>{let a=0;e.subscribe((0,mn.x)(s,c=>{const g=n(c,a++);(g||t)&&s.next(c),!g&&s.complete()}))})}(a=>null!==a),A(null),tn(),(0,Ye.U)(a=>{if(null===a)return null;const c=Lg(a);return function kg(n){n.sort((t,e)=>t.value.outlet===pt?-1:e.value.outlet===pt?1:t.value.outlet.localeCompare(e.value.outlet))}(c),c}))}processSegment(t,e,s,a,c){return(0,Xt.D)(e).pipe(ve(g=>this.processSegmentAgainstRoute(g._injector??t,g,s,a,c)),te(g=>!!g),Ge(g=>{if(wf(g))return xy(s,a,c)?Xe([]):Xe(null);throw g}))}processSegmentAgainstRoute(t,e,s,a,c){if(e.redirectTo||!Og(e,s,a,c))return Xe(null);let g;if("**"===e.path){const v=a.length>0?Qh(a).parameters:{},I=Vy(s)+a.length;g=Xe({snapshot:new Yn(a,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Sf(e),Bt(e),e.component??e._loadedComponent??null,e,bc(s),I,Mf(e),I),consumedSegments:[],remainingSegments:[]})}else g=bf(s,e,a,t).pipe((0,Ye.U)(({matched:v,consumedSegments:I,remainingSegments:S,parameters:V})=>{if(!v)return null;const F=Vy(s)+I.length;return{snapshot:new Yn(I,V,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Sf(e),Bt(e),e.component??e._loadedComponent??null,e,bc(s),F,Mf(e),F),consumedSegments:I,remainingSegments:S}}));return g.pipe(_n(v=>{if(null===v)return Xe(null);const{snapshot:I,consumedSegments:S,remainingSegments:V}=v;t=e._injector??t;const F=e._loadedInjector??t,K=function Fg(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:me,slicedSegments:ke}=el(s,S,V,K.filter(mt=>void 0===mt.redirectTo),this.relativeLinkResolution);if(0===ke.length&&me.hasChildren())return this.processChildren(F,K,me).pipe((0,Ye.U)(mt=>null===mt?null:[new Ir(I,mt)]));if(0===K.length&&0===ke.length)return Xe([new Ir(I,[])]);const dt=Bt(e)===c;return this.processSegment(F,K,me,ke,dt?pt:c).pipe((0,Ye.U)(mt=>null===mt?null:[new Ir(I,mt)]))}))}}function m0(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Lg(n){const t=[],e=new Set;for(const s of n){if(!m0(s)){t.push(s);continue}const a=t.find(c=>s.value.routeConfig===c.value.routeConfig);void 0!==a?(a.children.push(...s.children),e.add(a)):t.push(s)}for(const s of e){const a=Lg(s.children);t.push(new Ir(s.value,a))}return t.filter(s=>!e.has(s))}function bc(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Vy(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function Sf(n){return n.data||{}}function Mf(n){return n.resolve||{}}function Rf(n){return"string"==typeof n.title||null===n.title}function Ug(n){return _n(t=>{const e=n(t);return e?(0,Xt.D)(e).pipe((0,Ye.U)(()=>t)):Xe(t)})}let Hy=(()=>{class n{buildTitle(e){let s,a=e.root;for(;void 0!==a;)s=this.getResolvedTitleForRoute(a)??s,a=a.children.find(c=>c.outlet===pt);return s}getResolvedTitleForRoute(e){return e.data[Qr]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)($y)},providedIn:"root"}),n})(),$y=(()=>{class n extends Hy{constructor(e){super(),this.title=e}updateTitle(e){const s=this.buildTitle(e);void 0!==s&&this.title.setTitle(s)}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(di))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class v0{}class Wy extends class E0{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Hd=new f.OlP("",{providedIn:"root",factory:()=>({})}),jg=new f.OlP("ROUTES");let Hg=(()=>{class n{constructor(e,s){this.injector=e,this.compiler=s,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Xe(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const s=Jr(e.loadComponent()).pipe((0,Se.b)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=c}),$i(()=>{this.componentLoaders.delete(e)})),a=new mi(s,()=>new wr.x).pipe(Hi());return this.componentLoaders.set(e,a),a}loadChildren(e,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return Xe({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);const c=this.loadModuleFactoryOrRoutes(s.loadChildren).pipe((0,Ye.U)(v=>{this.onLoadEndListener&&this.onLoadEndListener(s);let I,S,V=!1;Array.isArray(v)?S=v:(I=v.create(e).injector,S=Yh(I.get(jg,[],f.XFs.Self|f.XFs.Optional)));return{routes:S.map(tt),injector:I}}),$i(()=>{this.childrenLoaders.delete(s)})),g=new mi(c,()=>new wr.x).pipe(Hi());return this.childrenLoaders.set(s,g),g}loadModuleFactoryOrRoutes(e){return Jr(e()).pipe((0,D.z)(s=>s instanceof f.YKP||Array.isArray(s)?Xe(s):(0,Xt.D)(this.compiler.compileModuleAsync(s))))}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(f.zs3),f.LFG(f.Sil))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Gy{}class zy{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Zy(n){throw n}function qy(n,t,e){return t.parse("/")}const C0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Ky(){const n=(0,f.f3M)(Ad),t=(0,f.f3M)(Ec),e=(0,f.f3M)(be),s=(0,f.f3M)(f.zs3),a=(0,f.f3M)(f.Sil),c=(0,f.f3M)(jg,{optional:!0})??[],g=(0,f.f3M)(Hd,{optional:!0})??{},v=(0,f.f3M)($y),I=(0,f.f3M)(Hy,{optional:!0}),S=(0,f.f3M)(Gy,{optional:!0}),V=(0,f.f3M)(v0,{optional:!0}),F=new Wn(null,n,t,e,s,a,Yh(c));return S&&(F.urlHandlingStrategy=S),V&&(F.routeReuseStrategy=V),F.titleStrategy=I??v,function Nf(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(g,F),F}let Wn=(()=>{class n{constructor(e,s,a,c,g,v,I){this.rootComponentType=e,this.urlSerializer=s,this.rootContexts=a,this.location=c,this.config=I,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new wr.x,this.errorHandler=Zy,this.malformedUriErrorHandler=qy,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Xe(void 0),this.urlHandlingStrategy=new zy,this.routeReuseStrategy=new Wy,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=g.get(Hg),this.configLoader.onLoadEndListener=K=>this.triggerEvent(new pf(K)),this.configLoader.onLoadStartListener=K=>this.triggerEvent(new ff(K)),this.ngModule=g.get(f.h0i),this.console=g.get(f.c2e);const F=g.get(f.R0b);this.isNgZoneEnabled=F instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(I),this.currentUrlTree=function Jh(){return new Bo(new It([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ya(this.currentUrlTree,this.rootComponentType),this.transitions=new en({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const s=this.events;return e.pipe(w(a=>0!==a.id),(0,Ye.U)(a=>({...a,extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),_n(a=>{let c=!1,g=!1;return Xe(a).pipe((0,Se.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.rawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),_n(v=>{const I=this.browserUrlTree.toString(),S=!this.navigated||v.extractedUrl.toString()!==I||I!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return $g(v.source)&&(this.browserUrlTree=v.extractedUrl),Xe(v).pipe(_n(F=>{const K=this.transitions.getValue();return s.next(new cc(F.id,this.serializeUrl(F.extractedUrl),F.source,F.restoredState)),K!==this.transitions.getValue()?gi.E:Promise.resolve(F)}),function g0(n,t,e,s){return _n(a=>function Qo(n,t,e,s,a){return new p0(n,t,e,s,a).apply()}(n,t,e,a.extractedUrl,s).pipe((0,Ye.U)(c=>({...a,urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Se.b)(F=>{this.currentNavigation={...this.currentNavigation,finalUrl:F.urlAfterRedirects},a.urlAfterRedirects=F.urlAfterRedirects}),function By(n,t,e,s,a,c){return(0,D.z)(g=>function PI(n,t,e,s,a,c,g="emptyOnly",v="legacy"){return new so(n,t,e,s,a,g,v,c).recognize().pipe(_n(I=>null===I?function Ly(n){return new Kn.y(t=>t.error(n))}(new RI):Xe(I)))}(n,t,e,g.urlAfterRedirects,s.serialize(g.urlAfterRedirects),s,a,c).pipe((0,Ye.U)(v=>({...g,targetSnapshot:v}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Se.b)(F=>{if(a.targetSnapshot=F.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!F.extras.skipLocationChange){const me=this.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl);this.setBrowserUrl(me,F)}this.browserUrlTree=F.urlAfterRedirects}const K=new Ig(F.id,this.serializeUrl(F.extractedUrl),this.serializeUrl(F.urlAfterRedirects),F.targetSnapshot);s.next(K)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:K,extractedUrl:me,source:ke,restoredState:dt,extras:mt}=v,Dn=new cc(K,this.serializeUrl(me),ke,dt);s.next(Dn);const ln=Ya(me,this.rootComponentType).snapshot;return Xe(a={...v,targetSnapshot:ln,urlAfterRedirects:me,extras:{...mt,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=v.rawUrl,v.resolve(null),gi.E}),(0,Se.b)(v=>{const I=new hc(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(I)}),(0,Ye.U)(v=>a={...v,guards:Cf(v.targetSnapshot,v.currentSnapshot,this.rootContexts)}),function r0(n,t){return(0,D.z)(e=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:c,canDeactivateChecks:g}}=e;return 0===g.length&&0===c.length?Xe({...e,guardsResult:!0}):function s0(n,t,e,s){return(0,Xt.D)(n).pipe((0,D.z)(a=>function u0(n,t,e,s,a){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return c&&0!==c.length?Xe(c.map(v=>{const I=Ko(t)??a,S=Ja(v,I);return Jr(function Ud(n){return n&&Xa(n.canDeactivate)}(S)?S.canDeactivate(n,t,e,s):I.runInContext(()=>S(n,t,e,s))).pipe(te())})).pipe(Dc()):Xe(!0)}(a.component,a.route,e,t,s)),te(a=>!0!==a,!0))}(g,s,a,n).pipe((0,D.z)(v=>v&&function Ry(n){return"boolean"==typeof n}(v)?function Pg(n,t,e,s){return(0,Xt.D)(t).pipe(ve(a=>ji(function a0(n,t){return null!==n&&t&&t(new gf(n)),Xe(!0)}(a.route.parent,s),function o0(n,t){return null!==n&&t&&t(new fc(n)),Xe(!0)}(a.route,s),function Py(n,t,e){const s=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(g=>function Sg(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(g)).filter(g=>null!==g).map(g=>Vr(()=>Xe(g.guards.map(I=>{const S=Ko(g.node)??e,V=Ja(I,S);return Jr(function Rg(n){return n&&Xa(n.canActivateChild)}(V)?V.canActivateChild(s,n):S.runInContext(()=>V(s,n))).pipe(te())})).pipe(Dc())));return Xe(c).pipe(Dc())}(n,a.path,e),function l0(n,t,e){const s=t.routeConfig?t.routeConfig.canActivate:null;if(!s||0===s.length)return Xe(!0);const a=s.map(c=>Vr(()=>{const g=Ko(t)??e,v=Ja(c,g);return Jr(function e0(n){return n&&Xa(n.canActivate)}(v)?v.canActivate(t,n):g.runInContext(()=>v(t,n))).pipe(te())}));return Xe(a).pipe(Dc())}(n,a.route,e))),te(a=>!0!==a,!0))}(s,c,n,t):Xe(v)),(0,Ye.U)(v=>({...e,guardsResult:v})))})}(this.ngModule.injector,v=>this.triggerEvent(v)),(0,Se.b)(v=>{if(a.guardsResult=v.guardsResult,no(v.guardsResult))throw ro(0,v.guardsResult);const I=new Sy(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.triggerEvent(I)}),w(v=>!!v.guardsResult||(this.restoreHistory(v),this.cancelNavigationTransition(v,"",3),!1)),Ug(v=>{if(v.guards.canActivateChecks.length)return Xe(v).pipe((0,Se.b)(I=>{const S=new Ka(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(S)}),_n(I=>{let S=!1;return Xe(I).pipe(function NI(n,t){return(0,D.z)(e=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=e;if(!a.length)return Xe(e);let c=0;return(0,Xt.D)(a).pipe(ve(g=>function Tc(n,t,e,s){const a=n.routeConfig,c=n._resolve;return void 0!==a?.title&&!Rf(a)&&(c[Qr]=a.title),function Vg(n,t,e,s){const a=function jy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===a.length)return Xe({});const c={};return(0,Xt.D)(a).pipe((0,D.z)(g=>function y0(n,t,e,s){const a=Ko(t)??s,c=Ja(n,a);return Jr(c.resolve?c.resolve(t,e):a.runInContext(()=>c(t,e)))}(n[g],t,e,s).pipe(te(),(0,Se.b)(v=>{c[g]=v}))),et(1),function Xs(n){return(0,Ye.U)(()=>n)}(c),Ge(g=>wf(g)?gi.E:gr(g)))}(c,n,t,s).pipe((0,Ye.U)(g=>(n._resolvedData=g,n.data=nu(n,e).resolve,a&&Rf(a)&&(n.data[Qr]=a.title),null)))}(g.route,s,n,t)),(0,Se.b)(()=>c++),et(1),(0,D.z)(g=>c===a.length?Xe(e):gi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Se.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(I),this.cancelNavigationTransition(I,"",2))}}))}),(0,Se.b)(I=>{const S=new Od(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(S)}))}),Ug(v=>{const I=S=>{const V=[];S.routeConfig?.loadComponent&&!S.routeConfig._loadedComponent&&V.push(this.configLoader.loadComponent(S.routeConfig).pipe((0,Se.b)(F=>{S.component=F}),(0,Ye.U)(()=>{})));for(const F of S.children)V.push(...I(F));return V};return Qs(I(v.targetSnapshot.root)).pipe(A(),zt(1))}),Ug(()=>this.afterPreactivation()),(0,Ye.U)(v=>{const I=function Ln(n,t,e){const s=Zo(n,t._root,e?e._root:void 0);return new _f(s,t)}(this.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return a={...v,targetRouterState:I}}),(0,Se.b)(v=>{this.currentUrlTree=v.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl),this.routerState=v.targetRouterState,"deferred"===this.urlUpdateStrategy&&(v.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,v),this.browserUrlTree=v.urlAfterRedirects)}),((n,t,e)=>(0,Ye.U)(s=>(new su(t,s.targetRouterState,s.currentRouterState,e).activate(n),s)))(this.rootContexts,this.routeReuseStrategy,v=>this.triggerEvent(v)),(0,Se.b)({next(){c=!0},complete(){c=!0}}),$i(()=>{c||g||this.cancelNavigationTransition(a,"",1),this.currentNavigation?.id===a.id&&(this.currentNavigation=null)}),Ge(v=>{if(g=!0,vf(v)){yc(v)||(this.navigated=!0,this.restoreHistory(a,!0));const I=new dc(a.id,this.serializeUrl(a.extractedUrl),v.message,v.cancellationCode);if(s.next(I),yc(v)){const S=this.urlHandlingStrategy.merge(v.url,this.rawUrlTree),V={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||$g(a.source)};this.scheduleNavigation(S,"imperative",null,V,{resolve:a.resolve,reject:a.reject,promise:a.promise})}else a.resolve(!1)}else{this.restoreHistory(a,!0);const I=new hf(a.id,this.serializeUrl(a.extractedUrl),v,a.targetSnapshot??void 0);s.next(I);try{a.resolve(this.errorHandler(v))}catch(S){a.reject(S)}}return gi.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const s="popstate"===e.type?"popstate":"hashchange";"popstate"===s&&setTimeout(()=>{const a={replaceUrl:!0},c=e.state?.navigationId?e.state:null;if(c){const v={...c};delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(a.state=v)}const g=this.parseUrl(e.url);this.scheduleNavigation(g,s,c,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(tt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,s={}){const{relativeTo:a,queryParams:c,fragment:g,queryParamsHandling:v,preserveFragment:I}=s,S=a||this.routerState.root,V=I?this.currentUrlTree.fragment:g;let F=null;switch(v){case"merge":F={...this.currentUrlTree.queryParams,...c};break;case"preserve":F=this.currentUrlTree.queryParams;break;default:F=c||null}return null!==F&&(F=this.removeEmptyProps(F)),Ay(S,this.currentUrlTree,e,F,V??null)}navigateByUrl(e,s={skipLocationChange:!1}){const a=no(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,s)}navigate(e,s={skipLocationChange:!1}){return function Yy(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new f.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,s),s)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let s;try{s=this.urlSerializer.parse(e)}catch(a){s=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return s}isActive(e,s){let a;if(a=!0===s?{...C0}:!1===s?{...xI}:s,no(e))return yg(this.currentUrlTree,e,a);const c=this.parseUrl(e);return yg(this.currentUrlTree,c,a)}removeEmptyProps(e){return Object.keys(e).reduce((s,a)=>{const c=e[a];return null!=c&&(s[a]=c),s},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Go(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,s,a,c,g){if(this.disposed)return Promise.resolve(!1);let v,I,S;g?(v=g.resolve,I=g.reject,S=g.promise):S=new Promise((K,me)=>{v=K,I=me});const V=++this.navigationId;let F;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),F=a&&a.\u0275routerPageId?a.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):F=0,this.setTransition({id:V,targetPageId:F,source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:c,resolve:v,reject:I,promise:S,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),S.catch(K=>Promise.reject(K))}setBrowserUrl(e,s){const a=this.urlSerializer.serialize(e),c={...s.extras.state,...this.generateNgRouterState(s.id,s.targetPageId)};this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl?this.location.replaceState(a,"",c):this.location.go(a,"",c)}restoreHistory(e,s=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===a?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===a&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,s,a){const c=new dc(e.id,this.serializeUrl(e.extractedUrl),s,a);this.triggerEvent(c),e.resolve(!1)}generateNgRouterState(e,s){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:s}:{navigationId:e}}}return n.\u0275fac=function(e){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:function(){return Ky()},providedIn:"root"}),n})();function $g(n){return"imperative"!==n}class Wg{}let Gg=(()=>{class n{constructor(e,s,a,c,g){this.router=e,this.injector=a,this.preloadingStrategy=c,this.loader=g}setUpPreloading(){this.subscription=this.router.events.pipe(w(e=>e instanceof Go),ve(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,s){const a=[];for(const c of s){c.providers&&!c._injector&&(c._injector=(0,f.MMx)(c.providers,e,`Route: ${c.path}`));const g=c._injector??e,v=c._loadedInjector??g;c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent?a.push(this.preloadConfig(g,c)):(c.children||c._loadedRoutes)&&a.push(this.processRoutes(v,c.children??c._loadedRoutes))}return(0,Xt.D)(a).pipe((0,za.J)())}preloadConfig(e,s){return this.preloadingStrategy.preload(s,()=>{let a;a=s.loadChildren&&void 0===s.canLoad?this.loader.loadChildren(e,s):Xe(null);const c=a.pipe((0,D.z)(g=>null===g?Xe(void 0):(s._loadedRoutes=g.routes,s._loadedInjector=g.injector,this.processRoutes(g.injector??e,g.routes))));if(s.loadComponent&&!s._loadedComponent){const g=this.loader.loadComponent(s);return(0,Xt.D)([c,g]).pipe((0,za.J)())}return c})}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(Wn),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(Wg),f.LFG(Hg))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ou=new f.OlP("");let Jy=(()=>{class n{constructor(e,s,a={}){this.router=e,this.viewportScroller=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof cc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Go&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof eu&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,s){this.router.triggerEvent(new eu(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function au(n,t){return{\u0275kind:n,\u0275providers:t}}function Gd(n){return[{provide:jg,multi:!0,useValue:n}]}function I0(){const n=(0,f.f3M)(f.zs3);return t=>{const e=n.get(f.z2F);if(t!==e.components[0])return;const s=n.get(Wn),a=n.get(zg);1===n.get(Zg)&&s.initialNavigation(),n.get(zi,null,f.XFs.Optional)?.setUpPreloading(),n.get(ou,null,f.XFs.Optional)?.init(),s.resetRootComponentType(e.componentTypes[0]),a.next(),a.complete()}}const zg=new f.OlP("",{factory:()=>new wr.x}),Zg=new f.OlP("",{providedIn:"root",factory:()=>1});const zi=new f.OlP("");function A0(n){return au(0,[{provide:zi,useExisting:Gg},{provide:Wg,useExisting:n}])}const tv=new f.OlP("ROUTER_FORROOT_GUARD"),M0=[be,{provide:Ad,useClass:ic},{provide:Wn,useFactory:Ky},Ec,{provide:zo,useFactory:function Xy(n){return n.routerState.root},deps:[Wn]},Hg];function nv(){return new f.PXZ("Router",Wn)}let rv=(()=>{class n{constructor(e){}static forRoot(e,s){return{ngModule:n,providers:[M0,[],Gd(e),{provide:tv,useFactory:iv,deps:[[Wn,new f.FiY,new f.tp0]]},{provide:Hd,useValue:s||{}},s?.useHash?{provide:fe,useClass:qe}:{provide:fe,useClass:je},{provide:ou,useFactory:()=>{const n=(0,f.f3M)(Wn),t=(0,f.f3M)(ma),e=(0,f.f3M)(Hd);return e.scrollOffset&&t.setOffset(e.scrollOffset),new Jy(n,t,e)}},s?.preloadingStrategy?A0(s.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:nv},s?.initialNavigation?sv(s):[],[{provide:qg,useFactory:I0},{provide:f.tb,multi:!0,useExisting:qg}]]}}static forChild(e){return{ngModule:n,providers:[Gd(e)]}}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(tv,8))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[d]}),n})();function iv(n){return"guarded"}function sv(n){return["disabled"===n.initialNavigation?au(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const t=(0,f.f3M)(Wn);return()=>{t.setUpLocationChangeListener()}}},{provide:Zg,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?au(2,[{provide:Zg,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:t=>{const e=t.get(j,Promise.resolve());let s=!1;return()=>e.then(()=>new Promise(c=>{const g=t.get(Wn),v=t.get(zg);(function a(c){t.get(Wn).events.pipe(w(v=>v instanceof Go||v instanceof dc||v instanceof hf),(0,Ye.U)(v=>v instanceof Go||v instanceof dc&&(0===v.code||1===v.code)&&null),w(v=>null!==v),zt(1)).subscribe(()=>{c()})})(()=>{c(!0),s=!0}),g.afterPreactivation=()=>(c(!0),s||v.closed?Xe(void 0):v),g.initialNavigation()}))}}]).\u0275providers:[]]}const qg=new f.OlP("");class ov{constructor(){this.nome="",this.email="",this.telefone=""}}var av=N(127),Lf=N(6451),Vf=N(5363),O0=N(6063);class VI extends wr.x{constructor(t=1/0,e=1/0,s=O0.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:s,_infiniteTimeWindow:a,_timestampProvider:c,_windowTime:g}=this;e||(s.push(t),!a&&s.push(c.now()+g)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:s,_buffer:a}=this,c=a.slice();for(let g=0;g<c.length&&!t.closed;g+=s?1:2)t.next(c[g]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:s,_infiniteTimeWindow:a}=this,c=(a?1:2)*t;if(t<1/0&&c<s.length&&s.splice(0,s.length-c),!a){const g=e.now();let v=0;for(let I=1;I<s.length&&s[I]<=g;I+=2)v=I;v&&s.splice(0,v+1)}}}var Kg=N(3099);function Yg(n,t,e){let s,a=!1;return n&&"object"==typeof n?({bufferSize:s=1/0,windowTime:t=1/0,refCount:a=!1,scheduler:e}=n):s=n??1/0,(0,Kg.B)({connector:()=>new VI(s,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function tl(n,t){return(0,Js.m)(t)?_n(()=>n,t):_n(()=>n)}var Qg=N(9468),ti=N(5813),yi=N(2011);N(5867);var lu=N(5861),nl=N(9681),uu=N(4859),x=N(2090),zd=N(1877);const Bf=new Map,zI={activated:!1,tokenObservers:[]},em={initialized:!1,enabled:!1};function sr(n){return Bf.get(n)||zI}function Ds(n,t){Bf.set(n,t)}function Jo(){return em}class nm{constructor(t,e,s,a,c){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=a,a>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,lu.Z)(function*(){e.stop();try{e.pending=new x.BH,yield function Xo(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new x.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(s){e.retryPolicy(s)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Ar=new x.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function U0(n){if(!sr(n).activated)throw Ar.create("use-before-activation",{appName:n.name})}function Mc(n,t){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,lu.Z)(function*({url:n,body:t},e){var s,a;const c={"Content-Type":"application/json"},g=e.getImmediate({optional:!0});if(g){const me=yield g.getHeartbeatsHeader();me&&(c["X-Firebase-Client"]=me)}const v={method:"POST",body:JSON.stringify(t),headers:c};let I,S;try{I=yield fetch(n,v)}catch(me){throw Ar.create("fetch-network-error",{originalErrorMessage:null===(s=me)||void 0===s?void 0:s.message})}if(200!==I.status)throw Ar.create("fetch-status-error",{httpStatus:I.status});try{S=yield I.json()}catch(me){throw Ar.create("fetch-parse-error",{originalErrorMessage:null===(a=me)||void 0===a?void 0:a.message})}const V=S.ttl.match(/^([\d.]+)(s)$/);if(!V||!V[2]||isNaN(Number(V[1])))throw Ar.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${S.ttl}`});const F=1e3*Number(V[1]),K=Date.now();return{token:S.token,expireTimeMillis:K+F,issuedAtTimeMillis:K}})).apply(this,arguments)}function am(n,t){const{projectId:e,appId:s,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:t}}}const Zd="firebase-app-check-store";let Wf=null;function lm(){return Wf||(Wf=new Promise((n,t)=>{var e;try{const s=indexedDB.open("firebase-app-check-database",1);s.onsuccess=a=>{n(a.target.result)},s.onerror=a=>{var c;t(Ar.create("storage-open",{originalErrorMessage:null===(c=a.target.error)||void 0===c?void 0:c.message}))},s.onupgradeneeded=a=>{0===a.oldVersion&&a.target.result.createObjectStore(Zd,{keyPath:"compositeKey"})}}catch(s){t(Ar.create("storage-open",{originalErrorMessage:null===(e=s)||void 0===e?void 0:e.message}))}}),Wf)}function cm(){return(cm=(0,lu.Z)(function*(n,t){const s=(yield lm()).transaction(Zd,"readwrite"),c=s.objectStore(Zd).put({compositeKey:n,value:t});return new Promise((g,v)=>{c.onsuccess=I=>{g()},s.onerror=I=>{var S;v(Ar.create("storage-set",{originalErrorMessage:null===(S=I.target.error)||void 0===S?void 0:S.message}))}})})).apply(this,arguments)}const zf=new zd.Yd("@firebase/app-check");function pv(n,t){return(0,x.hl)()?function j0(n,t){return function um(n,t){return cm.apply(this,arguments)}(function H0(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{zf.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function $0(){return Jo().enabled}function W0(){return ao.apply(this,arguments)}function ao(){return(ao=(0,lu.Z)(function*(){const n=Jo();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const G0={error:"UNKNOWN_ERROR"};function mv(n){return x.US.encodeString(JSON.stringify(n),!1)}function Pc(n){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,lu.Z)(function*(n,t=!1){const e=n.app;U0(e);const s=sr(e);let c,a=s.token;if(a&&!Nc(a)&&(Ds(e,Object.assign(Object.assign({},s),{token:void 0})),a=void 0),!a){const I=yield s.cachedTokenPromise;I&&(Nc(I)?a=I:yield pv(e,void 0))}if(!t&&a&&Nc(a))return{token:a.token};let v,g=!1;if($0()){s.exchangeTokenPromise||(s.exchangeTokenPromise=Mc(am(e,yield W0()),n.heartbeatServiceProvider).finally(()=>{s.exchangeTokenPromise=void 0}),g=!0);const I=yield s.exchangeTokenPromise;return yield pv(e,I),Ds(e,Object.assign(Object.assign({},s),{token:I})),{token:I.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().finally(()=>{s.exchangeTokenPromise=void 0}),g=!0),a=yield s.exchangeTokenPromise}catch(I){"appCheck/throttled"===I.code?zf.warn(I.message):zf.error(I),c=I}return a?c?v=Nc(a)?{token:a.token,internalError:c}:fm(c):(v={token:a.token},Ds(e,Object.assign(Object.assign({},s),{token:a})),yield pv(e,a)):v=fm(c),g&&yv(e,v),v})).apply(this,arguments)}function hm(n,t){const e=sr(n),s=e.tokenObservers.filter(a=>a.next!==t);0===s.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Ds(n,Object.assign(Object.assign({},e),{tokenObservers:s}))}function ea(n){const{app:t}=n,e=sr(t);let s=e.tokenRefresher;s||(s=function _v(n){const{app:t}=n;return new nm((0,lu.Z)(function*(){let s;if(s=sr(t).token?yield Pc(n,!0):yield Pc(n),s.error)throw s.error;if(s.internalError)throw s.internalError}),()=>!0,()=>{const e=sr(t);if(e.token){let s=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,e.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(n),Ds(t,Object.assign(Object.assign({},e),{tokenRefresher:s}))),!s.isRunning()&&e.isTokenAutoRefreshEnabled&&s.start()}function yv(n,t){const e=sr(n).tokenObservers;for(const s of e)try{"EXTERNAL"===s.type&&null!=t.error?s.error(t.error):s.next(t)}catch{}}function Nc(n){return n.expireTimeMillis-Date.now()>0}function fm(n){return{token:mv(G0),error:n}}class z0{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=sr(this.app);for(const e of t)hm(this.app,e.next);return Promise.resolve()}}const Cm="app-check-internal";!function Y0(){(0,nl._registerComponent)(new uu.wA("app-check",n=>function Z0(n,t){return new z0(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Cm).initialize()})),(0,nl._registerComponent)(new uu.wA(Cm,n=>function qf(n){return{getToken:t=>Pc(n,t),addTokenListener:t=>function qd(n,t,e,s){const{app:a}=n,c=sr(a),g={next:e,error:s,type:t};if(Ds(a,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,g]})),c.token&&Nc(c.token)){const v=c.token;Promise.resolve().then(()=>{e({token:v.token}),ea(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>ea(n))}(n,"INTERNAL",t),removeTokenListener:t=>hm(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,nl.registerVersion)("@firebase/app-check","0.5.13")}();class Xf{constructor(){return(0,ti.vb)("app-check")}}typeof window<"u"&&window;const tp=new f.OlP("angularfire2.auth.use-emulator"),Tv=new f.OlP("angularfire2.auth.settings"),Av=new f.OlP("angularfire2.auth.tenant-id"),Yd=new f.OlP("angularfire2.auth.langugage-code"),np=new f.OlP("angularfire2.auth.use-device-language"),Qd=new f.OlP("angularfire.auth.persistence"),rw=(n,t,e,s,a,c,g,v)=>(0,yi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const I=t.runOutsideAngular(()=>n.auth());if(e&&I.useEmulator(...e),s&&(I.tenantId=s),I.languageCode=a,c&&I.useDeviceLanguage(),g)for(const[S,V]of Object.entries(g))I.settings[S]=V;return v&&I.setPersistence(v),I},[e,s,a,c,g,v]);let kc=(()=>{class n{constructor(e,s,a,c,g,v,I,S,V,F,K,me){const ke=new wr.x,dt=Xe(void 0).pipe((0,Vf.Q)(g.outsideAngular),_n(()=>c.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,3704)))),(0,Ye.U)(()=>(0,yi.on)(e,c,s)),(0,Ye.U)(mt=>rw(mt,c,v,S,V,F,I,K)),Yg({bufferSize:1,refCount:!1}));if(function qn(n){return"server"===n}(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Xe(null);else{dt.pipe(te()).subscribe();const Dn=dt.pipe(_n(On=>On.getRedirectResult().then(ho=>ho,()=>null)),ti.iC,Yg({bufferSize:1,refCount:!1})),ln=dt.pipe(_n(On=>new Kn.y(ho=>({unsubscribe:c.runOutsideAngular(()=>On.onAuthStateChanged(Vh=>ho.next(Vh),Vh=>ho.error(Vh),()=>ho.complete()))})))),$r=dt.pipe(_n(On=>new Kn.y(ho=>({unsubscribe:c.runOutsideAngular(()=>On.onIdTokenChanged(Vh=>ho.next(Vh),Vh=>ho.error(Vh),()=>ho.complete()))}))));this.authState=Dn.pipe(tl(ln),(0,Qg.R)(g.outsideAngular),(0,Vf.Q)(g.insideAngular)),this.user=Dn.pipe(tl($r),(0,Qg.R)(g.outsideAngular),(0,Vf.Q)(g.insideAngular)),this.idToken=this.user.pipe(_n(On=>On?(0,Xt.D)(On.getIdToken()):Xe(null))),this.idTokenResult=this.user.pipe(_n(On=>On?(0,Xt.D)(On.getIdTokenResult()):Xe(null))),this.credential=(0,Lf.T)(Dn,ke,this.authState.pipe(w(On=>!On))).pipe((0,Ye.U)(On=>On?.user?On:null),(0,Qg.R)(g.outsideAngular),(0,Vf.Q)(g.insideAngular))}return(0,yi.pX)(this,dt,c,{spy:{apply:(mt,Dn,ln)=>{(mt.startsWith("signIn")||mt.startsWith("createUser"))&&ln.then($r=>ke.next($r))}}})}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(yi.Dh),f.LFG(yi.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(ti.HU),f.LFG(tp,8),f.LFG(Tv,8),f.LFG(Av,8),f.LFG(Yd,8),f.LFG(np,8),f.LFG(Qd,8),f.LFG(Xf,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();var Sv=N(4986);function Rv(n,t){return n===t}var Pv=N(5032);N(3704);var rp=N(3942);const Fc="@firebase/database";let Jd="";function bm(n){Jd=n}class iw{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,x.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,x.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class sw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,x.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Lc=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new iw(t)}}catch{}return new sw},cu=Lc("localStorage"),Ov=Lc("sessionStorage"),Vc=new zd.Yd("@firebase/database"),ow=function(){let n=1;return function(){return n++}}(),xv=function(n){const t=(0,x.dS)(n),e=new x.gQ;e.update(t);const s=e.digest();return x.US.encodeByteArray(s)},Xd=function(...n){let t="";for(let e=0;e<n.length;e++){const s=n[e];Array.isArray(s)||s&&"object"==typeof s&&"number"==typeof s.length?t+=Xd.apply(null,s):t+="object"==typeof s?(0,x.Wl)(s):s,t+=" "}return t};let du=null,Tm=!0;const ip=function(n,t){(0,x.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Vc.logLevel=zd.in.VERBOSE,du=Vc.log.bind(Vc),t&&Ov.set("logging_enabled",!0)):"function"==typeof n?du=n:(du=null,Ov.remove("logging_enabled"))},or=function(...n){if(!0===Tm&&(Tm=!1,null===du&&!0===Ov.get("logging_enabled")&&ip(!0)),du){const t=Xd.apply(null,n);du(t)}},hu=function(n){return function(...t){or(n,...t)}},Am=function(...n){const t="FIREBASE INTERNAL ERROR: "+Xd(...n);Vc.error(t)},lo=function(...n){const t=`FIREBASE FATAL ERROR: ${Xd(...n)}`;throw Vc.error(t),new Error(t)},Sr=function(...n){const t="FIREBASE WARNING: "+Xd(...n);Vc.warn(t)},sp=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Zi="[MIN_NAME]",Mr="[MAX_NAME]",Uc=function(n,t){if(n===t)return 0;if(n===Zi||t===Mr)return-1;if(t===Zi||n===Mr)return 1;{const e=ra(n),s=ra(t);return null!==e?null!==s?e-s==0?n.length-t.length:e-s:-1:null!==s?1:n<t?-1:1}},eh=function(n,t){return n===t?0:n<t?-1:1},th=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,x.Wl)(t))},Sm=function(n){if("object"!=typeof n||null===n)return(0,x.Wl)(n);const t=[];for(const s in n)t.push(s);t.sort();let e="{";for(let s=0;s<t.length;s++)0!==s&&(e+=","),e+=(0,x.Wl)(t[s]),e+=":",e+=Sm(n[t[s]]);return e+="}",e},op=function(n,t){const e=n.length;if(e<=t)return[n];const s=[];for(let a=0;a<e;a+=t)s.push(n.substring(a,a+t>e?e:a+t));return s};function ar(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const bs=function(n){(0,x.hu)(!sp(n),"Invalid JSON number");const s=1023;let a,c,g,v,I;0===n?(c=0,g=0,a=1/n==-1/0?1:0):(a=n<0,(n=Math.abs(n))>=Math.pow(2,1-s)?(v=Math.min(Math.floor(Math.log(n)/Math.LN2),s),c=v+s,g=Math.round(n*Math.pow(2,52-v)-Math.pow(2,52))):(c=0,g=Math.round(n/Math.pow(2,-1074))));const S=[];for(I=52;I;I-=1)S.push(g%2?1:0),g=Math.floor(g/2);for(I=11;I;I-=1)S.push(c%2?1:0),c=Math.floor(c/2);S.push(a?1:0),S.reverse();const V=S.join("");let F="";for(I=0;I<64;I+=8){let K=parseInt(V.substr(I,8),2).toString(16);1===K.length&&(K="0"+K),F+=K}return F.toLowerCase()},ap=new RegExp("^-?(0*)\\d{1,10}$"),Ei=-2147483648,rh=2147483647,ra=function(n){if(ap.test(n)){const t=Number(n);if(t>=Ei&&t<=rh)return t}return null},Ts=function(n){try{n()}catch(t){setTimeout(()=>{throw Sr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},uo=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class jc{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(s=>this.appCheck=s)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,s)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(s=>s.addTokenListener(t))}notifyForInvalidToken(){Sr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Hc{constructor(t,e,s){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(or("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,s)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Sr(t)}}let co=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Nm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,km="websocket",Fm="long_polling";class Lm{constructor(t,e,s,a,c=!1,g="",v=!1){this.secure=e,this.namespace=s,this.webSocketOnly=a,this.nodeAdmin=c,this.persistenceKey=g,this.includeNamespaceInQueryParams=v,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=cu.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&cu.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Vm(n,t,e){let s;if((0,x.hu)("string"==typeof t,"typeof type must == string"),(0,x.hu)("object"==typeof e,"typeof params must == object"),t===km)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==Fm)throw new Error("Unknown connection type: "+t);s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function uw(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const a=[];return ar(e,(c,g)=>{a.push(c+"="+g)}),s+a.join("&")}class cw{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,x.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,x.p$)(this.counters_)}}const Um={},ih={};function sh(n){const t=n.toString();return Um[t]||(Um[t]=new cw),Um[t]}class up{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<s.length;++a)s[a]&&Ts(()=>{this.onMessage_(s[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class rl{constructor(t,e,s,a,c,g,v){this.connId=t,this.repoInfo=e,this.applicationId=s,this.appCheckToken=a,this.authToken=c,this.transportSessionId=g,this.lastSessionId=v,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=hu(t),this.stats_=sh(e),this.urlFn=I=>(this.appCheckToken&&(I.ac=this.appCheckToken),Vm(e,Fm,I))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new up(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,x.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Zm((...c)=>{const[g,v,I,S,V]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===g)this.id=v,this.password=I;else{if("close"!==g)throw new Error("Unrecognized command received: "+g);v?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(v,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[g,v]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(g,v)},()=>{this.onClosed_()},this.urlFn);const s={start:"t"};s.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(s.cb=this.scriptTagHolder.uniqueCallbackIdentifier),s.v="5",this.transportSessionId&&(s.s=this.transportSessionId),this.lastSessionId&&(s.ls=this.lastSessionId),this.applicationId&&(s.p=this.applicationId),this.appCheckToken&&(s.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Nm.test(location.hostname)&&(s.r="f");const a=this.urlFn(s);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){rl.forceAllow_=!0}static forceDisallow(){rl.forceDisallow_=!0}static isAvailable(){return!((0,x.Yr)()||!rl.forceAllow_&&(rl.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,x.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const s=(0,x.h$)(e),a=op(s,1840);for(let c=0;c<a.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[c]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,x.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const s={dframe:"t"};s.id=t,s.pw=e,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,x.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Zm{constructor(t,e,s,a){if(this.onDisconnect=s,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,x.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=ow(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Zm.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const g="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(g),this.myIFrame.doc.close()}catch(v){or("frame writing exception"),v.stack&&or(v.stack),or(v)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||or("No IE domain setting required")}catch{const s=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),s="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+s.length<=1870;){const g=this.pendingSegs.shift();s=s+"&seg"+a+"="+g.seg+"&ts"+a+"="+g.ts+"&d"+a+"="+g.d,a++}return e+=s,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,s){this.pendingSegs.push({seg:t,ts:e,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const s=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(s,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),s()})}addTag(t,e){(0,x.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=t,s.onload=s.onreadystatechange=function(){const a=s.readyState;(!a||"loaded"===a||"complete"===a)&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),e())},s.onerror=()=>{or("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}let $c=null;typeof MozWebSocket<"u"?$c=MozWebSocket:typeof WebSocket<"u"&&($c=WebSocket);let gu=(()=>{class n{constructor(e,s,a,c,g,v,I){this.connId=e,this.applicationId=a,this.appCheckToken=c,this.authToken=g,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=hu(this.connId),this.stats_=sh(s),this.connURL=n.connectionURL_(s,v,I,c,a),this.nodeAdmin=s.nodeAdmin}static connectionURL_(e,s,a,c,g){const v={v:"5"};return!(0,x.Yr)()&&typeof location<"u"&&location.hostname&&Nm.test(location.hostname)&&(v.r="f"),s&&(v.s=s),a&&(v.ls=a),c&&(v.ac=c),g&&(v.p=g),Vm(e,km,v)}open(e,s){this.onDisconnect=s,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,cu.set("previous_websocket_failure",!0);try{let a;if((0,x.Yr)()){a={headers:{"User-Agent":`Firebase/5/${Jd}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const g=process.env,v=0===this.connURL.indexOf("wss://")?g.HTTPS_PROXY||g.https_proxy:g.HTTP_PROXY||g.http_proxy;v&&(a.proxy={origin:v})}this.mySock=new $c(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const c=a.message||a.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const c=a.message||a.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==$c&&!n.forceDisallow_}static previouslyFailed(){return cu.isInMemoryStorage||!0===cu.get("previous_websocket_failure")}markConnectionHealthy(){cu.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const a=(0,x.cI)(s);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,x.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const s=Number(e);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const s=e.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(s);else{const a=this.extractFrameCount_(s);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const s=(0,x.Wl)(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const a=op(s,16384);a.length>1&&this.sendString_(String(a.length));for(let c=0;c<a.length;c++)this.sendString_(a[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),qm=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[rl,gu]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const s=gu&&gu.isAvailable();let a=s&&!gu.previouslyFailed();if(e.webSocketOnly&&(s||Sr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[gu];else{const c=this.transports_=[];for(const g of n.ALL_TRANSPORTS)g&&g.isAvailable()&&c.push(g);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class Kv{constructor(t,e,s,a,c,g,v,I,S,V){this.id=t,this.repoInfo_=e,this.applicationId_=s,this.appCheckToken_=a,this.authToken_=c,this.onMessage_=g,this.onReady_=v,this.onDisconnect_=I,this.onKill_=S,this.lastSessionId=V,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=hu("c:"+this.id+":"),this.transportManager_=new qm(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,s)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=uo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=th("t",t),s=th("d",t);if("c"===e)this.onSecondaryControl_(s);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(s)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=th("t",t),s=th("d",t);"c"===e?this.onControl_(s):"d"===e&&this.onDataMessage_(s)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=th("t",t);if("d"in t){const s=t.d;if("h"===e)this.onHandshake_(s);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(s):"r"===e?this.onReset_(s):"e"===e?Am("Server Error: "+s):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Am("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,s=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==s&&Sr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,s),uo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):uo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(cu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Jm{put(t,e,s,a){}merge(t,e,s,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,s){}onDisconnectMerge(t,e,s){}onDisconnectCancel(t,e){}reportStats(t){}}class Yv{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,x.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const s=[...this.listeners_[t]];for(let a=0;a<s.length;a++)s[a].callback.apply(s[a].context,e)}}on(t,e,s){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:s});const a=this.getInitialEvent(t);a&&e.apply(s,a)}off(t,e,s){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let c=0;c<a.length;c++)if(a[c].callback===e&&(!s||s===a[c].context))return void a.splice(c,1)}validateEventType_(t){(0,x.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class ah extends Yv{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,x.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ah}getInitialEvent(t){return(0,x.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Wt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let s=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[s]=this.pieces_[a],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function jt(){return new Wt("")}function bt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function il(n){return n.pieces_.length-n.pieceNum_}function Qt(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Wt(n.pieces_,t)}function Qv(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function _u(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function As(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Wt(t,0)}function vn(n,t){const e=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)e.push(n.pieces_[s]);if(t instanceof Wt)for(let s=t.pieceNum_;s<t.pieces_.length;s++)e.push(t.pieces_[s]);else{const s=t.split("/");for(let a=0;a<s.length;a++)s[a].length>0&&e.push(s[a])}return new Wt(e,0)}function Tt(n){return n.pieceNum_>=n.pieces_.length}function En(n,t){const e=bt(n),s=bt(t);if(null===e)return t;if(e===s)return En(Qt(n),Qt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Ss(n,t){const e=_u(n,0),s=_u(t,0);for(let a=0;a<e.length&&a<s.length;a++){const c=Uc(e[a],s[a]);if(0!==c)return c}return e.length===s.length?0:e.length<s.length?-1:1}function Ci(n,t){if(il(n)!==il(t))return!1;for(let e=n.pieceNum_,s=t.pieceNum_;e<=n.pieces_.length;e++,s++)if(n.pieces_[e]!==t.pieces_[s])return!1;return!0}function wi(n,t){let e=n.pieceNum_,s=t.pieceNum_;if(il(n)>il(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[s])return!1;++e,++s}return!0}class Xv{constructor(t,e){this.errorPrefix_=e,this.parts_=_u(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=(0,x.ug)(this.parts_[s]);eE(this)}}function eE(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+yu(n))}function yu(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class lh extends Yv{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const s=!document[t];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new lh}getInitialEvent(t){return(0,x.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const sa=1e3;let Wc,vu=(()=>{class n extends Jm{constructor(e,s,a,c,g,v,I,S){if(super(),this.repoInfo_=e,this.applicationId_=s,this.onDataUpdate_=a,this.onConnectStatus_=c,this.onServerInfoUpdate_=g,this.authTokenProvider_=v,this.appCheckTokenProvider_=I,this.authOverride_=S,this.id=n.nextPersistentConnectionId_++,this.log_=hu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=sa,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,S&&!(0,x.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");lh.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&ah.getInstance().on("online",this.onOnline_,this)}sendRequest(e,s,a){const c=++this.requestNumber_,g={r:c,a:e,b:s};this.log_((0,x.Wl)(g)),(0,x.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(g),a&&(this.requestCBHash_[c]=a)}get(e){this.initConnection_();const s=new x.BH,a={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:a,onComplete:v=>{const I=v.d;"ok"===v.s?s.resolve(I):s.reject(I)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),s.promise}listen(e,s,a,c){this.initConnection_();const g=e._queryIdentifier,v=e._path.toString();this.log_("Listen called for "+v+" "+g),this.listens.has(v)||this.listens.set(v,new Map),(0,x.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,x.hu)(!this.listens.get(v).has(g),"listen() called twice for same path/queryId.");const I={onComplete:c,hashFn:s,query:e,tag:a};this.listens.get(v).set(g,I),this.connected_&&this.sendListen_(I)}sendGet_(e){const s=this.outstandingGets_[e];this.sendRequest("g",s.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(a)})}sendListen_(e){const s=e.query,a=s._path.toString(),c=s._queryIdentifier;this.log_("Listen on "+a+" for "+c);const g={p:a};e.tag&&(g.q=s._queryObject,g.t=e.tag),g.h=e.hashFn(),this.sendRequest("q",g,I=>{const S=I.d,V=I.s;n.warnOnListenWarnings_(S,s),(this.listens.get(a)&&this.listens.get(a).get(c))===e&&(this.log_("listen response",I),"ok"!==V&&this.removeListen_(a,c),e.onComplete&&e.onComplete(V,S))})}static warnOnListenWarnings_(e,s){if(e&&"object"==typeof e&&(0,x.r3)(e,"w")){const a=(0,x.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const c='".indexOn": "'+s._queryParams.getIndex().toString()+'"',g=s._path.toString();Sr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${g} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,x.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,s=(0,x.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(s,a,c=>{const g=c.s,v=c.d||"error";this.authToken_===e&&("ok"===g?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(g,v))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const s=e.s,a=e.d||"error";"ok"===s?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,a)})}unlisten(e,s){const a=e._path.toString(),c=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+c),(0,x.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,c)&&this.connected_&&this.sendUnlisten_(a,c,e._queryObject,s)}sendUnlisten_(e,s,a,c){this.log_("Unlisten on "+e+" for "+s);const g={p:e};c&&(g.q=a,g.t=c),this.sendRequest("n",g)}onDisconnectPut(e,s,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,s,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:s,onComplete:a})}onDisconnectMerge(e,s,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,s,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:s,onComplete:a})}onDisconnectCancel(e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(e,s,a,c){const g={p:s,d:a};this.log_("onDisconnect "+e,g),this.sendRequest(e,g,v=>{c&&setTimeout(()=>{c(v.s,v.d)},Math.floor(0))})}put(e,s,a,c){this.putInternal("p",e,s,a,c)}merge(e,s,a,c){this.putInternal("m",e,s,a,c)}putInternal(e,s,a,c,g){this.initConnection_();const v={p:s,d:a};void 0!==g&&(v.h=g),this.outstandingPuts_.push({action:e,request:v,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+s)}sendPut_(e){const s=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,c=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(s,a,g=>{this.log_(s+" response",g),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(g.s,g.d)})}reportStats(e){if(this.connected_){const s={c:e};this.log_("reportStats",s),this.sendRequest("s",s,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,x.Wl)(e));const s=e.r,a=this.requestCBHash_[s];a&&(delete this.requestCBHash_[s],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,s){this.log_("handleServerMessage",e,s),"d"===e?this.onDataUpdate_(s.p,s.d,!1,s.t):"m"===e?this.onDataUpdate_(s.p,s.d,!0,s.t):"c"===e?this.onListenRevoked_(s.p,s.q):"ac"===e?this.onAuthRevoked_(s.s,s.d):"apc"===e?this.onAppCheckRevoked_(s.s,s.d):"sd"===e?this.onSecurityDebugPacket_(s):Am("Unrecognized action received from server: "+(0,x.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,x.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=sa,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=sa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=sa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let s=Math.max(0,this.reconnectDelay_-e);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,lu.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const s=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),c=e.onRealtimeDisconnect_.bind(e),g=e.id+":"+n.nextConnectionId_++,v=e.lastSessionId;let I=!1,S=null;const V=function(){S?S.close():(I=!0,c())};e.realtime_={close:V,sendRequest:function(me){(0,x.hu)(S,"sendRequest call when we're not connected not allowed."),S.sendRequest(me)}};const K=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[me,ke]=yield Promise.all([e.authTokenProvider_.getToken(K),e.appCheckTokenProvider_.getToken(K)]);I?or("getToken() completed but was canceled"):(or("getToken() completed. Creating connection."),e.authToken_=me&&me.accessToken,e.appCheckToken_=ke&&ke.token,S=new Kv(g,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,s,a,c,dt=>{Sr(dt+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},v))}catch(me){e.log_("Failed to get token: "+me),I||(e.repoInfo_.nodeAdmin&&Sr(me),V())}}})()}interrupt(e){or("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){or("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,x.xb)(this.interruptReasons_)&&(this.reconnectDelay_=sa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const s=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const s=this.outstandingPuts_[e];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,s){let a;a=s?s.map(g=>Sm(g)).join("$"):"default";const c=this.removeListen_(e,a);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(e,s){const a=new Wt(e).toString();let c;if(this.listens.has(a)){const g=this.listens.get(a);c=g.get(s),g.delete(s),0===g.size&&this.listens.delete(a)}else c=void 0;return c}onAuthRevoked_(e,s){or("Auth token revoked: "+e+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,s){or("App check token revoked: "+e+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const s of e.values())this.sendListen_(s);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let s="js";(0,x.Yr)()&&(s=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+s+"."+Jd.replace(/\./g,"-")]=1,(0,x.uI)()?e["framework.cordova"]=1:(0,x.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ah.getInstance().currentlyOnline();return(0,x.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class At{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new At(t,e)}}class ch{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const s=new At(Zi,t),a=new At(Zi,e);return 0!==this.compare(s,a)}minPost(){return At.MIN}}class hp extends ch{static get __EMPTY_NODE(){return Wc}static set __EMPTY_NODE(t){Wc=t}compare(t,e){return Uc(t.name,e.name)}isDefinedOn(t){throw(0,x.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return At.MIN}maxPost(){return new At(Mr,Wc)}makePost(t,e){return(0,x.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new At(t,Wc)}toString(){return".key"}}const Ms=new hp;class dh{constructor(t,e,s,a,c=null){this.isReverse_=a,this.resultGenerator_=c,this.nodeStack_=[];let g=1;for(;!t.isEmpty();)if(g=e?s(t.key,e):1,a&&(g*=-1),g<0)t=this.isReverse_?t.left:t.right;else{if(0===g){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let pp,qi=(()=>{class n{constructor(e,s,a,c,g){this.key=e,this.value=s,this.color=a??n.RED,this.left=c??jr.EMPTY_NODE,this.right=g??jr.EMPTY_NODE}copy(e,s,a,c,g){return new n(e??this.key,s??this.value,a??this.color,c??this.left,g??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,a){let c=this;const g=a(e,c.key);return c=g<0?c.copy(null,null,null,c.left.insert(e,s,a),null):0===g?c.copy(null,s,null,null,null):c.copy(null,null,null,null,c.right.insert(e,s,a)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return jr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,s){let a,c;if(a=this,s(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,s),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===s(e,a.key)){if(a.right.isEmpty())return jr.EMPTY_NODE;c=a.right.min_(),a=a.copy(c.key,c.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,s))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class jr{constructor(t,e=jr.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new jr(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,qi.BLACK,null,null))}remove(t){return new jr(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,qi.BLACK,null,null))}get(t){let e,s=this.root_;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e)return s.value;e<0?s=s.left:e>0&&(s=s.right)}return null}getPredecessorKey(t){let e,s=this.root_,a=null;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e){if(s.left.isEmpty())return a?a.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}e<0?s=s.left:e>0&&(a=s,s=s.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new dh(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new dh(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new dh(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new dh(this.root_,null,this.comparator_,!0,t)}}function iE(n,t){return Uc(n.name,t.name)}function fp(n,t){return Uc(n,t)}jr.EMPTY_NODE=new class rE{copy(t,e,s,a,c){return this}insert(t,e,s){return new qi(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const sE=function(n){return"number"==typeof n?"number:"+bs(n):"string:"+n},oE=function(n){if(n.isLeafNode()){const t=n.val();(0,x.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,x.r3)(t,".sv"),"Priority must be a string or number.")}else(0,x.hu)(n===pp||n.isEmpty(),"priority of unexpected type.");(0,x.hu)(n===pp||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let aE,lE,uE,Gc=(()=>{class n{constructor(e,s=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=s,this.lazyHash_=null,(0,x.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),oE(this.priorityNode_)}static set __childrenNodeConstructor(e){aE=e}static get __childrenNodeConstructor(){return aE}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Tt(e)?this:".priority"===bt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,s){return null}updateImmediateChild(e,s){return".priority"===e?this.updatePriority(s):s.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,s).updatePriority(this.priorityNode_)}updateChild(e,s){const a=bt(e);return null===a?s:s.isEmpty()&&".priority"!==a?this:((0,x.hu)(".priority"!==a||1===il(e),".priority must be the last token in a path"),this.updateImmediateChild(a,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Qt(e),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,s){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+sE(this.priorityNode_.val())+":");const s=typeof this.value_;e+=s+":",e+="number"===s?bs(this.value_):this.value_,this.lazyHash_=xv(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,x.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const s=typeof e.value_,a=typeof this.value_,c=n.VALUE_TYPE_ORDER.indexOf(s),g=n.VALUE_TYPE_ORDER.indexOf(a);return(0,x.hu)(c>=0,"Unknown leaf type: "+s),(0,x.hu)(g>=0,"Unknown leaf type: "+a),c===g?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:g-c}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const s=e;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const an=new class Dw extends ch{compare(t,e){const s=t.node.getPriority(),a=e.node.getPriority(),c=s.compareTo(a);return 0===c?Uc(t.name,e.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return At.MIN}maxPost(){return new At(Mr,new Gc("[PRIORITY-POST]",uE))}makePost(t,e){const s=lE(t);return new At(e,new Gc("[PRIORITY-POST]",s))}toString(){return".priority"}},Iw=Math.log(2);class bw{constructor(t){this.count=parseInt(Math.log(t+1)/Iw,10),this.current_=this.count-1;const a=(c=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const gp=function(n,t,e,s){n.sort(t);const a=function(I,S){const V=S-I;let F,K;if(0===V)return null;if(1===V)return F=n[I],K=e?e(F):F,new qi(K,F.node,qi.BLACK,null,null);{const me=parseInt(V/2,10)+I,ke=a(I,me),dt=a(me+1,S);return F=n[me],K=e?e(F):F,new qi(K,F.node,qi.BLACK,ke,dt)}},v=function(I){let S=null,V=null,F=n.length;const K=function(ke,dt){const mt=F-ke,Dn=F;F-=ke;const ln=a(mt+1,Dn),$r=n[mt],On=e?e($r):$r;me(new qi(On,$r.node,dt,null,ln))},me=function(ke){S?(S.left=ke,S=ke):(V=ke,S=ke)};for(let ke=0;ke<I.count;++ke){const dt=I.nextBitIsOne(),mt=Math.pow(2,I.count-(ke+1));dt?K(mt,qi.BLACK):(K(mt,qi.BLACK),K(mt,qi.RED))}return V}(new bw(n.length));return new jr(s||t,v)};let t_;const zc={};class oa{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,x.hu)(zc&&an,"ChildrenNode.ts has not been loaded"),t_=t_||new oa({".priority":zc},{".priority":an}),t_}get(t){const e=(0,x.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof jr?e:null}hasIndex(t){return(0,x.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,x.hu)(t!==Ms,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let a=!1;const c=e.getIterator(At.Wrap);let v,g=c.getNext();for(;g;)a=a||t.isDefinedOn(g.node),s.push(g),g=c.getNext();v=a?gp(s,t.getCompare()):zc;const I=t.toString(),S=Object.assign({},this.indexSet_);S[I]=t;const V=Object.assign({},this.indexes_);return V[I]=v,new oa(V,S)}addToIndexes(t,e){const s=(0,x.UI)(this.indexes_,(a,c)=>{const g=(0,x.DV)(this.indexSet_,c);if((0,x.hu)(g,"Missing index implementation for "+c),a===zc){if(g.isDefinedOn(t.node)){const v=[],I=e.getIterator(At.Wrap);let S=I.getNext();for(;S;)S.name!==t.name&&v.push(S),S=I.getNext();return v.push(t),gp(v,g.getCompare())}return zc}{const v=e.get(t.name);let I=a;return v&&(I=I.remove(new At(t.name,v))),I.insert(t,t.node)}});return new oa(s,this.indexSet_)}removeFromIndexes(t,e){const s=(0,x.UI)(this.indexes_,a=>{if(a===zc)return a;{const c=e.get(t.name);return c?a.remove(new At(t.name,c)):a}});return new oa(s,this.indexSet_)}}let hh,Et=(()=>{class n{constructor(e,s,a){this.children_=e,this.priorityNode_=s,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&oE(this.priorityNode_),this.children_.isEmpty()&&(0,x.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return hh||(hh=new n(new jr(fp),null,oa.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||hh}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const s=this.children_.get(e);return null===s?hh:s}}getChild(e){const s=bt(e);return null===s?this:this.getImmediateChild(s).getChild(Qt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,s){if((0,x.hu)(s,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(s);{const a=new At(e,s);let c,g;s.isEmpty()?(c=this.children_.remove(e),g=this.indexMap_.removeFromIndexes(a,this.children_)):(c=this.children_.insert(e,s),g=this.indexMap_.addToIndexes(a,this.children_));const v=c.isEmpty()?hh:this.priorityNode_;return new n(c,v,g)}}updateChild(e,s){const a=bt(e);if(null===a)return s;{(0,x.hu)(".priority"!==bt(e)||1===il(e),".priority must be the last token in a path");const c=this.getImmediateChild(a).updateChild(Qt(e),s);return this.updateImmediateChild(a,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const s={};let a=0,c=0,g=!0;if(this.forEachChild(an,(v,I)=>{s[v]=I.val(e),a++,g&&n.INTEGER_REGEXP_.test(v)?c=Math.max(c,Number(v)):g=!1}),!e&&g&&c<2*a){const v=[];for(const I in s)v[I]=s[I];return v}return e&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+sE(this.getPriority().val())+":"),this.forEachChild(an,(s,a)=>{const c=a.hash();""!==c&&(e+=":"+s+":"+c)}),this.lazyHash_=""===e?"":xv(e)}return this.lazyHash_}getPredecessorChildName(e,s,a){const c=this.resolveIndex_(a);if(c){const g=c.getPredecessorKey(new At(e,s));return g?g.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const s=this.resolveIndex_(e);if(s){const a=s.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const s=this.getFirstChildName(e);return s?new At(s,this.children_.get(s)):null}getLastChildName(e){const s=this.resolveIndex_(e);if(s){const a=s.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const s=this.getLastChildName(e);return s?new At(s,this.children_.get(s)):null}forEachChild(e,s){const a=this.resolveIndex_(e);return a?a.inorderTraversal(c=>s(c.name,c.node)):this.children_.inorderTraversal(s)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,s){const a=this.resolveIndex_(s);if(a)return a.getIteratorFrom(e,c=>c);{const c=this.children_.getIteratorFrom(e.name,At.Wrap);let g=c.peek();for(;null!=g&&s.compare(g,e)<0;)c.getNext(),g=c.peek();return c}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,s){const a=this.resolveIndex_(s);if(a)return a.getReverseIteratorFrom(e,c=>c);{const c=this.children_.getReverseIteratorFrom(e.name,At.Wrap);let g=c.peek();for(;null!=g&&s.compare(g,e)>0;)c.getNext(),g=c.peek();return c}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Zc?-1:0}withIndex(e){if(e===Ms||this.indexMap_.hasIndex(e))return this;{const s=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,s)}}isIndexed(e){return e===Ms||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const s=e;if(this.getPriority().equals(s.getPriority())){if(this.children_.count()===s.children_.count()){const a=this.getIterator(an),c=s.getIterator(an);let g=a.getNext(),v=c.getNext();for(;g&&v;){if(g.name!==v.name||!g.node.equals(v.node))return!1;g=a.getNext(),v=c.getNext()}return null===g&&null===v}return!1}return!1}}resolveIndex_(e){return e===Ms?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Zc=new class cE extends Et{constructor(){super(new jr(fp),Et.EMPTY_NODE,oa.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Et.EMPTY_NODE}isEmpty(){return!1}};function Cn(n,t=null){if(null===n)return Et.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,x.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Gc(n,Cn(t));if(n instanceof Array){let e=Et.EMPTY_NODE;return ar(n,(s,a)=>{if((0,x.r3)(n,s)&&"."!==s.substring(0,1)){const c=Cn(a);(c.isLeafNode()||!c.isEmpty())&&(e=e.updateImmediateChild(s,c))}}),e.updatePriority(Cn(t))}{const e=[];let s=!1;if(ar(n,(g,v)=>{if("."!==g.substring(0,1)){const I=Cn(v);I.isEmpty()||(s=s||!I.getPriority().isEmpty(),e.push(new At(g,I)))}}),0===e.length)return Et.EMPTY_NODE;const c=gp(e,iE,g=>g.name,fp);if(s){const g=gp(e,an.getCompare());return new Et(c,Cn(t),new oa({".priority":g},{".priority":an}))}return new Et(c,Cn(t),oa.Default)}}Object.defineProperties(At,{MIN:{value:new At(Zi,Et.EMPTY_NODE)},MAX:{value:new At(Mr,Zc)}}),hp.__EMPTY_NODE=Et.EMPTY_NODE,Gc.__childrenNodeConstructor=Et,function Ew(n){pp=n}(Zc),function ww(n){uE=n}(Zc),function Cw(n){lE=n}(Cn);class mp extends ch{constructor(t){super(),this.indexPath_=t,(0,x.hu)(!Tt(t)&&".priority"!==bt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const s=this.extractChild(t.node),a=this.extractChild(e.node),c=s.compareTo(a);return 0===c?Uc(t.name,e.name):c}makePost(t,e){const s=Cn(t),a=Et.EMPTY_NODE.updateChild(this.indexPath_,s);return new At(e,a)}maxPost(){const t=Et.EMPTY_NODE.updateChild(this.indexPath_,Zc);return new At(Mr,t)}toString(){return _u(this.indexPath_,0).join("/")}}const _p=new class hE extends ch{compare(t,e){const s=t.node.compareTo(e.node);return 0===s?Uc(t.name,e.name):s}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return At.MIN}maxPost(){return At.MAX}makePost(t,e){const s=Cn(t);return new At(e,s)}toString(){return".value"}},Eu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Tw=function(){let n=0;const t=[];return function(e){const s=e===n;let a;n=e;const c=new Array(8);for(a=7;a>=0;a--)c[a]=Eu.charAt(e%64),e=Math.floor(e/64);(0,x.hu)(0===e,"Cannot push at time == 0");let g=c.join("");if(s){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)g+=Eu.charAt(t[a]);return(0,x.hu)(20===g.length,"nextPushId: Length should be 20."),g}}(),fE=function(n){if(n===""+rh)return"-";const t=ra(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let g=0;g<e.length;g++)e[g]=n.charAt(g);if(e.length<786)return e.push("-"),e.join("");let s=e.length-1;for(;s>=0&&"z"===e[s];)s--;if(-1===s)return Mr;const c=Eu.charAt(Eu.indexOf(e[s])+1);return e[s]=c,e.slice(0,s+1).join("")},Cu=function(n){if(n===""+Ei)return Zi;const t=ra(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let s=0;s<e.length;s++)e[s]=n.charAt(s);return"-"===e[e.length-1]?1===e.length?""+rh:(delete e[e.length-1],e.join("")):(e[e.length-1]=Eu.charAt(Eu.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function Aw(n){return{type:"value",snapshotNode:n}}function ol(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function vp(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function qc(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class gE{constructor(t){this.index_=t}updateChild(t,e,s,a,c,g){(0,x.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const v=t.getImmediateChild(e);return v.getChild(a).equals(s.getChild(a))&&v.isEmpty()===s.isEmpty()||(null!=g&&(s.isEmpty()?t.hasChild(e)?g.trackChildChange(vp(e,v)):(0,x.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):v.isEmpty()?g.trackChildChange(ol(e,s)):g.trackChildChange(qc(e,s,v))),t.isLeafNode()&&s.isEmpty())?t:t.updateImmediateChild(e,s).withIndex(this.index_)}updateFullNode(t,e,s){return null!=s&&(t.isLeafNode()||t.forEachChild(an,(a,c)=>{e.hasChild(a)||s.trackChildChange(vp(a,c))}),e.isLeafNode()||e.forEachChild(an,(a,c)=>{if(t.hasChild(a)){const g=t.getImmediateChild(a);g.equals(c)||s.trackChildChange(qc(a,c,g))}else s.trackChildChange(ol(a,c))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Et.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class it{constructor(t){this.indexedFilter_=new gE(t.getIndex()),this.index_=t.getIndex(),this.startPost_=it.getStartPost_(t),this.endPost_=it.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,s,a,c,g){return this.matches(new At(e,s))||(s=Et.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,s,a,c,g)}updateFullNode(t,e,s){e.isLeafNode()&&(e=Et.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(Et.EMPTY_NODE);const c=this;return e.forEachChild(an,(g,v)=>{c.matches(new At(g,v))||(a=a.updateImmediateChild(g,Et.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Sw{constructor(t){this.rangedFilter_=new it(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,s,a,c,g){return this.rangedFilter_.matches(new At(e,s))||(s=Et.EMPTY_NODE),t.getImmediateChild(e).equals(s)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,s,a,c,g):this.fullLimitUpdateChild_(t,e,s,c,g)}updateFullNode(t,e,s){let a;if(e.isLeafNode()||e.isEmpty())a=Et.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let c;a=Et.EMPTY_NODE.withIndex(this.index_),c=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let g=0;for(;c.hasNext()&&g<this.limit_;){const v=c.getNext();let I;if(I=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),v)<=0:this.index_.compare(v,this.rangedFilter_.getEndPost())<=0,!I)break;a=a.updateImmediateChild(v.name,v.node),g++}}else{let c,g,v,I;if(a=e.withIndex(this.index_),a=a.updatePriority(Et.EMPTY_NODE),this.reverse_){I=a.getReverseIterator(this.index_),c=this.rangedFilter_.getEndPost(),g=this.rangedFilter_.getStartPost();const F=this.index_.getCompare();v=(K,me)=>F(me,K)}else I=a.getIterator(this.index_),c=this.rangedFilter_.getStartPost(),g=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();let S=0,V=!1;for(;I.hasNext();){const F=I.getNext();!V&&v(c,F)<=0&&(V=!0),V&&S<this.limit_&&v(F,g)<=0?S++:a=a.updateImmediateChild(F.name,Et.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,s,a,c){let g;if(this.reverse_){const F=this.index_.getCompare();g=(K,me)=>F(me,K)}else g=this.index_.getCompare();const v=t;(0,x.hu)(v.numChildren()===this.limit_,"");const I=new At(e,s),S=this.reverse_?v.getFirstChild(this.index_):v.getLastChild(this.index_),V=this.rangedFilter_.matches(I);if(v.hasChild(e)){const F=v.getImmediateChild(e);let K=a.getChildAfterChild(this.index_,S,this.reverse_);for(;null!=K&&(K.name===e||v.hasChild(K.name));)K=a.getChildAfterChild(this.index_,K,this.reverse_);const me=null==K?1:g(K,I);if(V&&!s.isEmpty()&&me>=0)return c?.trackChildChange(qc(e,s,F)),v.updateImmediateChild(e,s);{c?.trackChildChange(vp(e,F));const dt=v.updateImmediateChild(e,Et.EMPTY_NODE);return null!=K&&this.rangedFilter_.matches(K)?(c?.trackChildChange(ol(K.name,K.node)),dt.updateImmediateChild(K.name,K.node)):dt}}return s.isEmpty()?t:V&&g(S,I)>=0?(null!=c&&(c.trackChildChange(vp(S.name,S.node)),c.trackChildChange(ol(e,s))),v.updateImmediateChild(e,s).updateImmediateChild(S.name,Et.EMPTY_NODE)):t}}class Ep{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=an}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,x.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,x.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zi}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,x.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,x.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Mr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,x.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===an}copy(){const t=new Ep;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Yc(n,t,e){const s=n.copy();return s.startSet_=!0,void 0===t&&(t=null),s.indexStartValue_=t,null!=e?(s.startNameSet_=!0,s.indexStartName_=e):(s.startNameSet_=!1,s.indexStartName_=""),s}function wn(n,t,e){const s=n.copy();return s.endSet_=!0,void 0===t&&(t=null),s.indexEndValue_=t,void 0!==e?(s.endNameSet_=!0,s.indexEndName_=e):(s.endNameSet_=!1,s.indexEndName_=""),s}function fh(n,t){const e=n.copy();return e.index_=t,e}function r_(n){const t={};if(n.isDefault())return t;let e;return n.index_===an?e="$priority":n.index_===_p?e="$value":n.index_===Ms?e="$key":((0,x.hu)(n.index_ instanceof mp,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,x.Wl)(e),n.startSet_&&(t.startAt=(0,x.Wl)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,x.Wl)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,x.Wl)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,x.Wl)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function mE(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==an&&(t.i=n.index_.toString()),t}class ph extends Jm{constructor(t,e,s,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.log_=hu("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,x.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,s,a){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const g=ph.getListenId_(t,s),v={};this.listens_[g]=v;const I=r_(t._queryParams);this.restRequest_(c+".json",I,(S,V)=>{let F=V;if(404===S&&(F=null,S=null),null===S&&this.onDataUpdate_(c,F,!1,s),(0,x.DV)(this.listens_,g)===v){let K;K=S?401===S?"permission_denied":"rest_error:"+S:"ok",a(K,null)}})}unlisten(t,e){const s=ph.getListenId_(t,e);delete this.listens_[s]}get(t){const e=r_(t._queryParams),s=t._path.toString(),a=new x.BH;return this.restRequest_(s+".json",e,(c,g)=>{let v=g;404===c&&(v=null,c=null),null===c?(this.onDataUpdate_(s,v,!1,null),a.resolve(v)):a.reject(new Error(v))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},s){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,c])=>{a&&a.accessToken&&(e.auth=a.accessToken),c&&c.token&&(e.ac=c.token);const g=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,x.xO)(e);this.log_("Sending REST request for "+g);const v=new XMLHttpRequest;v.onreadystatechange=()=>{if(s&&4===v.readyState){this.log_("REST Response for "+g+" received. status:",v.status,"response:",v.responseText);let I=null;if(v.status>=200&&v.status<300){try{I=(0,x.cI)(v.responseText)}catch{Sr("Failed to parse JSON response for "+g+": "+v.responseText)}s(null,I)}else 401!==v.status&&404!==v.status&&Sr("Got unsuccessful REST response for "+g+" Status: "+v.status),s(v.status);s=null}},v.open("GET",g,!0),v.send()})}}class _E{constructor(){this.rootNode_=Et.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function gh(){return{value:null,children:new Map}}function wu(n,t,e){if(Tt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const s=bt(t);n.children.has(s)||n.children.set(s,gh()),wu(n.children.get(s),t=Qt(t),e)}}function i_(n,t){if(Tt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(an,(s,a)=>{wu(n,new Wt(s),a)}),i_(n,t)}}if(n.children.size>0){const e=bt(t);return t=Qt(t),n.children.has(e)&&i_(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function s_(n,t,e){null!==n.value?e(t,n.value):function Pw(n,t){n.children.forEach((e,s)=>{t(s,e)})}(n,(s,a)=>{s_(a,new Wt(t.toString()+"/"+s),e)})}class mh{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&ar(this.last_,(s,a)=>{e[s]=e[s]-a}),this.last_=t,e}}class wp{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new mh(t);const s=1e4+2e4*Math.random();uo(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const t=this.statsListener_.get(),e={};let s=!1;ar(t,(a,c)=>{c>0&&(0,x.r3)(this.statsToReport_,a)&&(e[a]=c,s=!0)}),s&&this.server_.reportStats(e),uo(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Di=(()=>{return(n=Di||(Di={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Di;var n})();function o_(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class al{constructor(t,e,s){this.path=t,this.affectedTree=e,this.revert=s,this.type=Di.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Tt(this.path)){if(null!=this.affectedTree.value)return(0,x.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Wt(t));return new al(jt(),e,this.revert)}}return(0,x.hu)(bt(this.path)===t,"operationForChild called for unrelated child."),new al(Qt(this.path),this.affectedTree,this.revert)}}class aa{constructor(t,e){this.source=t,this.path=e,this.type=Di.LISTEN_COMPLETE}operationForChild(t){return Tt(this.path)?new aa(this.source,jt()):new aa(this.source,Qt(this.path))}}class Du{constructor(t,e,s){this.source=t,this.path=e,this.snap=s,this.type=Di.OVERWRITE}operationForChild(t){return Tt(this.path)?new Du(this.source,jt(),this.snap.getImmediateChild(t)):new Du(this.source,Qt(this.path),this.snap)}}class Qc{constructor(t,e,s){this.source=t,this.path=e,this.children=s,this.type=Di.MERGE}operationForChild(t){if(Tt(this.path)){const e=this.children.subtree(new Wt(t));return e.isEmpty()?null:e.value?new Du(this.source,jt(),e.value):new Qc(this.source,jt(),e)}return(0,x.hu)(bt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Qc(this.source,Qt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ll{constructor(t,e,s){this.node_=t,this.fullyInitialized_=e,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Tt(t))return this.isFullyInitialized()&&!this.filtered_;const e=bt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class vE{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Jc(n,t,e,s,a,c){const g=s.filter(v=>v.type===e);g.sort((v,I)=>function CE(n,t,e){if(null==t.childName||null==e.childName)throw(0,x.g5)("Should only compare child_ events.");const s=new At(t.childName,t.snapshotNode),a=new At(e.childName,e.snapshotNode);return n.index_.compare(s,a)}(n,v,I)),g.forEach(v=>{const I=function xw(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,v,c);a.forEach(S=>{S.respondsTo(v.type)&&t.push(S.createEvent(I,n.query_))})})}function bp(n,t){return{eventCache:n,serverCache:t}}function _h(n,t,e,s){return bp(new ll(t,e,s),n.serverCache)}function kw(n,t,e,s){return bp(n.eventCache,new ll(t,e,s))}function a_(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Xc(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let wE;class Zt{constructor(t,e=(()=>(wE||(wE=new jr(eh)),wE))()){this.value=t,this.children=e}static fromObject(t){let e=new Zt(null);return ar(t,(s,a)=>{e=e.set(new Wt(s),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:jt(),value:this.value};if(Tt(t))return null;{const s=bt(t),a=this.children.get(s);if(null!==a){const c=a.findRootMostMatchingPathAndValue(Qt(t),e);return null!=c?{path:vn(new Wt(s),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Tt(t))return this;{const e=bt(t),s=this.children.get(e);return null!==s?s.subtree(Qt(t)):new Zt(null)}}set(t,e){if(Tt(t))return new Zt(e,this.children);{const s=bt(t),c=(this.children.get(s)||new Zt(null)).set(Qt(t),e),g=this.children.insert(s,c);return new Zt(this.value,g)}}remove(t){if(Tt(t))return this.children.isEmpty()?new Zt(null):new Zt(null,this.children);{const e=bt(t),s=this.children.get(e);if(s){const a=s.remove(Qt(t));let c;return c=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&c.isEmpty()?new Zt(null):new Zt(this.value,c)}return this}}get(t){if(Tt(t))return this.value;{const e=bt(t),s=this.children.get(e);return s?s.get(Qt(t)):null}}setTree(t,e){if(Tt(t))return e;{const s=bt(t),c=(this.children.get(s)||new Zt(null)).setTree(Qt(t),e);let g;return g=c.isEmpty()?this.children.remove(s):this.children.insert(s,c),new Zt(this.value,g)}}fold(t){return this.fold_(jt(),t)}fold_(t,e){const s={};return this.children.inorderTraversal((a,c)=>{s[a]=c.fold_(vn(t,a),e)}),e(t,this.value,s)}findOnPath(t,e){return this.findOnPath_(t,jt(),e)}findOnPath_(t,e,s){const a=!!this.value&&s(e,this.value);if(a)return a;if(Tt(t))return null;{const c=bt(t),g=this.children.get(c);return g?g.findOnPath_(Qt(t),vn(e,c),s):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,jt(),e)}foreachOnPath_(t,e,s){if(Tt(t))return this;{this.value&&s(e,this.value);const a=bt(t),c=this.children.get(a);return c?c.foreachOnPath_(Qt(t),vn(e,a),s):new Zt(null)}}foreach(t){this.foreach_(jt(),t)}foreach_(t,e){this.children.inorderTraversal((s,a)=>{a.foreach_(vn(t,s),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,s)=>{s.value&&t(e,s.value)})}}class Rs{constructor(t){this.writeTree_=t}static empty(){return new Rs(new Zt(null))}}function yh(n,t,e){if(Tt(t))return new Rs(new Zt(e));{const s=n.writeTree_.findRootMostValueAndPath(t);if(null!=s){const a=s.path;let c=s.value;const g=En(a,t);return c=c.updateChild(g,e),new Rs(n.writeTree_.set(a,c))}{const a=new Zt(e),c=n.writeTree_.setTree(t,a);return new Rs(c)}}}function Tp(n,t,e){let s=n;return ar(e,(a,c)=>{s=yh(s,vn(t,a),c)}),s}function ed(n,t){if(Tt(t))return Rs.empty();{const e=n.writeTree_.setTree(t,new Zt(null));return new Rs(e)}}function l_(n,t){return null!=Iu(n,t)}function Iu(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(En(e.path,t)):null}function IE(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(an,(s,a)=>{t.push(new At(s,a))}):n.writeTree_.children.inorderTraversal((s,a)=>{null!=a.value&&t.push(new At(s,a.value))}),t}function ul(n,t){if(Tt(t))return n;{const e=Iu(n,t);return new Rs(null!=e?new Zt(e):n.writeTree_.subtree(t))}}function u_(n){return n.writeTree_.isEmpty()}function bu(n,t){return bE(jt(),n.writeTree_,t)}function bE(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let s=null;return t.children.inorderTraversal((a,c)=>{".priority"===a?((0,x.hu)(null!==c.value,"Priority writes must always be leaf nodes"),s=c.value):e=bE(vn(n,a),c,e)}),!e.getChild(n).isEmpty()&&null!==s&&(e=e.updateChild(vn(n,".priority"),s)),e}}function Ap(n,t){return OE(t,n)}function AE(n,t){if(n.snap)return wi(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&wi(vn(n.path,e),t))return!0;return!1}function SE(n){return n.visible}function ME(n,t,e){let s=Rs.empty();for(let a=0;a<n.length;++a){const c=n[a];if(t(c)){const g=c.path;let v;if(c.snap)wi(e,g)?(v=En(e,g),s=yh(s,v,c.snap)):wi(g,e)&&(v=En(g,e),s=yh(s,jt(),c.snap.getChild(v)));else{if(!c.children)throw(0,x.g5)("WriteRecord should have .snap or .children");if(wi(e,g))v=En(e,g),s=Tp(s,v,c.children);else if(wi(g,e))if(v=En(g,e),Tt(v))s=Tp(s,jt(),c.children);else{const I=(0,x.DV)(c.children,bt(v));if(I){const S=I.getChild(Qt(v));s=yh(s,jt(),S)}}}}}return s}function Sp(n,t,e,s,a){if(s||a){const c=ul(n.visibleWrites,t);return!a&&u_(c)?e:a||null!=e||l_(c,jt())?bu(ME(n.allWrites,function(S){return(S.visible||a)&&(!s||!~s.indexOf(S.writeId))&&(wi(S.path,t)||wi(t,S.path))},t),e||Et.EMPTY_NODE):null}{const c=Iu(n.visibleWrites,t);if(null!=c)return c;{const g=ul(n.visibleWrites,t);return u_(g)?e:null!=e||l_(g,jt())?bu(g,e||Et.EMPTY_NODE):null}}}function td(n,t,e,s){return Sp(n.writeTree,n.treePath,t,e,s)}function c_(n,t){return function Uw(n,t,e){let s=Et.EMPTY_NODE;const a=Iu(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(an,(c,g)=>{s=s.updateImmediateChild(c,g)}),s;if(e){const c=ul(n.visibleWrites,t);return e.forEachChild(an,(g,v)=>{const I=bu(ul(c,new Wt(g)),v);s=s.updateImmediateChild(g,I)}),IE(c).forEach(g=>{s=s.updateImmediateChild(g.name,g.node)}),s}return IE(ul(n.visibleWrites,t)).forEach(g=>{s=s.updateImmediateChild(g.name,g.node)}),s}(n.writeTree,n.treePath,t)}function d_(n,t,e,s){return function RE(n,t,e,s,a){(0,x.hu)(s||a,"Either existingEventSnap or existingServerSnap must exist");const c=vn(t,e);if(l_(n.visibleWrites,c))return null;{const g=ul(n.visibleWrites,c);return u_(g)?a.getChild(e):bu(g,a.getChild(e))}}(n.writeTree,n.treePath,t,e,s)}function Mp(n,t){return function Bw(n,t){return Iu(n.visibleWrites,t)}(n.writeTree,vn(n.treePath,t))}function h_(n,t,e){return function PE(n,t,e,s){const a=vn(t,e),c=Iu(n.visibleWrites,a);return null!=c?c:s.isCompleteForChild(e)?bu(ul(n.visibleWrites,a),s.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function NE(n,t){return OE(vn(n.treePath,t),n.writeTree)}function OE(n,t){return{treePath:n,writeTree:t}}class Ww{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,s=t.childName;(0,x.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,x.hu)(".priority"!==s,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(s);if(a){const c=a.type;if("child_added"===e&&"child_removed"===c)this.changeMap.set(s,qc(s,t.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===c)this.changeMap.delete(s);else if("child_removed"===e&&"child_changed"===c)this.changeMap.set(s,vp(s,a.oldSnap));else if("child_changed"===e&&"child_added"===c)this.changeMap.set(s,ol(s,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==c)throw(0,x.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(s,qc(s,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(s,t)}getChanges(){return Array.from(this.changeMap.values())}}const xE=new class Gw{getCompleteChild(t){return null}getChildAfterChild(t,e,s){return null}};class Rp{constructor(t,e,s=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=s}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const s=null!=this.optCompleteServerCache_?new ll(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return h_(this.writes_,t,s)}}getChildAfterChild(t,e,s){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Xc(this.viewCache_),c=function $w(n,t,e,s,a,c){return function jw(n,t,e,s,a,c,g){let v;const I=ul(n.visibleWrites,t),S=Iu(I,jt());if(null!=S)v=S;else{if(null==e)return[];v=bu(I,e)}if(v=v.withIndex(g),v.isEmpty()||v.isLeafNode())return[];{const V=[],F=g.getCompare(),K=c?v.getReverseIteratorFrom(s,g):v.getIteratorFrom(s,g);let me=K.getNext();for(;me&&V.length<a;)0!==F(me,s)&&V.push(me),me=K.getNext();return V}}(n.writeTree,n.treePath,t,e,s,a,c)}(this.writes_,a,e,1,s,t);return 0===c.length?null:c[0]}}function LE(n,t,e,s,a,c){const g=t.eventCache;if(null!=Mp(s,e))return t;{let v,I;if(Tt(e))if((0,x.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const S=Xc(t),F=c_(s,S instanceof Et?S:Et.EMPTY_NODE);v=n.filter.updateFullNode(t.eventCache.getNode(),F,c)}else{const S=td(s,Xc(t));v=n.filter.updateFullNode(t.eventCache.getNode(),S,c)}else{const S=bt(e);if(".priority"===S){(0,x.hu)(1===il(e),"Can't have a priority with additional path components");const V=g.getNode();I=t.serverCache.getNode();const F=d_(s,e,V,I);v=null!=F?n.filter.updatePriority(V,F):g.getNode()}else{const V=Qt(e);let F;if(g.isCompleteForChild(S)){I=t.serverCache.getNode();const K=d_(s,e,g.getNode(),I);F=null!=K?g.getNode().getImmediateChild(S).updateChild(V,K):g.getNode().getImmediateChild(S)}else F=h_(s,S,t.serverCache);v=null!=F?n.filter.updateChild(g.getNode(),S,F,V,a,c):g.getNode()}}return _h(t,v,g.isFullyInitialized()||Tt(e),n.filter.filtersNodes())}}function Pp(n,t,e,s,a,c,g,v){const I=t.serverCache;let S;const V=g?n.filter:n.filter.getIndexedFilter();if(Tt(e))S=V.updateFullNode(I.getNode(),s,null);else if(V.filtersNodes()&&!I.isFiltered()){const me=I.getNode().updateChild(e,s);S=V.updateFullNode(I.getNode(),me,null)}else{const me=bt(e);if(!I.isCompleteForPath(e)&&il(e)>1)return t;const ke=Qt(e),mt=I.getNode().getImmediateChild(me).updateChild(ke,s);S=".priority"===me?V.updatePriority(I.getNode(),mt):V.updateChild(I.getNode(),me,mt,ke,xE,null)}const F=kw(t,S,I.isFullyInitialized()||Tt(e),V.filtersNodes());return LE(n,F,e,a,new Rp(a,F,c),v)}function f_(n,t,e,s,a,c,g){const v=t.eventCache;let I,S;const V=new Rp(a,t,c);if(Tt(e))S=n.filter.updateFullNode(t.eventCache.getNode(),s,g),I=_h(t,S,!0,n.filter.filtersNodes());else{const F=bt(e);if(".priority"===F)S=n.filter.updatePriority(t.eventCache.getNode(),s),I=_h(t,S,v.isFullyInitialized(),v.isFiltered());else{const K=Qt(e),me=v.getNode().getImmediateChild(F);let ke;if(Tt(K))ke=s;else{const dt=V.getCompleteChild(F);ke=null!=dt?".priority"===Qv(K)&&dt.getChild(As(K)).isEmpty()?dt:dt.updateChild(K,s):Et.EMPTY_NODE}I=me.equals(ke)?t:_h(t,n.filter.updateChild(v.getNode(),F,ke,K,V,g),v.isFullyInitialized(),n.filter.filtersNodes())}}return I}function Np(n,t){return n.eventCache.isCompleteForChild(t)}function g_(n,t,e){return e.foreach((s,a)=>{t=t.updateChild(s,a)}),t}function Eh(n,t,e,s,a,c,g,v){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let S,I=t;S=Tt(e)?s:new Zt(null).setTree(e,s);const V=t.serverCache.getNode();return S.children.inorderTraversal((F,K)=>{if(V.hasChild(F)){const ke=g_(0,t.serverCache.getNode().getImmediateChild(F),K);I=Pp(n,I,new Wt(F),ke,a,c,g,v)}}),S.children.inorderTraversal((F,K)=>{const me=!t.serverCache.isCompleteForChild(F)&&null===K.value;if(!V.hasChild(F)&&!me){const dt=g_(0,t.serverCache.getNode().getImmediateChild(F),K);I=Pp(n,I,new Wt(F),dt,a,c,g,v)}}),I}class Yw{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const s=this.query_._queryParams,a=new gE(s.getIndex()),c=function Mw(n){return n.loadsAllData()?new gE(n.getIndex()):n.hasLimit()?new Sw(n):new it(n)}(s);this.processor_=function kE(n){return{filter:n}}(c);const g=e.serverCache,v=e.eventCache,I=a.updateFullNode(Et.EMPTY_NODE,g.getNode(),null),S=c.updateFullNode(Et.EMPTY_NODE,v.getNode(),null),V=new ll(I,g.isFullyInitialized(),a.filtersNodes()),F=new ll(S,v.isFullyInitialized(),c.filtersNodes());this.viewCache_=bp(F,V),this.eventGenerator_=new vE(this.query_)}get query(){return this.query_}}function UE(n,t){const e=Xc(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Tt(t)&&!e.getImmediateChild(bt(t)).isEmpty())?e.getChild(t):null}function BE(n){return 0===n.eventRegistrations_.length}function __(n,t,e){const s=[];if(e){(0,x.hu)(null==t,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(c=>{const g=c.createCancelEvent(e,a);g&&s.push(g)})}if(t){let a=[];for(let c=0;c<n.eventRegistrations_.length;++c){const g=n.eventRegistrations_[c];if(g.matches(t)){if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(c+1));break}}else a.push(g)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return s}function Op(n,t,e,s){t.type===Di.MERGE&&null!==t.source.queryId&&((0,x.hu)(Xc(n.viewCache_),"We should always have a full cache before handling merges"),(0,x.hu)(a_(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,c=function Zw(n,t,e,s,a){const c=new Ww;let g,v;if(e.type===Di.OVERWRITE){const S=e;S.source.fromUser?g=f_(n,t,S.path,S.snap,s,a,c):((0,x.hu)(S.source.fromServer,"Unknown source."),v=S.source.tagged||t.serverCache.isFiltered()&&!Tt(S.path),g=Pp(n,t,S.path,S.snap,s,a,v,c))}else if(e.type===Di.MERGE){const S=e;S.source.fromUser?g=function p_(n,t,e,s,a,c,g){let v=t;return s.foreach((I,S)=>{const V=vn(e,I);Np(t,bt(V))&&(v=f_(n,v,V,S,a,c,g))}),s.foreach((I,S)=>{const V=vn(e,I);Np(t,bt(V))||(v=f_(n,v,V,S,a,c,g))}),v}(n,t,S.path,S.children,s,a,c):((0,x.hu)(S.source.fromServer,"Unknown source."),v=S.source.tagged||t.serverCache.isFiltered(),g=Eh(n,t,S.path,S.children,s,a,v,c))}else if(e.type===Di.ACK_USER_WRITE){const S=e;g=S.revert?function m_(n,t,e,s,a,c){let g;if(null!=Mp(s,e))return t;{const v=new Rp(s,t,a),I=t.eventCache.getNode();let S;if(Tt(e)||".priority"===bt(e)){let V;if(t.serverCache.isFullyInitialized())V=td(s,Xc(t));else{const F=t.serverCache.getNode();(0,x.hu)(F instanceof Et,"serverChildren would be complete if leaf node"),V=c_(s,F)}S=n.filter.updateFullNode(I,V,c)}else{const V=bt(e);let F=h_(s,V,t.serverCache);null==F&&t.serverCache.isCompleteForChild(V)&&(F=I.getImmediateChild(V)),S=null!=F?n.filter.updateChild(I,V,F,Qt(e),v,c):t.eventCache.getNode().hasChild(V)?n.filter.updateChild(I,V,Et.EMPTY_NODE,Qt(e),v,c):I,S.isEmpty()&&t.serverCache.isFullyInitialized()&&(g=td(s,Xc(t)),g.isLeafNode()&&(S=n.filter.updateFullNode(S,g,c)))}return g=t.serverCache.isFullyInitialized()||null!=Mp(s,jt()),_h(t,S,g,n.filter.filtersNodes())}}(n,t,S.path,s,a,c):function qw(n,t,e,s,a,c,g){if(null!=Mp(a,e))return t;const v=t.serverCache.isFiltered(),I=t.serverCache;if(null!=s.value){if(Tt(e)&&I.isFullyInitialized()||I.isCompleteForPath(e))return Pp(n,t,e,I.getNode().getChild(e),a,c,v,g);if(Tt(e)){let S=new Zt(null);return I.getNode().forEachChild(Ms,(V,F)=>{S=S.set(new Wt(V),F)}),Eh(n,t,e,S,a,c,v,g)}return t}{let S=new Zt(null);return s.foreach((V,F)=>{const K=vn(e,V);I.isCompleteForPath(K)&&(S=S.set(V,I.getNode().getChild(K)))}),Eh(n,t,e,S,a,c,v,g)}}(n,t,S.path,S.affectedTree,s,a,c)}else{if(e.type!==Di.LISTEN_COMPLETE)throw(0,x.g5)("Unknown operation type: "+e.type);g=function Kw(n,t,e,s,a){const c=t.serverCache;return LE(n,kw(t,c.getNode(),c.isFullyInitialized()||Tt(e),c.isFiltered()),e,s,xE,a)}(n,t,e.path,s,c)}const I=c.getChanges();return function FE(n,t,e){const s=t.eventCache;if(s.isFullyInitialized()){const a=s.getNode().isLeafNode()||s.getNode().isEmpty(),c=a_(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!s.getNode().equals(c)||!s.getNode().getPriority().equals(c.getPriority()))&&e.push(Aw(a_(t)))}}(t,g,I),{viewCache:g,changes:I}}(n.processor_,a,t,e,s);return function zw(n,t){(0,x.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,x.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,c.viewCache),(0,x.hu)(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=c.viewCache,xp(n,c.changes,c.viewCache.eventCache.getNode(),null)}function xp(n,t,e,s){return function EE(n,t,e,s){const a=[],c=[];return t.forEach(g=>{"child_changed"===g.type&&n.index_.indexedValueChanged(g.oldSnap,g.snapshotNode)&&c.push(function pE(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(g.childName,g.snapshotNode))}),Jc(n,a,"child_removed",t,s,e),Jc(n,a,"child_added",t,s,e),Jc(n,a,"child_moved",c,s,e),Jc(n,a,"child_changed",t,s,e),Jc(n,a,"value",t,s,e),a}(n.eventGenerator_,t,e,s?[s]:n.eventRegistrations_)}let kp,Vp;class y_{constructor(){this.views=new Map}}function Fp(n,t,e,s){const a=t.source.queryId;if(null!==a){const c=n.views.get(a);return(0,x.hu)(null!=c,"SyncTree gave us an op for an invalid query."),Op(c,t,e,s)}{let c=[];for(const g of n.views.values())c=c.concat(Op(g,t,e,s));return c}}function E_(n,t,e,s,a){const g=n.views.get(t._queryIdentifier);if(!g){let v=td(e,a?s:null),I=!1;v?I=!0:s instanceof Et?(v=c_(e,s),I=!1):(v=Et.EMPTY_NODE,I=!1);const S=bp(new ll(v,I,!1),new ll(s,a,!1));return new Yw(t,S)}return g}function $E(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function cl(n,t){let e=null;for(const s of n.views.values())e=e||UE(s,t);return e}function C_(n,t){return t._queryParams.loadsAllData()?Lp(n):n.views.get(t._queryIdentifier)}function eD(n,t){return null!=C_(n,t)}function la(n){return null!=Lp(n)}function Lp(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let tD=1;class WE{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Zt(null),this.pendingWriteTree_=function Hw(){return{visibleWrites:Rs.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function w_(n,t,e,s,a){return function vh(n,t,e,s,a){(0,x.hu)(s>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:s,visible:a}),a&&(n.visibleWrites=yh(n.visibleWrites,t,e)),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s,a),a?Au(n,new Du({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function dl(n,t,e=!1){const s=function TE(n,t){for(let e=0;e<n.allWrites.length;e++){const s=n.allWrites[e];if(s.writeId===t)return s}return null}(n.pendingWriteTree_,t);if(function Lw(n,t){const e=n.allWrites.findIndex(v=>v.writeId===t);(0,x.hu)(e>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[e];n.allWrites.splice(e,1);let a=s.visible,c=!1,g=n.allWrites.length-1;for(;a&&g>=0;){const v=n.allWrites[g];v.visible&&(g>=e&&AE(v,s.path)?a=!1:wi(s.path,v.path)&&(c=!0)),g--}return!!a&&(c?(function Vw(n){n.visibleWrites=ME(n.allWrites,SE,jt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(s.snap?n.visibleWrites=ed(n.visibleWrites,s.path):ar(s.children,I=>{n.visibleWrites=ed(n.visibleWrites,vn(s.path,I))}),!0))}(n.pendingWriteTree_,t)){let c=new Zt(null);return null!=s.snap?c=c.set(jt(),!0):ar(s.children,g=>{c=c.set(new Wt(g),!0)}),Au(n,new al(s.path,c,e))}return[]}function Ch(n,t,e){return Au(n,new Du({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Up(n,t,e,s,a=!1){const c=t._path,g=n.syncPointTree_.get(c);let v=[];if(g&&("default"===t._queryIdentifier||eD(g,t))){const I=function Xw(n,t,e,s){const a=t._queryIdentifier,c=[];let g=[];const v=la(n);if("default"===a)for(const[I,S]of n.views.entries())g=g.concat(__(S,e,s)),BE(S)&&(n.views.delete(I),S.query._queryParams.loadsAllData()||c.push(S.query));else{const I=n.views.get(a);I&&(g=g.concat(__(I,e,s)),BE(I)&&(n.views.delete(a),I.query._queryParams.loadsAllData()||c.push(I.query)))}return v&&!la(n)&&c.push(new(function jE(){return(0,x.hu)(kp,"Reference.ts has not been loaded"),kp}())(t._repo,t._path)),{removed:c,events:g}}(g,t,e,s);(function HE(n){return 0===n.views.size})(g)&&(n.syncPointTree_=n.syncPointTree_.remove(c));const S=I.removed;if(v=I.events,!a){const V=-1!==S.findIndex(K=>K._queryParams.loadsAllData()),F=n.syncPointTree_.findOnPath(c,(K,me)=>la(me));if(V&&!F){const K=n.syncPointTree_.subtree(c);if(!K.isEmpty()){const me=function aD(n){return n.fold((t,e,s)=>{if(e&&la(e))return[Lp(e)];{let a=[];return e&&(a=$E(e)),ar(s,(c,g)=>{a=a.concat(g)}),a}})}(K);for(let ke=0;ke<me.length;++ke){const dt=me[ke],mt=dt.query,Dn=b_(n,dt);n.listenProvider_.startListening(Ih(mt),Dh(n,mt),Dn.hashFn,Dn.onComplete)}}}!F&&S.length>0&&!s&&(V?n.listenProvider_.stopListening(Ih(t),null):S.forEach(K=>{const me=n.queryToTagMap.get(T_(K));n.listenProvider_.stopListening(Ih(K),me)}))}!function bh(n,t){for(let e=0;e<t.length;++e){const s=t[e];if(!s._queryParams.loadsAllData()){const a=T_(s),c=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(c)}}}(n,S)}return v}function GE(n,t,e,s){const a=Bp(n,s);if(null!=a){const c=A_(a),g=c.path,v=c.queryId,I=En(g,t);return S_(n,g,new Du(o_(v),I,e))}return[]}function Tu(n,t,e,s=!1){const a=t._path;let c=null,g=!1;n.syncPointTree_.foreachOnPath(a,(K,me)=>{const ke=En(K,a);c=c||cl(me,ke),g=g||la(me)});let I,v=n.syncPointTree_.get(a);v?(g=g||la(v),c=c||cl(v,jt())):(v=new y_,n.syncPointTree_=n.syncPointTree_.set(a,v)),null!=c?I=!0:(I=!1,c=Et.EMPTY_NODE,n.syncPointTree_.subtree(a).foreachChild((me,ke)=>{const dt=cl(ke,jt());dt&&(c=c.updateImmediateChild(me,dt))}));const S=eD(v,t);if(!S&&!t._queryParams.loadsAllData()){const K=T_(t);(0,x.hu)(!n.queryToTagMap.has(K),"View does not exist, but we have a tag");const me=function lD(){return tD++}();n.queryToTagMap.set(K,me),n.tagToQueryMap.set(me,K)}let F=function Jw(n,t,e,s,a,c){const g=E_(n,t,s,a,c);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,g),function ub(n,t){n.eventRegistrations_.push(t)}(g,e),function Qw(n,t){const e=n.viewCache_.eventCache,s=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(an,(c,g)=>{s.push(ol(c,g))}),e.isFullyInitialized()&&s.push(Aw(e.getNode())),xp(n,s,e.getNode(),t)}(g,e)}(v,t,e,Ap(n.pendingWriteTree_,a),c,I);if(!S&&!g&&!s){const K=C_(v,t);F=F.concat(function M_(n,t,e){const s=t._path,a=Dh(n,t),c=b_(n,e),g=n.listenProvider_.startListening(Ih(t),a,c.hashFn,c.onComplete),v=n.syncPointTree_.subtree(s);if(a)(0,x.hu)(!la(v.value),"If we're adding a query, it shouldn't be shadowed");else{const I=v.fold((S,V,F)=>{if(!Tt(S)&&V&&la(V))return[Lp(V).query];{let K=[];return V&&(K=K.concat($E(V).map(me=>me.query))),ar(F,(me,ke)=>{K=K.concat(ke)}),K}});for(let S=0;S<I.length;++S){const V=I[S];n.listenProvider_.stopListening(Ih(V),Dh(n,V))}}return g}(n,t,K))}return F}function wh(n,t,e){const a=n.pendingWriteTree_,c=n.syncPointTree_.findOnPath(t,(g,v)=>{const S=cl(v,En(g,t));if(S)return S});return Sp(a,t,c,e,!0)}function Au(n,t){return D_(t,n.syncPointTree_,null,Ap(n.pendingWriteTree_,jt()))}function D_(n,t,e,s){if(Tt(n.path))return I_(n,t,e,s);{const a=t.get(jt());null==e&&null!=a&&(e=cl(a,jt()));let c=[];const g=bt(n.path),v=n.operationForChild(g),I=t.children.get(g);if(I&&v){const S=e?e.getImmediateChild(g):null,V=NE(s,g);c=c.concat(D_(v,I,S,V))}return a&&(c=c.concat(Fp(a,n,s,e))),c}}function I_(n,t,e,s){const a=t.get(jt());null==e&&null!=a&&(e=cl(a,jt()));let c=[];return t.children.inorderTraversal((g,v)=>{const I=e?e.getImmediateChild(g):null,S=NE(s,g),V=n.operationForChild(g);V&&(c=c.concat(I_(V,v,I,S)))}),a&&(c=c.concat(Fp(a,n,s,e))),c}function b_(n,t){const e=t.query,s=Dh(n,e);return{hashFn:()=>(function VE(n){return n.viewCache_.serverCache.getNode()}(t)||Et.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return s?function sD(n,t,e){const s=Bp(n,e);if(s){const a=A_(s),c=a.path,g=a.queryId,v=En(c,t);return S_(n,c,new aa(o_(g),v))}return[]}(n,e._path,s):function iD(n,t){return Au(n,new aa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const c=function fu(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const s=new Error(n+" at "+t._path.toString()+": "+e);return s.code=n.toUpperCase(),s}(a,e);return Up(n,e,null,c)}}}}function Dh(n,t){const e=T_(t);return n.queryToTagMap.get(e)}function T_(n){return n._path.toString()+"$"+n._queryIdentifier}function Bp(n,t){return n.tagToQueryMap.get(t)}function A_(n){const t=n.indexOf("$");return(0,x.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Wt(n.substr(0,t))}}function S_(n,t,e){const s=n.syncPointTree_.get(t);return(0,x.hu)(s,"Missing sync point for query tag that we're tracking"),Fp(s,e,Ap(n.pendingWriteTree_,t),null)}function Ih(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function db(){return(0,x.hu)(Vp,"Reference.ts has not been loaded"),Vp}())(n._repo,n._path):n}class Ki{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Ki(e)}node(){return this.node_}}class R_{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=vn(this.path_,t);return new R_(this.syncTree_,e)}node(){return wh(this.syncTree_,this.path_)}}const rd=function(n,t,e){return n&&"object"==typeof n?((0,x.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?uD(n[".sv"],t,e):"object"==typeof n[".sv"]?cD(n[".sv"],t):void(0,x.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},uD=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,x.hu)(!1,"Unexpected server value: "+n)},cD=function(n,t,e){n.hasOwnProperty("increment")||(0,x.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;"number"!=typeof s&&(0,x.hu)(!1,"Unexpected increment value: "+s);const a=t.node();if((0,x.hu)(null!==a&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return s;const g=a.getValue();return"number"!=typeof g?s:g+s},ZE=function(n,t,e,s){return sd(t,new R_(e,n),s)},id=function(n,t,e){return sd(n,new Ki(t),e)};function sd(n,t,e){const s=n.getPriority().val(),a=rd(s,t.getImmediateChild(".priority"),e);let c;if(n.isLeafNode()){const g=n,v=rd(g.getValue(),t,e);return v!==g.getValue()||a!==g.getPriority().val()?new Gc(v,Cn(a)):n}{const g=n;return c=g,a!==g.getPriority().val()&&(c=c.updatePriority(new Gc(a))),g.forEachChild(an,(v,I)=>{const S=sd(I,t.getImmediateChild(v),e);S!==I&&(c=c.updateImmediateChild(v,S))}),c}}class N_{constructor(t="",e=null,s={children:{},childCount:0}){this.name=t,this.parent=e,this.node=s}}function jp(n,t){let e=t instanceof Wt?t:new Wt(t),s=n,a=bt(e);for(;null!==a;){const c=(0,x.DV)(s.node.children,a)||{children:{},childCount:0};s=new N_(a,s,c),e=Qt(e),a=bt(e)}return s}function hl(n){return n.node.value}function Hp(n,t){n.node.value=t,Th(n)}function $p(n){return n.node.childCount>0}function Wp(n,t){ar(n.node.children,(e,s)=>{t(new N_(e,n,s))})}function KE(n,t,e,s){e&&!s&&t(n),Wp(n,a=>{KE(a,t,!0,s)}),e&&s&&t(n)}function Su(n){return new Wt(null===n.parent?n.name:Su(n.parent)+"/"+n.name)}function Th(n){null!==n.parent&&function YE(n,t,e){const s=function qE(n){return void 0===hl(n)&&!$p(n)}(e),a=(0,x.r3)(n.node.children,t);s&&a?(delete n.node.children[t],n.node.childCount--,Th(n)):!s&&!a&&(n.node.children[t]=e.node,n.node.childCount++,Th(n))}(n.parent,n.name,n)}const O_=/[\[\].#$\/\u0000-\u001F\u007F]/,x_=/[\[\].#$\u0000-\u001F\u007F]/,k_=10485760,Gp=function(n){return"string"==typeof n&&0!==n.length&&!O_.test(n)},QE=function(n){return"string"==typeof n&&0!==n.length&&!x_.test(n)},od=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!sp(n)||n&&"object"==typeof n&&(0,x.r3)(n,".sv")},Yi=function(n,t,e,s){s&&void 0===t||ad((0,x.gK)(n,"value"),t,e)},ad=function(n,t,e){const s=e instanceof Wt?new Xv(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+yu(s));if("function"==typeof t)throw new Error(n+"contains a function "+yu(s)+" with contents = "+t.toString());if(sp(t))throw new Error(n+"contains "+t.toString()+" "+yu(s));if("string"==typeof t&&t.length>k_/3&&(0,x.ug)(t)>k_)throw new Error(n+"contains a string greater than "+k_+" utf8 bytes "+yu(s)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,c=!1;if(ar(t,(g,v)=>{if(".value"===g)a=!0;else if(".priority"!==g&&".sv"!==g&&(c=!0,!Gp(g)))throw new Error(n+" contains an invalid key ("+g+") "+yu(s)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function mw(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,x.ug)(t),eE(n)})(s,g),ad(n,v,s),function _w(n){const t=n.parts_.pop();n.byteLength_-=(0,x.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(s)}),a&&c)throw new Error(n+' contains ".value" child '+yu(s)+" in addition to actual children.")}},F_=function(n,t,e,s){if(s&&void 0===t)return;const a=(0,x.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const c=[];ar(t,(g,v)=>{const I=new Wt(g);if(ad(a,v,vn(e,I)),".priority"===Qv(I)&&!od(v))throw new Error(a+"contains an invalid value for '"+I.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(I)}),function(n,t){let e,s;for(e=0;e<t.length;e++){s=t[e];const c=_u(s);for(let g=0;g<c.length;g++)if((".priority"!==c[g]||g!==c.length-1)&&!Gp(c[g]))throw new Error(n+"contains an invalid key ("+c[g]+") in path "+s.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Ss);let a=null;for(e=0;e<t.length;e++){if(s=t[e],null!==a&&wi(a,s))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+s.toString());a=s}}(a,c)},zp=function(n,t,e){if(!e||void 0!==t){if(sp(t))throw new Error((0,x.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!od(t))throw new Error((0,x.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ah=function(n,t,e,s){if(!(s&&void 0===e||Gp(e)))throw new Error((0,x.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ld=function(n,t,e,s){if(!(s&&void 0===e||QE(e)))throw new Error((0,x.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Qi=function(n,t){if(".info"===bt(t))throw new Error(n+" failed = Can't modify data under /.info/")},L_=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Gp(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),QE(n)}(e))throw new Error((0,x.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class fD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function lr(n,t){let e=null;for(let s=0;s<t.length;s++){const a=t[s],c=a.getPath();null!==e&&!Ci(c,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:c}),e.events.push(a)}e&&n.eventLists_.push(e)}function Mu(n,t,e){lr(n,e),XE(n,s=>Ci(s,t))}function Ii(n,t,e){lr(n,e),XE(n,s=>wi(s,t)||wi(t,s))}function XE(n,t){n.recursionDepth_++;let e=!0;for(let s=0;s<n.eventLists_.length;s++){const a=n.eventLists_[s];a&&(t(a.path)?(fb(n.eventLists_[s]),n.eventLists_[s]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function fb(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const s=e.getEventRunner();du&&or("event: "+e.toString()),Ts(s)}}}const pD="repo_interrupt";class tC{constructor(t,e,s,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=s,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=gh(),this.transactionQueueTree_=new N_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function nC(n){const e=n.infoData_.getNode(new Wt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Ru(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:nC(n)})}function rC(n,t,e,s,a){n.dataUpdateCount++;const c=new Wt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let g=[];if(a)if(s){const I=(0,x.UI)(e,S=>Cn(S));g=function oD(n,t,e,s){const a=Bp(n,s);if(a){const c=A_(a),g=c.path,v=c.queryId,I=En(g,t),S=Zt.fromObject(e);return S_(n,g,new Qc(o_(v),I,S))}return[]}(n.serverSyncTree_,c,I,a)}else{const I=Cn(e);g=GE(n.serverSyncTree_,c,I,a)}else if(s){const I=(0,x.UI)(e,S=>Cn(S));g=function rD(n,t,e){const s=Zt.fromObject(e);return Au(n,new Qc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,s))}(n.serverSyncTree_,c,I)}else{const I=Cn(e);g=Ch(n.serverSyncTree_,c,I)}let v=c;g.length>0&&(v=ud(n,c)),Ii(n.eventQueue_,v,g)}function V_(n,t){U_(n,"connected",t),!1===t&&function Kp(n){pl(n,"onDisconnectEvents");const t=Ru(n),e=gh();s_(n.onDisconnect_,jt(),(a,c)=>{const g=ZE(a,c,n.serverSyncTree_,t);wu(e,a,g)});let s=[];s_(e,jt(),(a,c)=>{s=s.concat(Ch(n.serverSyncTree_,a,c));const g=W_(n,a);ud(n,g)}),n.onDisconnect_=gh(),Ii(n.eventQueue_,jt(),s)}(n)}function U_(n,t,e){const s=new Wt("/.info/"+t),a=Cn(e);n.infoData_.updateSnapshot(s,a);const c=Ch(n.infoSyncTree_,s,a);Ii(n.eventQueue_,s,c)}function Zp(n){return n.nextWriteId_++}function qp(n,t,e,s,a){pl(n,"set",{path:t.toString(),value:e,priority:s});const c=Ru(n),g=Cn(e,s),v=wh(n.serverSyncTree_,t),I=id(g,v,c),S=Zp(n),V=w_(n.serverSyncTree_,t,I,S,!0);lr(n.eventQueue_,V),n.server_.put(t.toString(),g.val(!0),(K,me)=>{const ke="ok"===K;ke||Sr("set at "+t+" failed: "+K);const dt=dl(n.serverSyncTree_,S,!ke);Ii(n.eventQueue_,t,dt),Pu(0,a,K,me)});const F=W_(n,t);ud(n,F),Ii(n.eventQueue_,F,[])}function j_(n,t,e){n.server_.onDisconnectCancel(t.toString(),(s,a)=>{"ok"===s&&i_(n.onDisconnect_,t),Pu(0,e,s,a)})}function mD(n,t,e,s){const a=Cn(e);n.server_.onDisconnectPut(t.toString(),a.val(!0),(c,g)=>{"ok"===c&&wu(n.onDisconnect_,t,a),Pu(0,s,c,g)})}function fl(n,t,e){let s;s=".info"===bt(t._path)?Up(n.infoSyncTree_,t,e):Up(n.serverSyncTree_,t,e),Mu(n.eventQueue_,t._path,s)}function aC(n){n.persistentConnection_&&n.persistentConnection_.interrupt(pD)}function pl(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),or(e,...t)}function Pu(n,t,e,s){t&&Ts(()=>{if("ok"===e)t(null);else{const a=(e||"error").toUpperCase();let c=a;s&&(c+=": "+s);const g=new Error(c);g.code=a,t(g)}})}function uC(n,t,e){return wh(n.serverSyncTree_,t,e)||Et.EMPTY_NODE}function Yp(n,t=n.transactionQueueTree_){if(t||Mh(n,t),hl(t)){const e=dC(n,t);(0,x.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function vD(n,t,e){const s=e.map(S=>S.currentWriteId),a=uC(n,t,s);let c=a;const g=a.hash();for(let S=0;S<e.length;S++){const V=e[S];(0,x.hu)(0===V.status,"tryToSendTransactionQueue_: items in queue should all be run."),V.status=1,V.retryCount++;const F=En(t,V.path);c=c.updateChild(F,V.currentOutputSnapshotRaw)}const v=c.val(!0),I=t;n.server_.put(I.toString(),v,S=>{pl(n,"transaction put response",{path:I.toString(),status:S});let V=[];if("ok"===S){const F=[];for(let K=0;K<e.length;K++)e[K].status=2,V=V.concat(dl(n.serverSyncTree_,e[K].currentWriteId)),e[K].onComplete&&F.push(()=>e[K].onComplete(null,!0,e[K].currentOutputSnapshotResolved)),e[K].unwatcher();Mh(n,jp(n.transactionQueueTree_,t)),Yp(n,n.transactionQueueTree_),Ii(n.eventQueue_,t,V);for(let K=0;K<F.length;K++)Ts(F[K])}else{if("datastale"===S)for(let F=0;F<e.length;F++)e[F].status=3===e[F].status?4:0;else{Sr("transaction at "+I.toString()+" failed: "+S);for(let F=0;F<e.length;F++)e[F].status=4,e[F].abortReason=S}ud(n,t)}},g)}(n,Su(t),e)}else $p(t)&&Wp(t,e=>{Yp(n,e)})}function ud(n,t){const e=H_(n,t),s=Su(e);return function cC(n,t,e){if(0===t.length)return;const s=[];let a=[];const g=t.filter(v=>0===v.status).map(v=>v.currentWriteId);for(let v=0;v<t.length;v++){const I=t[v],S=En(e,I.path);let F,V=!1;if((0,x.hu)(null!==S,"rerunTransactionsUnderNode_: relativePath should not be null."),4===I.status)V=!0,F=I.abortReason,a=a.concat(dl(n.serverSyncTree_,I.currentWriteId,!0));else if(0===I.status)if(I.retryCount>=25)V=!0,F="maxretry",a=a.concat(dl(n.serverSyncTree_,I.currentWriteId,!0));else{const K=uC(n,I.path,g);I.currentInputSnapshot=K;const me=t[v].update(K.val());if(void 0!==me){ad("transaction failed: Data returned ",me,I.path);let ke=Cn(me);"object"==typeof me&&null!=me&&(0,x.r3)(me,".priority")||(ke=ke.updatePriority(K.getPriority()));const mt=I.currentWriteId,Dn=Ru(n),ln=id(ke,K,Dn);I.currentOutputSnapshotRaw=ke,I.currentOutputSnapshotResolved=ln,I.currentWriteId=Zp(n),g.splice(g.indexOf(mt),1),a=a.concat(w_(n.serverSyncTree_,I.path,ln,I.currentWriteId,I.applyLocally)),a=a.concat(dl(n.serverSyncTree_,mt,!0))}else V=!0,F="nodata",a=a.concat(dl(n.serverSyncTree_,I.currentWriteId,!0))}Ii(n.eventQueue_,e,a),a=[],V&&(t[v].status=2,setTimeout(t[v].unwatcher,Math.floor(0)),t[v].onComplete&&s.push("nodata"===F?()=>t[v].onComplete(null,!1,t[v].currentInputSnapshot):()=>t[v].onComplete(new Error(F),!1,null)))}Mh(n,n.transactionQueueTree_);for(let v=0;v<s.length;v++)Ts(s[v]);Yp(n,n.transactionQueueTree_)}(n,dC(n,e),s),s}function H_(n,t){let e,s=n.transactionQueueTree_;for(e=bt(t);null!==e&&void 0===hl(s);)s=jp(s,e),e=bt(t=Qt(t));return s}function dC(n,t){const e=[];return $_(n,t,e),e.sort((s,a)=>s.order-a.order),e}function $_(n,t,e){const s=hl(t);if(s)for(let a=0;a<s.length;a++)e.push(s[a]);Wp(t,a=>{$_(n,a,e)})}function Mh(n,t){const e=hl(t);if(e){let s=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[s]=e[a],s++);e.length=s,Hp(t,e.length>0?e:void 0)}Wp(t,s=>{Mh(n,s)})}function W_(n,t){const e=Su(H_(n,t)),s=jp(n.transactionQueueTree_,t);return function hb(n,t,e){let s=e?n:n.parent;for(;null!==s;){if(t(s))return!0;s=s.parent}}(s,a=>{G_(n,a)}),G_(n,s),KE(s,a=>{G_(n,a)}),e}function G_(n,t){const e=hl(t);if(e){const s=[];let a=[],c=-1;for(let g=0;g<e.length;g++)3===e[g].status||(1===e[g].status?((0,x.hu)(c===g-1,"All SENT items should be at beginning of queue."),c=g,e[g].status=3,e[g].abortReason="set"):((0,x.hu)(0===e[g].status,"Unexpected transaction status in abort"),e[g].unwatcher(),a=a.concat(dl(n.serverSyncTree_,e[g].currentWriteId,!0)),e[g].onComplete&&s.push(e[g].onComplete.bind(null,new Error("set"),!1,null))));-1===c?Hp(t,void 0):e.length=c+1,Ii(n.eventQueue_,Su(t),a);for(let g=0;g<s.length;g++)Ts(s[g])}}const Qp=function(n,t){const e=fC(n),s=e.namespace;return"firebase.com"===e.domain&&lo(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||"undefined"===s)&&"localhost"!==e.domain&&lo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Sr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Lm(e.host,e.secure,s,"ws"===e.scheme||"wss"===e.scheme,t,"",s!==e.subdomain),path:new Wt(e.pathString)}},fC=function(n){let t="",e="",s="",a="",c="",g=!0,v="https",I=443;if("string"==typeof n){let S=n.indexOf("//");S>=0&&(v=n.substring(0,S-1),n=n.substring(S+2));let V=n.indexOf("/");-1===V&&(V=n.length);let F=n.indexOf("?");-1===F&&(F=n.length),t=n.substring(0,Math.min(V,F)),V<F&&(a=function hC(n){let t="";const e=n.split("/");for(let s=0;s<e.length;s++)if(e[s].length>0){let a=e[s];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}(n.substring(V,F)));const K=function ED(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const s=e.split("=");2===s.length?t[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Sr(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,F)));S=t.indexOf(":"),S>=0?(g="https"===v||"wss"===v,I=parseInt(t.substring(S+1),10)):S=t.length;const me=t.slice(0,S);if("localhost"===me.toLowerCase())e="localhost";else if(me.split(".").length<=2)e=me;else{const ke=t.indexOf(".");s=t.substring(0,ke).toLowerCase(),e=t.substring(ke+1),c=s}"ns"in K&&(c=K.ns)}return{host:t,port:I,domain:e,subdomain:s,secure:g,scheme:v,pathString:a,namespace:c}};class z_{constructor(t,e,s,a){this.eventType=t,this.eventRegistration=e,this.snapshot=s,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,x.Wl)(this.snapshot.exportVal())}}class Z_{constructor(t,e,s){this.eventRegistration=t,this.error=e,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class q_{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,x.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class pC{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new x.BH;return j_(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Qi("OnDisconnect.remove",this._path);const t=new x.BH;return mD(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Qi("OnDisconnect.set",this._path),Yi("OnDisconnect.set",t,this._path,!1);const e=new x.BH;return mD(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Qi("OnDisconnect.setWithPriority",this._path),Yi("OnDisconnect.setWithPriority",t,this._path,!1),zp("OnDisconnect.setWithPriority",e,!1);const s=new x.BH;return function sC(n,t,e,s,a){const c=Cn(e,s);n.server_.onDisconnectPut(t.toString(),c.val(!0),(g,v)=>{"ok"===g&&wu(n.onDisconnect_,t,c),Pu(0,a,g,v)})}(this._repo,this._path,t,e,s.wrapCallback(()=>{})),s.promise}update(t){Qi("OnDisconnect.update",this._path),F_("OnDisconnect.update",t,this._path,!1);const e=new x.BH;return function _D(n,t,e,s){if((0,x.xb)(e))return or("onDisconnect().update() called with empty data.  Don't do anything."),void Pu(0,s,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(a,c)=>{"ok"===a&&ar(e,(g,v)=>{const I=Cn(v);wu(n.onDisconnect_,vn(t,g),I)}),Pu(0,s,a,c)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class bi{constructor(t,e,s,a){this._repo=t,this._path=e,this._queryParams=s,this._orderByCalled=a}get key(){return Tt(this._path)?null:Qv(this._path)}get ref(){return new Ps(this._repo,this._path)}get _queryIdentifier(){const t=mE(this._queryParams),e=Sm(t);return"{}"===e?"default":e}get _queryObject(){return mE(this._queryParams)}isEqual(t){if(!((t=(0,x.m9)(t))instanceof bi))return!1;const e=this._repo===t._repo,s=Ci(this._path,t._path);return e&&s&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Jv(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function Rh(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Nu(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Ms){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Zi)throw new Error(s);if("string"!=typeof t)throw new Error(a)}if(n.hasEnd()){if(n.getIndexEndName()!==Mr)throw new Error(s);if("string"!=typeof e)throw new Error(a)}}else if(n.getIndex()===an){if(null!=t&&!od(t)||null!=e&&!od(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,x.hu)(n.getIndex()instanceof mp||n.getIndex()===_p,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function K_(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ps extends bi{constructor(t,e){super(t,e,new Ep,!1)}get parent(){const t=As(this._path);return null===t?null:new Ps(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class cd{constructor(t,e,s){this._node=t,this.ref=e,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Wt(t),s=dd(this.ref,t);return new cd(this._node.getChild(e),s,an)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(s,a)=>t(new cd(a,dd(this.ref,s),an)))}hasChild(t){const e=new Wt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function CD(n,t){return(n=(0,x.m9)(n))._checkNotDeleted("ref"),void 0!==t?dd(n._root,t):n._root}function wD(n,t){(n=(0,x.m9)(n))._checkNotDeleted("refFromURL");const e=Qp(t,n._repo.repoInfo_.nodeAdmin);L_("refFromURL",e);const s=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&s.host!==n._repo.repoInfo_.host&&lo("refFromURL: Host name does not match the current database: (found "+s.host+" but expected "+n._repo.repoInfo_.host+")"),CD(n,e.path.toString())}function dd(n,t){return null===bt((n=(0,x.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ld("child","path",e,!1)):ld("child","path",t,!1),new Ps(n._repo,vn(n._path,t));var e}function Xp(n,t){n=(0,x.m9)(n),Qi("set",n._path),Yi("set",t,n._path,!1);const e=new x.BH;return qp(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function mC(n,t){F_("update",t,n._path,!1);const e=new x.BH;return function iC(n,t,e,s){pl(n,"update",{path:t.toString(),value:e});let a=!0;const c=Ru(n),g={};if(ar(e,(v,I)=>{a=!1,g[v]=ZE(vn(t,v),Cn(I),n.serverSyncTree_,c)}),a)or("update() called with empty data.  Don't do anything."),Pu(0,s,"ok",void 0);else{const v=Zp(n),I=function nD(n,t,e,s){!function Fw(n,t,e,s){(0,x.hu)(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:s,visible:!0}),n.visibleWrites=Tp(n.visibleWrites,t,e),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s);const a=Zt.fromObject(e);return Au(n,new Qc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a))}(n.serverSyncTree_,t,g,v);lr(n.eventQueue_,I),n.server_.merge(t.toString(),e,(S,V)=>{const F="ok"===S;F||Sr("update at "+t+" failed: "+S);const K=dl(n.serverSyncTree_,v,!F),me=K.length>0?ud(n,t):t;Ii(n.eventQueue_,me,K),Pu(0,s,S,V)}),ar(e,S=>{const V=W_(n,vn(t,S));ud(n,V)}),Ii(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function gb(n){n=(0,x.m9)(n);const t=new q_(()=>{}),e=new Ou(t);return function B_(n,t,e){const s=function zE(n,t){const e=t._path;let s=null;n.syncPointTree_.foreachOnPath(e,(S,V)=>{const F=En(S,e);s=s||cl(V,F)});let a=n.syncPointTree_.get(e);a?s=s||cl(a,jt()):(a=new y_,n.syncPointTree_=n.syncPointTree_.set(e,a));const c=null!=s,g=c?new ll(s,!0,!1):null;return function nd(n){return a_(n.viewCache_)}(E_(a,t,Ap(n.pendingWriteTree_,t._path),c?g.getNode():Et.EMPTY_NODE,c))}(n.serverSyncTree_,t);return null!=s?Promise.resolve(s):n.server_.get(t).then(a=>{const c=Cn(a).withIndex(t._queryParams.getIndex());let g;if(Tu(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())g=Ch(n.serverSyncTree_,t._path,c);else{const v=Dh(n.serverSyncTree_,t);g=GE(n.serverSyncTree_,t._path,c,v)}return Ii(n.eventQueue_,t._path,g),Up(n.serverSyncTree_,t,e,null,!0),c},a=>(pl(n,"get for query "+(0,x.Wl)(t)+" failed: "+a),Promise.reject(new Error(a))))}(n._repo,n,e).then(s=>new cd(s,new Ps(n._repo,n._path),n._queryParams.getIndex()))}class Ou{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const s=e._queryParams.getIndex();return new z_("value",this,new cd(t.snapshotNode,new Ps(e._repo,e._path),s))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Z_(this,t,e):null}matches(t){return t instanceof Ou&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Ph{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Z_(this,t,e):null}createEvent(t,e){(0,x.hu)(null!=t.childName,"Child events should have a childName.");const s=dd(new Ps(e._repo,e._path),t.childName),a=e._queryParams.getIndex();return new z_(t.type,this,new cd(t.snapshotNode,s,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Ph&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Nh(n,t,e,s,a){let c;if("object"==typeof s&&(c=void 0,a=s),"function"==typeof s&&(c=s),a&&a.onlyOnce){const I=e,S=(V,F)=>{fl(n._repo,n,v),I(V,F)};S.userCallback=e.userCallback,S.context=e.context,e=S}const g=new q_(e,c||void 0),v="value"===t?new Ou(g):new Ph(t,g);return function oC(n,t,e){let s;s=".info"===bt(t._path)?Tu(n.infoSyncTree_,t,e):Tu(n.serverSyncTree_,t,e),Mu(n.eventQueue_,t._path,s)}(n._repo,n,v),()=>fl(n._repo,n,v)}function tg(n,t,e,s){return Nh(n,"value",t,e,s)}function DD(n,t,e,s){return Nh(n,"child_added",t,e,s)}function ID(n,t,e,s){return Nh(n,"child_changed",t,e,s)}function _C(n,t,e,s){return Nh(n,"child_moved",t,e,s)}function yC(n,t,e,s){return Nh(n,"child_removed",t,e,s)}function Oh(n,t,e){let s=null;const a=e?new q_(e):null;"value"===t?s=new Ou(a):t&&(s=new Ph(t,a)),fl(n._repo,n,s)}class Ns{}class bD extends Ns{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Yi("endAt",this._value,t._path,!0);const e=wn(t._queryParams,this._value,this._key);if(K_(e),Nu(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new bi(t._repo,t._path,e,t._orderByCalled)}}class _b extends Ns{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Yi("endBefore",this._value,t._path,!1);const e=function lb(n,t,e){let s,a;return n.index_===Ms?("string"==typeof t&&(t=Cu(t)),a=wn(n,t,e)):(s=null==e?Zi:Cu(e),a=wn(n,t,s)),a.endBeforeSet_=!0,a}(t._queryParams,this._value,this._key);if(K_(e),Nu(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new bi(t._repo,t._path,e,t._orderByCalled)}}class vC extends Ns{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Yi("startAt",this._value,t._path,!0);const e=Yc(t._queryParams,this._value,this._key);if(K_(e),Nu(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new bi(t._repo,t._path,e,t._orderByCalled)}}class yb extends Ns{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Yi("startAfter",this._value,t._path,!1);const e=function Cp(n,t,e){let s;if(n.index_===Ms)"string"==typeof t&&(t=fE(t)),s=Yc(n,t,e);else{let a;a=null==e?Mr:fE(e),s=Yc(n,t,a)}return s.startAfterSet_=!0,s}(t._queryParams,this._value,this._key);if(K_(e),Nu(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new bi(t._repo,t._path,e,t._orderByCalled)}}class EC extends Ns{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new bi(t._repo,t._path,function Kc(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class vb extends Ns{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new bi(t._repo,t._path,function Rw(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class MD extends Ns{constructor(t){super(),this._path=t}_apply(t){Rh(t,"orderByChild");const e=new Wt(this._path);if(Tt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new mp(e),a=fh(t._queryParams,s);return Nu(a),new bi(t._repo,t._path,a,!0)}}class RD extends Ns{_apply(t){Rh(t,"orderByKey");const e=fh(t._queryParams,Ms);return Nu(e),new bi(t._repo,t._path,e,!0)}}class PD extends Ns{_apply(t){Rh(t,"orderByPriority");const e=fh(t._queryParams,an);return Nu(e),new bi(t._repo,t._path,e,!0)}}class ND extends Ns{_apply(t){Rh(t,"orderByValue");const e=fh(t._queryParams,_p);return Nu(e),new bi(t._repo,t._path,e,!0)}}class J_ extends Ns{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Yi("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new bD(this._value,this._key)._apply(new vC(this._value,this._key)._apply(t))}}function Xi(n,...t){let e=(0,x.m9)(n);for(const s of t)e=s._apply(e);return e}(function v_(n){(0,x.hu)(!kp,"__referenceConstructor has already been defined"),kp=n})(Ps),function cb(n){(0,x.hu)(!Vp,"__referenceConstructor has already been defined"),Vp=n}(Ps);const ng={};function ey(n,t,e,s,a){let c=s||n.options.databaseURL;void 0===c&&(n.options.projectId||lo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),or("Using default host for project ",n.options.projectId),c=`${n.options.projectId}-default-rtdb.firebaseio.com`);let I,S,g=Qp(c,a),v=g.repoInfo;typeof process<"u"&&process.env&&(S=process.env.FIREBASE_DATABASE_EMULATOR_HOST),S?(I=!0,c=`http://${S}?ns=${v.namespace}`,g=Qp(c,a),v=g.repoInfo):I=!g.repoInfo.secure;const V=a&&I?new co(co.OWNER):new Hc(n.name,n.options,t);L_("Invalid Firebase Database URL",g),Tt(g.path)||lo("Database URL must point to the root of a Firebase Database (not including a child path).");const F=function ty(n,t,e,s){let a=ng[t.name];a||(a={},ng[t.name]=a);let c=a[n.toURLString()];return c&&lo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new tC(n,false,e,s),a[n.toURLString()]=c,c}(v,n,V,new jc(n.name,e));return new DC(F,n)}class DC{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Sh(n,t,e){if(n.stats_=sh(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new ph(n.repoInfo_,(s,a,c,g)=>{rC(n,s,a,c,g)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>V_(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,x.Wl)(e)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new vu(n.repoInfo_,t,(s,a,c,g)=>{rC(n,s,a,c,g)},s=>{V_(n,s)},s=>{!function gD(n,t){ar(t,(e,s)=>{U_(n,e,s)})}(n,s)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=function dw(n,t){const e=n.toString();return ih[e]||(ih[e]=t()),ih[e]}(n.repoInfo_,()=>new wp(n.stats_,n.server_)),n.infoData_=new _E,n.infoSyncTree_=new WE({startListening:(s,a,c,g)=>{let v=[];const I=n.infoData_.getNode(s._path);return I.isEmpty()||(v=Ch(n.infoSyncTree_,s._path,I),setTimeout(()=>{g("ok")},0)),v},stopListening:()=>{}}),U_(n,"connected",!1),n.serverSyncTree_=new WE({startListening:(s,a,c,g)=>(n.server_.listen(s,c,a,(v,I)=>{const S=g(v,I);Ii(n.eventQueue_,s._path,S)}),[]),stopListening:(s,a)=>{n.server_.unlisten(s,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ps(this._repo,jt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function FD(n,t){const e=ng[t];(!e||e[n.key]!==n)&&lo(`Database ${t}(${n.repoInfo_}) has already been deleted.`),aC(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&lo("Cannot call "+t+" on a deleted database.")}}function rg(){qm.IS_TRANSPORT_INITIALIZED&&Sr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function ua(){rg(),rl.forceDisallow()}function LD(){rg(),gu.forceDisallow(),rl.forceAllow()}function BD(n,t){ip(n,t)}const Eb={".sv":"timestamp"};class AC{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}vu.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},vu.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function bC(n){bm(nl.SDK_VERSION),(0,nl._registerComponent)(new uu.wA("database",(t,{instanceIdentifier:e})=>ey(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,nl.registerVersion)(Fc,"0.13.7",n),(0,nl.registerVersion)(Fc,"0.13.7","esm2017")}();const PC=new zd.Yd("@firebase/database-compat"),ny=function(n){PC.warn("FIREBASE WARNING: "+n)};class NC{constructor(t){this._delegate=t}cancel(t){(0,x.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,x.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),s=>t(s)),e}remove(t){(0,x.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,x.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),s=>t(s)),e}set(t,e){(0,x.Dv)("OnDisconnect.set",1,2,arguments.length),(0,x.Wj)("OnDisconnect.set","onComplete",e,!0);const s=this._delegate.set(t);return e&&s.then(()=>e(null),a=>e(a)),s}setWithPriority(t,e,s){(0,x.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,x.Wj)("OnDisconnect.setWithPriority","onComplete",s,!0);const a=this._delegate.setWithPriority(t,e);return s&&a.then(()=>s(null),c=>s(c)),a}update(t,e){if((0,x.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let c=0;c<t.length;++c)a[""+c]=t[c];t=a,ny("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,x.Wj)("OnDisconnect.update","onComplete",e,!0);const s=this._delegate.update(t);return e&&s.then(()=>e(null),a=>e(a)),s}}class $D{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,x.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class ca{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,x.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,x.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,x.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,x.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,x.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),ld("DataSnapshot.child","path",t,!1),new ca(this._database,this._delegate.child(t))}hasChild(t){return(0,x.Dv)("DataSnapshot.hasChild",1,1,arguments.length),ld("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,x.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,x.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,x.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new ca(this._database,e)))}hasChildren(){return(0,x.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,x.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,x.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ti(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ur{constructor(t,e){this.database=t,this._delegate=e}on(t,e,s,a){var c;(0,x.Dv)("Query.on",2,4,arguments.length),(0,x.Wj)("Query.on","callback",e,!1);const g=ur.getCancelAndContextArgs_("Query.on",s,a),v=(S,V)=>{e.call(g.context,new ca(this.database,S),V)};v.userCallback=e,v.context=g.context;const I=null===(c=g.cancel)||void 0===c?void 0:c.bind(g.context);switch(t){case"value":return tg(this._delegate,v,I),e;case"child_added":return DD(this._delegate,v,I),e;case"child_removed":return yC(this._delegate,v,I),e;case"child_changed":return ID(this._delegate,v,I),e;case"child_moved":return _C(this._delegate,v,I),e;default:throw new Error((0,x.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,s){if((0,x.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,x.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,x.Wj)("Query.off","callback",e,!0),(0,x.lb)("Query.off","context",s,!0),e){const a=()=>{};a.userCallback=e,a.context=s,Oh(this._delegate,t,a)}else Oh(this._delegate,t)}get(){return gb(this._delegate).then(t=>new ca(this.database,t))}once(t,e,s,a){(0,x.Dv)("Query.once",1,4,arguments.length),(0,x.Wj)("Query.once","callback",e,!0);const c=ur.getCancelAndContextArgs_("Query.once",s,a),g=new x.BH,v=(S,V)=>{const F=new ca(this.database,S);e&&e.call(c.context,F,V),g.resolve(F)};v.userCallback=e,v.context=c.context;const I=S=>{c.cancel&&c.cancel.call(c.context,S),g.reject(S)};switch(t){case"value":tg(this._delegate,v,I,{onlyOnce:!0});break;case"child_added":DD(this._delegate,v,I,{onlyOnce:!0});break;case"child_removed":yC(this._delegate,v,I,{onlyOnce:!0});break;case"child_changed":ID(this._delegate,v,I,{onlyOnce:!0});break;case"child_moved":_C(this._delegate,v,I,{onlyOnce:!0});break;default:throw new Error((0,x.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return g.promise}limitToFirst(t){return(0,x.Dv)("Query.limitToFirst",1,1,arguments.length),new ur(this.database,Xi(this._delegate,function CC(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new EC(n)}(t)))}limitToLast(t){return(0,x.Dv)("Query.limitToLast",1,1,arguments.length),new ur(this.database,Xi(this._delegate,function Os(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new vb(n)}(t)))}orderByChild(t){return(0,x.Dv)("Query.orderByChild",1,1,arguments.length),new ur(this.database,Xi(this._delegate,function Y_(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ld("orderByChild","path",n,!1),new MD(n)}(t)))}orderByKey(){return(0,x.Dv)("Query.orderByKey",0,0,arguments.length),new ur(this.database,Xi(this._delegate,function Ji(){return new RD}()))}orderByPriority(){return(0,x.Dv)("Query.orderByPriority",0,0,arguments.length),new ur(this.database,Xi(this._delegate,function Q_(){return new PD}()))}orderByValue(){return(0,x.Dv)("Query.orderByValue",0,0,arguments.length),new ur(this.database,Xi(this._delegate,function OD(){return new ND}()))}startAt(t=null,e){return(0,x.Dv)("Query.startAt",0,2,arguments.length),new ur(this.database,Xi(this._delegate,function AD(n=null,t){return Ah("startAt","key",t,!0),new vC(n,t)}(t,e)))}startAfter(t=null,e){return(0,x.Dv)("Query.startAfter",0,2,arguments.length),new ur(this.database,Xi(this._delegate,function SD(n,t){return Ah("startAfter","key",t,!0),new yb(n,t)}(t,e)))}endAt(t=null,e){return(0,x.Dv)("Query.endAt",0,2,arguments.length),new ur(this.database,Xi(this._delegate,function mb(n,t){return Ah("endAt","key",t,!0),new bD(n,t)}(t,e)))}endBefore(t=null,e){return(0,x.Dv)("Query.endBefore",0,2,arguments.length),new ur(this.database,Xi(this._delegate,function TD(n,t){return Ah("endBefore","key",t,!0),new _b(n,t)}(t,e)))}equalTo(t,e){return(0,x.Dv)("Query.equalTo",1,2,arguments.length),new ur(this.database,Xi(this._delegate,function wC(n,t){return Ah("equalTo","key",t,!0),new J_(n,t)}(t,e)))}toString(){return(0,x.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,x.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,x.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof ur))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,s){const a={cancel:void 0,context:void 0};if(e&&s)a.cancel=e,(0,x.Wj)(t,"cancel",a.cancel,!0),a.context=s,(0,x.lb)(t,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,x.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new Ti(this.database,new Ps(this._delegate._repo,this._delegate._path))}}class Ti extends ur{constructor(t,e){super(t,new bi(e._repo,e._path,new Ep,!1)),this.database=t,this._delegate=e}getKey(){return(0,x.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,x.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Ti(this.database,dd(this._delegate,t))}getParent(){(0,x.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Ti(this.database,t):null}getRoot(){return(0,x.Dv)("Reference.root",0,0,arguments.length),new Ti(this.database,this._delegate.root)}set(t,e){(0,x.Dv)("Reference.set",1,2,arguments.length),(0,x.Wj)("Reference.set","onComplete",e,!0);const s=Xp(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}update(t,e){if((0,x.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let c=0;c<t.length;++c)a[""+c]=t[c];t=a,ny("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Qi("Reference.update",this._delegate._path),(0,x.Wj)("Reference.update","onComplete",e,!0);const s=mC(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}setWithPriority(t,e,s){(0,x.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,x.Wj)("Reference.setWithPriority","onComplete",s,!0);const a=function gC(n,t,e){if(Qi("setWithPriority",n._path),Yi("setWithPriority",t,n._path,!1),zp("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const s=new x.BH;return qp(n._repo,n._path,t,e,s.wrapCallback(()=>{})),s.promise}(this._delegate,t,e);return s&&a.then(()=>s(null),c=>s(c)),a}remove(t){(0,x.Dv)("Reference.remove",0,1,arguments.length),(0,x.Wj)("Reference.remove","onComplete",t,!0);const e=function pb(n){return Qi("remove",n._path),Xp(n,null)}(this._delegate);return t&&e.then(()=>t(null),s=>t(s)),e}transaction(t,e,s){(0,x.Dv)("Reference.transaction",1,3,arguments.length),(0,x.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,x.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,s){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,x.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,s);const a=function Cb(n,t,e){var s;if(n=(0,x.m9)(n),Qi("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const a=null===(s=e?.applyLocally)||void 0===s||s,c=new x.BH,v=tg(n,()=>{});return function yD(n,t,e,s,a,c){pl(n,"transaction on "+t);const g={path:t,update:e,onComplete:s,status:null,order:ow(),applyLocally:c,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},v=uC(n,t,void 0);g.currentInputSnapshot=v;const I=g.update(v.val());if(void 0===I)g.unwatcher(),g.currentOutputSnapshotRaw=null,g.currentOutputSnapshotResolved=null,g.onComplete&&g.onComplete(null,!1,g.currentInputSnapshot);else{ad("transaction failed: Data returned ",I,g.path),g.status=0;const S=jp(n.transactionQueueTree_,t),V=hl(S)||[];let F;V.push(g),Hp(S,V),"object"==typeof I&&null!==I&&(0,x.r3)(I,".priority")?(F=(0,x.DV)(I,".priority"),(0,x.hu)(od(F),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):F=(wh(n.serverSyncTree_,t)||Et.EMPTY_NODE).getPriority().val();const K=Ru(n),me=Cn(I,F),ke=id(me,v,K);g.currentOutputSnapshotRaw=me,g.currentOutputSnapshotResolved=ke,g.currentWriteId=Zp(n);const dt=w_(n.serverSyncTree_,t,ke,g.currentWriteId,g.applyLocally);Ii(n.eventQueue_,t,dt),Yp(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(I,S,V)=>{let F=null;I?c.reject(I):(F=new cd(V,new Ps(n._repo,n._path),an),c.resolve(new AC(S,F)))},v,a),c.promise}(this._delegate,t,{applyLocally:s}).then(c=>new $D(c.committed,new ca(this.database,c.snapshot)));return e&&a.then(c=>e(null,c.committed,c.snapshot),c=>e(c,!1,null)),a}setPriority(t,e){(0,x.Dv)("Reference.setPriority",1,2,arguments.length),(0,x.Wj)("Reference.setPriority","onComplete",e,!0);const s=function eg(n,t){n=(0,x.m9)(n),Qi("setPriority",n._path),zp("setPriority",t,!1);const e=new x.BH;return qp(n._repo,vn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}push(t,e){(0,x.Dv)("Reference.push",0,2,arguments.length),(0,x.Wj)("Reference.push","onComplete",e,!0);const s=function Jp(n,t){n=(0,x.m9)(n),Qi("push",n._path),Yi("push",t,n._path,!0);const e=nC(n._repo),s=Tw(e),a=dd(n,s),c=dd(n,s);let g;return g=null!=t?Xp(c,t).then(()=>c):Promise.resolve(c),a.then=g.then.bind(g),a.catch=g.then.bind(g,void 0),a}(this._delegate,t),a=s.then(g=>new Ti(this.database,g));e&&a.then(()=>e(null),g=>e(g));const c=new Ti(this.database,s);return c.then=a.then.bind(a),c.catch=a.catch.bind(a,void 0),c}onDisconnect(){return Qi("Reference.onDisconnect",this._delegate._path),new NC(new pC(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class xh{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:ua,forceLongPolling:LD}}useEmulator(t,e,s={}){!function IC(n,t,e,s={}){(n=(0,x.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&lo("Cannot call useEmulator() after instance has already been initialized.");const a=n._repoInternal;let c;if(a.repoInfo_.nodeAdmin)s.mockUserToken&&lo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new co(co.OWNER);else if(s.mockUserToken){const g="string"==typeof s.mockUserToken?s.mockUserToken:(0,x.Sg)(s.mockUserToken,n.app.options.projectId);c=new co(g)}!function kD(n,t,e,s){n.repoInfo_=new Lm(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),s&&(n.authTokenProvider_=s)}(a,t,e,c)}(this._delegate,t,e,s)}ref(t){if((0,x.Dv)("database.ref",0,1,arguments.length),t instanceof Ti){const e=wD(this._delegate,t.toString());return new Ti(this,e)}{const e=CD(this._delegate,t);return new Ti(this,e)}}refFromURL(t){(0,x.Dv)("database.refFromURL",1,1,arguments.length);const s=wD(this._delegate,t);return new Ti(this,s)}goOffline(){return(0,x.Dv)("database.goOffline",0,0,arguments.length),function VD(n){(n=(0,x.m9)(n))._checkNotDeleted("goOffline"),aC(n._repo)}(this._delegate)}goOnline(){return(0,x.Dv)("database.goOnline",0,0,arguments.length),function UD(n){(n=(0,x.m9)(n))._checkNotDeleted("goOnline"),function lC(n){n.persistentConnection_&&n.persistentConnection_.resume(pD)}(n._repo)}(this._delegate)}}xh.ServerValue={TIMESTAMP:function TC(){return Eb}(),increment:n=>function jD(n){return{".sv":{increment:n}}}(n)};var Db=Object.freeze({__proto__:null,initStandalone:function wb({app:n,url:t,version:e,customAuthImpl:s,namespace:a,nodeAdmin:c=!1}){bm(e);const g=new uu.zt("auth-internal",new uu.H0("database-standalone"));return g.setComponent(new uu.wA("auth-internal",()=>s,"PRIVATE")),{instance:new xh(ey(n,g,void 0,t,c),n),namespace:a}}});const OC=xh.ServerValue;function ZD(n){return null==n}function qD(n){return"function"==typeof n.set}function KD(n,t){return qD(t)?t:n.ref(t)}function YD(n,t){if(function GD(n){return"string"==typeof n}(n))return t.stringCase();if(qD(n))return t.firebaseCase();if(function zD(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function og(n,t,e="on",s=Sv.z){return new Kn.y(a=>{let c=null;return c=n[e](t,(g,v)=>{s.schedule(()=>{a.next({snapshot:g,prevKey:v})}),"once"===e&&s.schedule(()=>a.complete())},g=>{s.schedule(()=>a.error(g))}),"on"===e?{unsubscribe(){null!=c&&n.off(t,c)}}:{unsubscribe(){}}}).pipe((0,Ye.U)(a=>{const{snapshot:c,prevKey:g}=a;let v=null;return c.exists()&&(v=c.key),{type:t,payload:c,prevKey:g,key:v}}),(0,Kg.B)())}function kh(n,t){const e=n.length;for(let s=0;s<e;s++)if(n[s].payload.key===t)return s;return-1}function XD(n,t){const{payload:e,prevKey:s,key:a}=t,c=kh(n,a),g=function JD(n,t){if(ZD(t))return 0;{const e=kh(n,t);return-1===e?n.length:e+1}}(n,s);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let v=null;t.payload.forEach(I=>{const S={payload:I,type:"value",prevKey:v,key:I.key};return v=I.key,n=[...n,S],!1})}return n;case"child_added":if(c>-1){const v=n[c-1];(v&&v.key||null)!==s&&(n=n.filter(I=>I.payload.key!==e.key)).splice(g,0,t)}else{if(null==s)return[t,...n];(n=n.slice()).splice(g,0,t)}return n;case"child_removed":return n.filter(v=>v.payload.key!==e.key);case"child_changed":return n.map(v=>v.payload.key===a?t:v);case"child_moved":if(c>-1){const v=n.splice(c,1)[0];return(n=n.slice()).splice(g,0,v),n}return n;default:return n}}function ry(n){return(ZD(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function ml(n,t,e){return function QD(n,t,e){return og(n,"value","once",e).pipe(_n(s=>{const a=[Xe(s)];return t.forEach(c=>a.push(og(n,c,"on",e))),(0,Lf.T)(...a).pipe(gt(XD,[]))}),function Mv(n,t=fi.y){return n=n??Rv,(0,Hn.e)((e,s)=>{let a,c=!0;e.subscribe((0,mn.x)(s,g=>{const v=t(g);(c||!n(a,v))&&(c=!1,a=v,s.next(g))}))})}())}(n,t=ry(t),e)}function iy(n,t,e){const s=(t=ry(t)).map(a=>og(n,a,"on",e));return(0,Lf.T)(...s)}function ag(n,t){return function(s,a){return YD(s,{stringCase:()=>n.child(s)[t](a),firebaseCase:()=>s[t](a),snapshotCase:()=>s.ref[t](a)})}}function ay(n){return function(e){return e?YD(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function tI(n,t){return function(){return og(n,"value","on",t)}}!function WD(n){n.INTERNAL.registerComponent(new uu.wA("database-compat",(t,{instanceIdentifier:e})=>{const s=t.getProvider("app-compat").getImmediate(),a=t.getProvider("database").getImmediate({identifier:e});return new xh(a,s)},"PUBLIC").setServiceProps({Reference:Ti,Query:ur,Database:xh,DataSnapshot:ca,enableLogging:BD,INTERNAL:Db,ServerValue:OC}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.7")}(rp.Z);const bb=new f.OlP("angularfire2.realtimeDatabaseURL"),Tb=new f.OlP("angularfire2.database.use-emulator");let ly=(()=>{class n{constructor(e,s,a,c,g,v,I,S,V,F,K,me,ke,dt,mt){this.schedulers=v;const Dn=I,ln=(0,yi.on)(e,g,s);S&&rw(ln,g,V,K,me,ke,F,dt),this.database=(0,yi.cc)(`${ln.name}.database.${a}`,"AngularFireDatabase",ln.name,()=>{const $r=g.runOutsideAngular(()=>ln.database(a||void 0));return Dn&&$r.useEmulator(...Dn),$r},[Dn])}list(e,s){const a=this.schedulers.ngZone.runOutsideAngular(()=>KD(this.database,e));let c=a;return s&&(c=s(a)),function lg(n,t){const e=t.schedulers.outsideAngular,s=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:ag(s,"update"),set:ag(s,"set"),push:a=>s.push(a),remove:ay(s),snapshotChanges:a=>ml(n,a,e).pipe(ti.iC),stateChanges:a=>iy(n,a,e).pipe(ti.iC),auditTrail:a=>function sy(n,t,e){return function eI(n,t,e){return function oy(n,t){return og(n,"value","on",t).pipe((0,Ye.U)(e=>{let s;return e.payload.forEach(a=>(s=a.key,!1)),{data:e,lastKeyToLoad:s}}))}(n,e).pipe(function Dm(...n){const t=(0,Cr.jO)(n);return(0,Hn.e)((e,s)=>{const a=n.length,c=new Array(a);let g=n.map(()=>!1),v=!1;for(let I=0;I<a;I++)(0,pi.Xf)(n[I]).subscribe((0,mn.x)(s,S=>{c[I]=S,!v&&!g[I]&&(g[I]=!0,(v=g.every(fi.y))&&(g=null))},Pv.Z));e.subscribe((0,mn.x)(s,I=>{if(v){const S=[I,...c];s.next(t?t(...S):S)}}))})}(t),(0,Ye.U)(([a,c])=>{const g=a.lastKeyToLoad,v=c.map(I=>I.key);return{actions:c,lastKeyToLoad:g,loadedKeys:v}}),function na(n){return(0,Hn.e)((t,e)=>{let s=!1,a=0;t.subscribe((0,mn.x)(e,c=>(s||(s=!n(c,a++)))&&e.next(c)))})}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,Ye.U)(a=>a.actions))}(n,iy(n,t).pipe(gt((a,c)=>[...a,c],[])),e)}(n,a,e).pipe(ti.iC),valueChanges:(a,c)=>ml(n,a,e).pipe((0,Ye.U)(v=>v.map(I=>c&&c.idField?Object.assign(Object.assign({},I.payload.val()),{[c.idField]:I.key}):I.payload.val())),ti.iC)}}(c,this)}object(e){return function Ib(n,t){return{query:n,snapshotChanges:()=>tI(n,t.schedulers.outsideAngular)().pipe(ti.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>tI(n,t.schedulers.outsideAngular)().pipe(ti.iC,(0,Ye.U)(s=>s.payload.exists()?s.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>KD(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(yi.Dh),f.LFG(yi.xv,8),f.LFG(bb,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(ti.HU),f.LFG(Tb,8),f.LFG(kc,8),f.LFG(tp,8),f.LFG(Tv,8),f.LFG(Av,8),f.LFG(Yd,8),f.LFG(np,8),f.LFG(Qd,8),f.LFG(Xf,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),nI=(()=>{class n{constructor(){av.Z.registerVersion("angularfire",ti.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[ly]}),n})(),xC=(()=>{class n{constructor(e){this.db=e}insert(e){this.db.list("usuarios").set(e.uid,{nome:e.nome,email:e.email})}insertContato(e){this.db.list("contatos").push(e)}getContatos(){return this.db.list("contatos").snapshotChanges().pipe((0,Ye.U)(e=>e.map(s=>({key:s.payload.key,...s.payload.val()}))))}removeContato(e){this.db.list("contatos").remove(e)}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(ly))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uy=(()=>{class n{constructor(e,s,a){this.auth=e,this.router=s,this.userService=a}login(e,s){this.auth.signInWithEmailAndPassword(e,s).then(a=>{this.router.navigate(["/dashboard"])}).catch(a=>{})}loginWithGoogle(){this.auth.signInWithPopup(new av.Z.auth.GoogleAuthProvider).then(e=>{this.router.navigate(["/dashboard"])}).catch(e=>{})}signup(e,s,a){this.auth.createUserWithEmailAndPassword(e,s).then(c=>{this.userService.insert({uid:c.user?.uid,nome:a,email:e}),this.router.navigate(["/dashboard"])}).catch(c=>{})}logout(){this.auth.signOut(),this.router.navigate(["/"])}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(kc),f.LFG(Wn),f.LFG(xC))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cy=(()=>{class n{constructor(e,s){this._renderer=e,this._elementRef=s,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,s){this._renderer.setProperty(this._elementRef.nativeElement,e,s)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n}),n})(),_l=(()=>{class n extends cy{}return n.\u0275fac=function(){let t;return function(s){return(t||(t=f.n5z(n)))(s||n)}}(),n.\u0275dir=f.lG2({type:n,features:[f.qOj]}),n})();const xs=new f.OlP("NgValueAccessor"),FC={provide:xs,useExisting:(0,f.Gpc)(()=>xu),multi:!0},Ab=new f.OlP("CompositionEventMode");let xu=(()=>{class n extends cy{constructor(e,s,a){super(e,s),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function dy(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Ab,8))},n.\u0275dir=f.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,s){1&e&&f.NdJ("input",function(c){return s._handleInput(c.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(c){return s._compositionEnd(c.target.value)})},features:[f._Bn([FC]),f.qOj]}),n})();const Hr=new f.OlP("NgValidators"),ku=new f.OlP("NgAsyncValidators");function aI(n){return function yl(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function fy(n){return null}function hI(n){return null!=n}function fI(n){return(0,f.QGY)(n)?(0,Xt.D)(n):n}function pI(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function gI(n,t){return t.map(e=>e(n))}function i(n){return n.map(t=>function r(n){return!n.validate}(t)?t:e=>t.validate(e))}function l(n){return null!=n?function o(n){if(!n)return null;const t=n.filter(hI);return 0==t.length?null:function(e){return pI(gI(e,t))}}(i(n)):null}function h(n){return null!=n?function u(n){if(!n)return null;const t=n.filter(hI);return 0==t.length?null:function(e){return function rI(...n){const t=(0,Cr.jO)(n),{args:e,keys:s}=xo(n),a=new Kn.y(c=>{const{length:g}=e;if(!g)return void c.complete();const v=new Array(g);let I=g,S=g;for(let V=0;V<g;V++){let F=!1;(0,pi.Xf)(e[V]).subscribe((0,mn.x)(c,K=>{F||(F=!0,S--),v[V]=K},()=>I--,void 0,()=>{(!I||!F)&&(S||c.next(s?Ys(s,v):v),c.complete())}))}});return t?a.pipe(Fo(t)):a}(gI(e,t).map(fI)).pipe((0,Ye.U)(pI))}}(i(n)):null}function _(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function b(n){return n?Array.isArray(n)?n:[n]:[]}function M(n,t){return Array.isArray(n)?n.includes(t):n===t}function O(n,t){const e=b(t);return b(n).forEach(a=>{M(e,a)||e.push(a)}),e}function $(n,t){return b(t).filter(e=>!M(n,e))}class J{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=l(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=h(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class ce extends J{get formDirective(){return null}get path(){return null}}class Ae extends J{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Le{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let De=(()=>{class n extends Le{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(f.Y36(Ae,2))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,s){2&e&&f.ekj("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[f.qOj]}),n})(),ct=(()=>{class n extends Le{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(f.Y36(ce,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,s){2&e&&f.ekj("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[f.qOj]}),n})();const gy="VALID",ZC="INVALID",ug="PENDING",my="DISABLED";function _I(n){return(qC(n)?n.validators:n)||null}function Rb(n){return Array.isArray(n)?l(n):n||null}function yI(n,t){return(qC(t)?t.asyncValidators:n)||null}function Pb(n){return Array.isArray(n)?h(n):n||null}function qC(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class xb{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Rb(this._rawValidators),this._composedAsyncValidatorFn=Pb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===gy}get invalid(){return this.status===ZC}get pending(){return this.status==ug}get disabled(){return this.status===my}get enabled(){return this.status!==my}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Rb(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Pb(t)}addValidators(t){this.setValidators(O(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(O(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators($(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators($(t,this._rawAsyncValidators))}hasValidator(t){return M(this._rawValidators,t)}hasAsyncValidator(t){return M(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ug,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=my,this.errors=null,this._forEachChild(s=>{s.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(s=>s(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=gy,this._forEachChild(s=>{s.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gy||this.status===ug)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?my:gy}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ug,this._hasOwnPendingAsyncValidator=!0;const e=fI(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((s,a)=>s&&s._find(a),this)}getError(t,e){const s=e?this.get(e):this;return s&&s.errors?s.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?my:this.errors?ZC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ug)?ug:this._anyControlsHaveStatus(ZC)?ZC:gy}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){qC(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class vI extends xb{constructor(t,e,s){super(_I(e),yI(s,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,s={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,s={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function Ob(n,t,e){n._forEachChild((s,a)=>{if(void 0===e[a])throw new f.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(s=>{(function Nb(n,t,e){const s=n.controls;if(!(t?Object.keys(s):s).length)throw new f.vHH(1e3,"");if(!s[e])throw new f.vHH(1001,"")})(this,!0,s),this.controls[s].setValue(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(s=>{const a=this.controls[s];a&&a.patchValue(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((s,a)=>{s.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,s)=>(t[s]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,s)=>!!s._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const s=this.controls[e];s&&t(s,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,s]of Object.entries(this.controls))if(this.contains(e)&&t(s))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,s,a)=>((s.enabled||this.disabled)&&(e[a]=s.value),e))}_reduceChildren(t,e){let s=t;return this._forEachChild((a,c)=>{s=e(s,a,c)}),s}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function _y(n,t){EI(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function IT(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&kb(n,t)})}(n,t),function TT(n,t){const e=(s,a)=>{t.valueAccessor.writeValue(s),a&&t.viewToModelUpdate(s)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function bT(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&kb(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function DT(n,t){if(t.valueAccessor.setDisabledState){const e=s=>{t.valueAccessor.setDisabledState(s)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function QC(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function EI(n,t){const e=function E(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(_(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const s=function C(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(_(s,t.asyncValidator)):"function"==typeof s&&n.setAsyncValidators([s]);const a=()=>n.updateValueAndValidity();QC(t._rawValidators,a),QC(t._rawAsyncValidators,a)}function kb(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const PT={provide:ce,useExisting:(0,f.Gpc)(()=>cg)},yy=(()=>Promise.resolve())();let cg=(()=>{class n extends ce{constructor(e,s){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new f.vpe,this.form=new vI({},l(e),h(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){yy.then(()=>{const s=this._findContainer(e.path);e.control=s.registerControl(e.name,e.control),_y(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){yy.then(()=>{const s=this._findContainer(e.path);s&&s.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){yy.then(()=>{const s=this._findContainer(e.path),a=new vI({});(function Fb(n,t){EI(n,t)})(a,e),s.registerControl(e.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){yy.then(()=>{const s=this._findContainer(e.path);s&&s.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,s){yy.then(()=>{this.form.get(e.path).setValue(s)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function Vb(n,t){n._syncPendingControls(),t.forEach(e=>{const s=e.control;"submit"===s.updateOn&&s._pendingChange&&(e.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(f.Y36(Hr,10),f.Y36(ku,10))},n.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,s){1&e&&f.NdJ("submit",function(c){return s.onSubmit(c)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([PT]),f.qOj]}),n})();function Ub(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Bb(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const jb=class extends xb{constructor(t=null,e,s){super(_I(e),yI(s,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qC(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Bb(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ub(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ub(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Bb(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},xT={provide:Ae,useExisting:(0,f.Gpc)(()=>vy)},Wb=(()=>Promise.resolve())();let vy=(()=>{class n extends Ae{constructor(e,s,a,c,g){super(),this._changeDetectorRef=g,this.control=new jb,this._registered=!1,this.update=new f.vpe,this._parent=e,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=function wI(n,t){if(!t)return null;let e,s,a;return Array.isArray(t),t.forEach(c=>{c.constructor===xu?e=c:function MT(n){return Object.getPrototypeOf(n.constructor)===_l}(c)?s=c:a=c}),a||s||e||null}(0,c)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const s=e.name.previousValue;this.formDirective.removeControl({name:s,path:this._getPath(s)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function CI(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){_y(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Wb.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const s=e.isDisabled.currentValue,a=0!==s&&(0,f.D6c)(s);Wb.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function KC(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(f.Y36(ce,9),f.Y36(Hr,10),f.Y36(ku,10),f.Y36(xs,10),f.Y36(f.sBO,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([xT]),f.qOj,f.TTD]}),n})(),XC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),zb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})(),Lh=(()=>{class n{constructor(){this._validator=fy}ngOnChanges(e){if(this.inputName in e){const s=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(s),this._validator=this._enabled?this.createValidator(s):fy,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=f.lG2({type:n,features:[f.TTD]}),n})();const JT={provide:Hr,useExisting:(0,f.Gpc)(()=>dg),multi:!0};let dg=(()=>{class n extends Lh{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=f.D6c,this.createValidator=e=>aI}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(s){return(t||(t=f.n5z(n)))(s||n)}}(),n.\u0275dir=f.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,s){2&e&&f.uIk("required",s._enabled?"":null)},inputs:{required:"required"},features:[f._Bn([JT]),f.qOj]}),n})(),iA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[zb]}),n})(),sA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[iA]}),n})();function aA(n,t){if(1&n){const e=f.EpF();f.TgZ(0,"tr")(1,"td"),f._uU(2),f.qZA(),f.TgZ(3,"td"),f._uU(4),f.qZA(),f.TgZ(5,"td"),f._uU(6),f.qZA(),f.TgZ(7,"td")(8,"div",17)(9,"button",18),f._uU(10,"Editar"),f.qZA(),f.TgZ(11,"button",19),f.NdJ("click",function(){const c=f.CHM(e).$implicit,g=f.oxw();return f.KtG(g.remove(c.key))}),f._uU(12,"Remover"),f.qZA()()()()}if(2&n){const e=t.$implicit;f.xp6(2),f.Oqu(e.nome),f.xp6(2),f.Oqu(e.telefone),f.xp6(2),f.Oqu(e.email)}}let lA=(()=>{class n{constructor(e,s){this.auth=e,this.contatoService=s,this.contato=new ov,this.contatos=new Kn.y}ngOnInit(){this.contatos=this.contatoService.getContatos()}onSubmit(){this.contatoService.insertContato(this.contato)}remove(e){this.contatoService.removeContato(e)}logout(){this.auth.logout()}}return n.\u0275fac=function(e){return new(e||n)(f.Y36(uy),f.Y36(xC))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-dashboard"]],decls:37,vars:6,consts:[[1,"navbar","navbar-dark","navbar-expand-lg","bg-dark"],[1,"container-fluid","d-flex"],[1,"btn","btn-primary",3,"click"],[1,"container","mt-5"],[3,"ngSubmit"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["for","nome"],["type","text","id","nome","name","nome","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","telefone"],["type","telefone","id","telefone","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary","mt-2"],[1,"table"],[4,"ngFor","ngForOf"],[1,"btn-group"],[1,"btn","btn-primary"],[1,"btn","btn-danger",3,"click"]],template:function(e,s){1&e&&(f.TgZ(0,"nav",0)(1,"div",1)(2,"button",2),f.NdJ("click",function(){return s.logout()}),f._uU(3,"Logout"),f.qZA()()(),f.TgZ(4,"div",3)(5,"form",4),f.NdJ("ngSubmit",function(){return s.onSubmit()}),f.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),f._uU(10,"Nome"),f.qZA(),f.TgZ(11,"input",9),f.NdJ("ngModelChange",function(c){return s.contato.nome=c}),f.qZA()()(),f.TgZ(12,"div",6)(13,"div",7)(14,"label",10),f._uU(15,"Telefone"),f.qZA(),f.TgZ(16,"input",11),f.NdJ("ngModelChange",function(c){return s.contato.telefone=c}),f.qZA()()()(),f.TgZ(17,"div",7)(18,"label",12),f._uU(19,"Email"),f.qZA(),f.TgZ(20,"input",13),f.NdJ("ngModelChange",function(c){return s.contato.email=c}),f.qZA()(),f.TgZ(21,"button",14),f._uU(22,"Salvar"),f.qZA()(),f.TgZ(23,"table",15)(24,"thead")(25,"tr")(26,"th"),f._uU(27,"Nome"),f.qZA(),f.TgZ(28,"th"),f._uU(29,"Telefone"),f.qZA(),f.TgZ(30,"th"),f._uU(31,"Email"),f.qZA(),f.TgZ(32,"th"),f._uU(33,"Op\xe7\xf5es"),f.qZA()()(),f.TgZ(34,"tbody"),f.YNc(35,aA,13,3,"tr",16),f.ALo(36,"async"),f.qZA()()()),2&e&&(f.xp6(11),f.Q6J("ngModel",s.contato.nome),f.xp6(5),f.Q6J("ngModel",s.contato.telefone),f.xp6(4),f.Q6J("ngModel",s.contato.email),f.xp6(15),f.Q6J("ngForOf",f.lcZ(36,4,s.contatos)))},dependencies:[is,XC,xu,De,ct,dg,vy,cg,bl]}),n})(),uA=(()=>{class n{constructor(e){this.auth=e,this.email="",this.senha=""}ngOnInit(){}login(){this.auth.login(this.email,this.senha)}loginWithGoogle(){this.auth.loginWithGoogle()}}return n.\u0275fac=function(e){return new(e||n)(f.Y36(uy))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-login"]],decls:41,vars:2,consts:[[1,"container"],[1,"section","register","min-vh-100","d-flex","flex-column","align-items-center","justify-content-center","py-4"],[1,"row","justify-content-center"],[1,"col-lg-4","col-md-6","d-flex","flex-column","align-items-center","justify-content-center"],[1,"card","mb-3"],[1,"card-body"],[1,"pt-4","pb-2"],[1,"card-title","text-center","pb-0","fs-4"],[1,"text-center","small"],[1,"row","g-3"],[1,"col-12"],["for","email",1,"form-label"],[1,"input-group","has-validation"],[1,"input-group-text"],["type","text","id","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","senha",1,"form-label"],["type","password","id","senha","name","senha","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary","w-100",3,"click"],[1,"row","justify-content-md-center"],[1,"col","col-lg-3"],[1,"btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","48","height","48","viewBox","0 0 48 48",2,"fill","#FFFFFF"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"],[1,"small","mb-0"],["href","/registro"]],template:function(e,s){1&e&&(f.TgZ(0,"div",0)(1,"section",1)(2,"div",0)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"h5",7),f._uU(9,"Entre Com Sua Conta"),f.qZA(),f.TgZ(10,"p",8),f._uU(11,"Insira seu email e senha para logar"),f.qZA()(),f.TgZ(12,"form",9)(13,"div",10)(14,"label",11),f._uU(15,"Email"),f.qZA(),f.TgZ(16,"div",12)(17,"span",13),f._uU(18,"@"),f.qZA(),f.TgZ(19,"input",14),f.NdJ("ngModelChange",function(c){return s.email=c}),f.qZA()()(),f.TgZ(20,"div",10)(21,"label",15),f._uU(22,"Senha"),f.qZA(),f.TgZ(23,"input",16),f.NdJ("ngModelChange",function(c){return s.senha=c}),f.qZA()(),f.TgZ(24,"div",10)(25,"button",17),f.NdJ("click",function(){return s.login()}),f._uU(26,"Login"),f.qZA()(),f.TgZ(27,"div",0)(28,"div",18)(29,"div",19)(30,"button",20),f.NdJ("click",function(){return s.loginWithGoogle()}),f.O4$(),f.TgZ(31,"svg",21),f._UZ(32,"path",22)(33,"path",23)(34,"path",24)(35,"path",25),f.qZA()()()()(),f.kcU(),f.TgZ(36,"div",10)(37,"p",26),f._uU(38,"N\xe3o Possui uma conta? "),f.TgZ(39,"a",27),f._uU(40,"Criar uma conta"),f.qZA()()()()()()()()()()()),2&e&&(f.xp6(19),f.Q6J("ngModel",s.email),f.xp6(4),f.Q6J("ngModel",s.senha))},dependencies:[XC,xu,De,ct,dg,vy,cg],styles:['@import"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css";']}),n})(),cA=(()=>{class n{constructor(e){this.auth=e,this.nome="",this.email="",this.senha=""}ngOnInit(){}register(){this.auth.signup(this.email,this.senha,this.nome)}}return n.\u0275fac=function(e){return new(e||n)(f.Y36(uy))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-register"]],decls:35,vars:3,consts:[[1,"container"],[1,"section","register","min-vh-100","d-flex","flex-column","align-items-center","justify-content-center","py-4"],[1,"row","justify-content-center"],[1,"col-lg-4","col-md-6","d-flex","flex-column","align-items-center","justify-content-center"],[1,"card","mb-3"],[1,"card-body"],[1,"pt-4","pb-2"],[1,"card-title","text-center","pb-0","fs-4"],[1,"text-center","small"],[1,"row","g-3","needs-validation"],[1,"col-12"],["for","yourName",1,"form-label"],["type","text","name","name","id","yourName","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"invalid-feedback"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","senha",1,"form-label"],["type","password","name","senha","id","senha","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary","w-100",3,"click"],[1,"small","mb-0"],["href","/login"]],template:function(e,s){1&e&&(f.TgZ(0,"div",0)(1,"section",1)(2,"div",0)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"h5",7),f._uU(9,"Criar uma conta"),f.qZA(),f.TgZ(10,"p",8),f._uU(11,"Insira seus dados para cria uma conta"),f.qZA()(),f.TgZ(12,"form",9)(13,"div",10)(14,"label",11),f._uU(15,"Seu nome"),f.qZA(),f.TgZ(16,"input",12),f.NdJ("ngModelChange",function(c){return s.nome=c}),f.qZA(),f.TgZ(17,"div",13),f._uU(18,"Please, enter your name!"),f.qZA()(),f.TgZ(19,"div",10)(20,"label",14),f._uU(21,"Seu Email"),f.qZA(),f.TgZ(22,"input",15),f.NdJ("ngModelChange",function(c){return s.email=c}),f.qZA()(),f.TgZ(23,"div",10)(24,"label",16),f._uU(25,"Senha"),f.qZA(),f.TgZ(26,"input",17),f.NdJ("ngModelChange",function(c){return s.senha=c}),f.qZA()(),f.TgZ(27,"div",10)(28,"button",18),f.NdJ("click",function(){return s.register()}),f._uU(29,"Criar Conta"),f.qZA()(),f.TgZ(30,"div",10)(31,"p",19),f._uU(32,"J\xe1 possui uma conta? "),f.TgZ(33,"a",20),f._uU(34,"Entrar"),f.qZA()()()()()()()()()()()),2&e&&(f.xp6(16),f.Q6J("ngModel",s.nome),f.xp6(6),f.Q6J("ngModel",s.email),f.xp6(4),f.Q6J("ngModel",s.senha))},dependencies:[XC,xu,De,ct,dg,vy,cg]}),n})();const SI=(0,Ye.U)(n=>!!n);let dA=(()=>{class n{constructor(e,s){this.router=e,this.auth=s,this.canActivate=(a,c)=>{const g=a.data.authGuardPipe||(()=>SI);return this.auth.user.pipe(zt(1),g(a,c),(0,Ye.U)(v=>"boolean"==typeof v?v:Array.isArray(v)?this.router.createUrlTree(v):this.router.parseUrl(v)))}}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(Wn),f.LFG(kc))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const cT=n=>({canActivate:[dA],data:{authGuardPipe:n}}),_A=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:uA,...cT(()=>{return n=["dashboard"],(0,Vo.z)(SI,(0,Ye.U)(t=>t&&n||!0));var n})},{path:"registro",component:cA},{path:"dashboard",component:lA,...cT(()=>{return n=["login"],(0,Vo.z)(SI,(0,Ye.U)(t=>t||n));var n})}];let yA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[rv.forRoot(_A),rv]}),n})(),vA=(()=>{class n{constructor(){this.title="firebase-angular-auth"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,s){1&e&&f._UZ(0,"router-outlet")},dependencies:[qo]}),n})();const dT_firebase={projectId:"firebase-angular-auth",appId:"1:646693887683:web:a1a7f72aa691527eb04c76",storageBucket:"firebase-angular-auth.appspot.com",apiKey:"AIzaSyAv33-IPNm7bKQKkGxAVWpIhFY5y9hA7iE",authDomain:"fir-angular-auth-f48f0.firebaseapp.com",messagingSenderId:"646693887683"};let EA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[os,Ba,os,sA]}),n})(),CA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[EA]}),n})(),wA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=f.oAB({type:n,bootstrap:[vA]}),n.\u0275inj=f.cJS({imports:[Ba,yA,nI,CA,yi.hO.initializeApp(dT_firebase)]}),n})();(0,f.G48)(),Ua().bootstrapModule(wA).catch(n=>console.error(n))},5867:(Ze,ye,N)=>{"use strict";N.d(ye,{C6:()=>f.getApps,Mq:()=>f.getApp});var f=N(9681);(0,f.registerVersion)("firebase","9.11.0","app")},127:(Ze,ye,N)=>{"use strict";N.d(ye,{Z:()=>f.Z});var f=N(3942);f.Z.registerVersion("firebase","9.11.0","app-compat")},3704:(Ze,ye,N)=>{"use strict";N.r(ye);var f=N(5861),Q=N(3942),P=N(2090),ie=N(9681),ne=N(1877),ae=N(655),oe=N(4859);const _e=function Ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},We=function Te(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fe=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),je=new ne.Yd("@firebase/auth");function qe(m,...d){je.logLevel<=ne.in.ERROR&&je.error(`Auth (${ie.SDK_VERSION}): ${m}`,...d)}function be(m,...d){throw Fe(m,...d)}function pe(m,...d){return Fe(m,...d)}function Ee(m,d,p){const y=Object.assign(Object.assign({},We()),{[d]:p});return new P.LL("auth","Firebase",y).create(d,{appName:m.name})}function xe(m,d,p){if(!(d instanceof p))throw p.name!==d.constructor.name&&be(m,"argument-error"),Ee(m,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fe(m,...d){if("string"!=typeof m){const p=d[0],y=[...d.slice(1)];return y[0]&&(y[0].appName=m.name),m._errorFactory.create(p,...y)}return fe.create(m,...d)}function B(m,d,...p){if(!m)throw Fe(d,...p)}function he(m){const d="INTERNAL ASSERTION FAILED: "+m;throw qe(d),new Error(d)}function G(m,d){m||he(d)}const Y=new Map;function re(m){G(m instanceof Function,"Expected a class definition");let d=Y.get(m);return d?(G(d instanceof m,"Instance stored in cache mismatched with class"),d):(d=new m,Y.set(m,d),d)}function Me(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function nt(){return"http:"===Rt()||"https:"===Rt()}function Rt(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Pt{constructor(d,p){this.shortDelay=d,this.longDelay=p,G(p>d,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function wt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(nt()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rn(m,d){G(m.emulator,"Emulator should always be set here");const{url:p}=m.emulator;return d?`${p}${d.startsWith("/")?d.slice(1):d}`:p}class Nt{static initialize(d,p,y){this.fetchImpl=d,p&&(this.headersImpl=p),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void he("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void he("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void he("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ot={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Vn=new Pt(3e4,6e4);function _t(m,d){return m.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:m.tenantId}):d}function xt(m,d,p,y){return fo.apply(this,arguments)}function fo(){return(fo=(0,f.Z)(function*(m,d,p,y,T={}){return Pr(m,T,(0,f.Z)(function*(){let R={},W={};y&&("GET"===d?W=y:R={body:JSON.stringify(y)});const se=(0,P.xO)(Object.assign({key:m.config.apiKey},W)).slice(1),Oe=yield m._getAdditionalHeaders();return Oe["Content-Type"]="application/json",m.languageCode&&(Oe["X-Firebase-Locale"]=m.languageCode),Nt.fetch()(Nr(m,m.config.apiHost,p,se),Object.assign({method:d,headers:Oe,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Pr(m,d,p){return zn.apply(this,arguments)}function zn(){return(zn=(0,f.Z)(function*(m,d,p){m._canInitEmulator=!1;const y=Object.assign(Object.assign({},Ot),d);try{const T=new cr(m),R=yield Promise.race([p(),T.promise]);T.clearNetworkTimeout();const W=yield R.json();if("needConfirmation"in W)throw mr(m,"account-exists-with-different-credential",W);if(R.ok&&!("errorMessage"in W))return W;{const se=R.ok?W.errorMessage:W.error.message,[Oe,Be]=se.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Oe)throw mr(m,"credential-already-in-use",W);if("EMAIL_EXISTS"===Oe)throw mr(m,"email-already-in-use",W);if("USER_DISABLED"===Oe)throw mr(m,"user-disabled",W);const st=y[Oe]||Oe.toLowerCase().replace(/[_\s]+/g,"-");if(Be)throw Ee(m,st,Be);be(m,st)}}catch(T){if(T instanceof P.ZR)throw T;be(m,"network-request-failed")}})).apply(this,arguments)}function Qn(m,d,p,y){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,f.Z)(function*(m,d,p,y,T={}){const R=yield xt(m,d,p,y,T);return"mfaPendingCredential"in R&&be(m,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Nr(m,d,p,y){const T=`${d}${p}?${y}`;return m.config.emulator?rn(m.config,T):`${m.config.apiScheme}://${T}`}class cr{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((p,y)=>{this.timer=setTimeout(()=>y(pe(this.auth,"network-request-failed")),Vn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mr(m,d,p){const y={appName:m.name};p.email&&(y.email=p.email),p.phoneNumber&&(y.phoneNumber=p.phoneNumber);const T=pe(m,d,y);return T.customData._tokenResponse=p,T}function Ue(){return(Ue=(0,f.Z)(function*(m,d){return xt(m,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function dr(m,d){return ni.apply(this,arguments)}function ni(){return(ni=(0,f.Z)(function*(m,d){return xt(m,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function An(m,d){return _r.apply(this,arguments)}function _r(){return(_r=(0,f.Z)(function*(m,d){return xt(m,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Wr(m){if(m)try{const d=new Date(Number(m));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function qt(){return(qt=(0,f.Z)(function*(m,d=!1){const p=(0,P.m9)(m),y=yield p.getIdToken(d),T=ze(y);B(T&&T.exp&&T.auth_time&&T.iat,p.auth,"internal-error");const R="object"==typeof T.firebase?T.firebase:void 0,W=R?.sign_in_provider;return{claims:T,token:y,authTime:Wr(rt(T.auth_time)),issuedAtTime:Wr(rt(T.iat)),expirationTime:Wr(rt(T.exp)),signInProvider:W||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function rt(m){return 1e3*Number(m)}function ze(m){var d;const[p,y,T]=m.split(".");if(void 0===p||void 0===y||void 0===T)return qe("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,P.tV)(y);return R?JSON.parse(R):(qe("Failed to decode base64 JWT payload"),null)}catch(R){return qe("Caught error parsing JWT payload as JSON",null===(d=R)||void 0===d?void 0:d.toString()),null}}function pn(m,d){return Un.apply(this,arguments)}function Un(){return(Un=(0,f.Z)(function*(m,d,p=!1){if(p)return d;try{return yield d}catch(y){throw y instanceof P.ZR&&Jn(y)&&m.auth.currentUser===m&&(yield m.auth.signOut()),y}})).apply(this,arguments)}function Jn({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}class ht{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var p;if(d){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const T=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(d=!1){var p=this;if(!this.isRunning)return;const y=this.getInterval(d);this.timerId=setTimeout((0,f.Z)(function*(){yield p.iteration()}),y)}iteration(){var d=this;return(0,f.Z)(function*(){var p;try{yield d.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===(null===(p=y)||void 0===p?void 0:p.code)&&d.schedule(!0))}d.schedule()})()}}class ri{constructor(d,p){this.createdAt=d,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wr(this.lastLoginAt),this.creationTime=Wr(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function kt(m){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,f.Z)(function*(m){var d;const p=m.auth,y=yield m.getIdToken(),T=yield pn(m,An(p,{idToken:y}));B(T?.users.length,p,"internal-error");const R=T.users[0];m._notifyReloadListener(R);const W=null!==(d=R.providerUserInfo)&&void 0!==d&&d.length?He(R.providerUserInfo):[],se=Xn(m.providerData,W),st=!!m.isAnonymous&&!(m.email&&R.passwordHash||se?.length),tt={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:se,metadata:new ri(R.createdAt,R.lastLoginAt),isAnonymous:st};Object.assign(m,tt)})).apply(this,arguments)}function Sn(){return(Sn=(0,f.Z)(function*(m){const d=(0,P.m9)(m);yield kt(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Xn(m,d){return[...m.filter(y=>!d.some(T=>T.providerId===y.providerId)),...d]}function He(m){return m.map(d=>{var{providerId:p}=d,y=(0,ae._T)(d,["providerId"]);return{providerId:p,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}function $e(){return($e=(0,f.Z)(function*(m,d){const p=yield Pr(m,{},(0,f.Z)(function*(){const y=(0,P.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:T,apiKey:R}=m.config,W=Nr(m,T,"/v1/token",`key=${R}`),se=yield m._getAdditionalHeaders();return se["Content-Type"]="application/x-www-form-urlencoded",Nt.fetch()(W,{method:"POST",headers:se,body:y})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class ot{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){B(d.idToken,"internal-error"),B(typeof d.idToken<"u","internal-error"),B(typeof d.refreshToken<"u","internal-error");const p="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function Ht(m){const d=ze(m);return B(d,"internal-error"),B(typeof d.exp<"u","internal-error"),B(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,p)}getToken(d,p=!1){var y=this;return(0,f.Z)(function*(){return B(!y.accessToken||y.refreshToken,d,"user-token-expired"),p||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(d,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,p){var y=this;return(0,f.Z)(function*(){const{accessToken:T,refreshToken:R,expiresIn:W}=yield function Ce(m,d){return $e.apply(this,arguments)}(d,p);y.updateTokensAndExpiration(T,R,Number(W))})()}updateTokensAndExpiration(d,p,y){this.refreshToken=p||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(d,p){const{refreshToken:y,accessToken:T,expirationTime:R}=p,W=new ot;return y&&(B("string"==typeof y,"internal-error",{appName:d}),W.refreshToken=y),T&&(B("string"==typeof T,"internal-error",{appName:d}),W.accessToken=T),R&&(B("number"==typeof R,"internal-error",{appName:d}),W.expirationTime=R),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new ot,this.toJSON())}_performRefresh(){return he("not implemented")}}function at(m,d){B("string"==typeof m||typeof m>"u","internal-error",{appName:d})}class L{constructor(d){var{uid:p,auth:y,stsTokenManager:T}=d,R=(0,ae._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ht(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=y,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new ri(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(d){var p=this;return(0,f.Z)(function*(){const y=yield pn(p,p.stsTokenManager.getToken(p.auth,d));return B(y,p.auth,"internal-error"),p.accessToken!==y&&(p.accessToken=y,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),y})()}getIdTokenResult(d){return function In(m){return qt.apply(this,arguments)}(this,d)}reload(){return function Ft(m){return Sn.apply(this,arguments)}(this)}_assign(d){this!==d&&(B(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(p=>Object.assign({},p)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new L(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){B(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,p=!1){var y=this;return(0,f.Z)(function*(){let T=!1;d.idToken&&d.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(d),T=!0),p&&(yield kt(y)),yield y.auth._persistUserIfCurrent(y),T&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var d=this;return(0,f.Z)(function*(){const p=yield d.getIdToken();return yield pn(d,function es(m,d){return Ue.apply(this,arguments)}(d.auth,{idToken:p})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,p){var y,T,R,W,se,Oe,Be,st;const tt=null!==(y=p.displayName)&&void 0!==y?y:void 0,Bt=null!==(T=p.email)&&void 0!==T?T:void 0,br=null!==(R=p.phoneNumber)&&void 0!==R?R:void 0,Ko=null!==(W=p.photoURL)&&void 0!==W?W:void 0,Ag=null!==(se=p.tenantId)&&void 0!==se?se:void 0,su=null!==(Oe=p._redirectEventId)&&void 0!==Oe?Oe:void 0,Ef=null!==(Be=p.createdAt)&&void 0!==Be?Be:void 0,wc=null!==(st=p.lastLoginAt)&&void 0!==st?st:void 0,{uid:Cf,emailVerified:Sg,isAnonymous:Ja,providerData:Yo,stsTokenManager:Ld}=p;B(Cf&&Ld,d,"internal-error");const Vd=ot.fromJSON(this.name,Ld);B("string"==typeof Cf,d,"internal-error"),at(tt,d.name),at(Bt,d.name),B("boolean"==typeof Sg,d,"internal-error"),B("boolean"==typeof Ja,d,"internal-error"),at(br,d.name),at(Ko,d.name),at(Ag,d.name),at(su,d.name),at(Ef,d.name),at(wc,d.name);const io=new L({uid:Cf,auth:d,email:Bt,emailVerified:Sg,displayName:tt,isAnonymous:Ja,photoURL:Ko,phoneNumber:br,tenantId:Ag,stsTokenManager:Vd,createdAt:Ef,lastLoginAt:wc});return Yo&&Array.isArray(Yo)&&(io.providerData=Yo.map(Xa=>Object.assign({},Xa))),su&&(io._redirectEventId=su),io}static _fromIdTokenResponse(d,p,y=!1){return(0,f.Z)(function*(){const T=new ot;T.updateFromServerResponse(p);const R=new L({uid:p.localId,auth:d,stsTokenManager:T,isAnonymous:y});return yield kt(R),R})()}}const z=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(p,y){var T=this;return(0,f.Z)(function*(){T.storage[p]=y})()}_get(p){var y=this;return(0,f.Z)(function*(){const T=y.storage[p];return void 0===T?null:T})()}_remove(p){var y=this;return(0,f.Z)(function*(){delete y.storage[p]})()}_addListener(p,y){}_removeListener(p,y){}}return m.type="NONE",m})();function ge(m,d,p){return`firebase:${m}:${d}:${p}`}class ee{constructor(d,p,y){this.persistence=d,this.auth=p,this.userKey=y;const{config:T,name:R}=this.auth;this.fullUserKey=ge(this.userKey,T.apiKey,R),this.fullPersistenceKey=ge("persistence",T.apiKey,R),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,f.Z)(function*(){const p=yield d.persistence._get(d.fullUserKey);return p?L._fromJSON(d.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var p=this;return(0,f.Z)(function*(){if(p.persistence===d)return;const y=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=d,y?p.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,p,y="authUser"){return(0,f.Z)(function*(){if(!p.length)return new ee(re(z),d,y);const T=(yield Promise.all(p.map(function(){var Be=(0,f.Z)(function*(st){if(yield st._isAvailable())return st});return function(st){return Be.apply(this,arguments)}}()))).filter(Be=>Be);let R=T[0]||re(z);const W=ge(y,d.config.apiKey,d.name);let se=null;for(const Be of p)try{const st=yield Be._get(W);if(st){const tt=L._fromJSON(d,st);Be!==R&&(se=tt),R=Be;break}}catch{}const Oe=T.filter(Be=>Be._shouldAllowMigration);return R._shouldAllowMigration&&Oe.length?(R=Oe[0],se&&(yield R._set(W,se.toJSON())),yield Promise.all(p.map(function(){var Be=(0,f.Z)(function*(st){if(st!==R)try{yield st._remove(W)}catch{}});return function(st){return Be.apply(this,arguments)}}())),new ee(R,d,y)):new ee(R,d,y)})()}}function Pe(m){const d=m.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Vt(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Je(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(Ie(d))return"Blackberry";if(Ke(d))return"Webos";if(Ct(d))return"Safari";if((d.includes("chrome/")||sn(d))&&!d.includes("edge/"))return"Chrome";if(Ut(d))return"Android";{const y=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===y?.length)return y[1]}return"Other"}function Je(m=(0,P.z$)()){return/firefox\//i.test(m)}function Ct(m=(0,P.z$)()){const d=m.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function sn(m=(0,P.z$)()){return/crios\//i.test(m)}function Vt(m=(0,P.z$)()){return/iemobile/i.test(m)}function Ut(m=(0,P.z$)()){return/android/i.test(m)}function Ie(m=(0,P.z$)()){return/blackberry/i.test(m)}function Ke(m=(0,P.z$)()){return/webos/i.test(m)}function St(m=(0,P.z$)()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function ts(m=(0,P.z$)()){return St(m)||Ut(m)||Ke(m)||Ie(m)||/windows phone/i.test(m)||Vt(m)}function Si(m,d=[]){let p;switch(m){case"Browser":p=Pe((0,P.z$)());break;case"Worker":p=`${Pe((0,P.z$)())}-${m}`;break;default:p=m}const y=d.length?d.join(","):"FirebaseCore-web";return`${p}/JsCore/${ie.SDK_VERSION}/${y}`}class ks{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,p){const y=R=>new Promise((W,se)=>{try{W(d(R))}catch(Oe){se(Oe)}});y.onAbort=p,this.queue.push(y);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(d){var p=this;return(0,f.Z)(function*(){var y;if(p.auth.currentUser===d)return;const T=[];try{for(const R of p.queue)yield R(d),R.onAbort&&T.push(R.onAbort)}catch(R){T.reverse();for(const W of T)try{W()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null===(y=R)||void 0===y?void 0:y.message})}})()}}class yt{constructor(d,p,y){this.app=d,this.heartbeatServiceProvider=p,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ns(this),this.idTokenSubscription=new ns(this),this.beforeStateQueue=new ks(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(d,p){var y=this;return p&&(this._popupRedirectResolver=re(p)),this._initializationPromise=this.queue((0,f.Z)(function*(){var T,R;if(!y._deleted&&(y.persistenceManager=yield ee.create(y,d),!y._deleted)){if(null!==(T=y._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch{}yield y.initializeCurrentUser(p),y.lastNotifiedUid=(null===(R=y.currentUser)||void 0===R?void 0:R.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,f.Z)(function*(){if(d._deleted)return;const p=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||p){if(d.currentUser&&p&&d.currentUser.uid===p.uid)return d._currentUser._assign(p),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(p,!0)}})()}initializeCurrentUser(d){var p=this;return(0,f.Z)(function*(){var y;const T=yield p.assertedPersistence.getCurrentUser();let R=T,W=!1;if(d&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const se=null===(y=p.redirectUser)||void 0===y?void 0:y._redirectEventId,Oe=R?._redirectEventId,Be=yield p.tryRedirectSignIn(d);(!se||se===Oe)&&Be?.user&&(R=Be.user,W=!0)}if(!R)return p.directlySetCurrentUser(null);if(!R._redirectEventId){if(W)try{yield p.beforeStateQueue.runMiddleware(R)}catch(se){R=T,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(se))}return R?p.reloadAndSetCurrentUserOrClear(R):p.directlySetCurrentUser(null)}return B(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===R._redirectEventId?p.directlySetCurrentUser(R):p.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(d){var p=this;return(0,f.Z)(function*(){let y=null;try{y=yield p._popupRedirectResolver._completeRedirectFn(p,d,!0)}catch{yield p._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(d){var p=this;return(0,f.Z)(function*(){var y;try{yield kt(d)}catch(T){if("auth/network-request-failed"!==(null===(y=T)||void 0===y?void 0:y.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Ve(){if(typeof navigator>"u")return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var d=this;return(0,f.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var p=this;return(0,f.Z)(function*(){const y=d?(0,P.m9)(d):null;return y&&B(y.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(y&&y._clone(p))})()}_updateCurrentUser(d,p=!1){var y=this;return(0,f.Z)(function*(){if(!y._deleted)return d&&B(y.tenantId===d.tenantId,y,"tenant-id-mismatch"),p||(yield y.beforeStateQueue.runMiddleware(d)),y.queue((0,f.Z)(function*(){yield y.directlySetCurrentUser(d),y.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,f.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var p=this;return this.queue((0,f.Z)(function*(){yield p.assertedPersistence.setPersistence(re(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new P.LL("auth","Firebase",d())}onAuthStateChanged(d,p,y){return this.registerStateListener(this.authStateSubscription,d,p,y)}beforeAuthStateChanged(d,p){return this.beforeStateQueue.pushCallback(d,p)}onIdTokenChanged(d,p,y){return this.registerStateListener(this.idTokenSubscription,d,p,y)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,p){var y=this;return(0,f.Z)(function*(){const T=yield y.getOrInitRedirectPersistenceManager(p);return null===d?T.removeCurrentUser():T.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var p=this;return(0,f.Z)(function*(){if(!p.redirectPersistenceManager){const y=d&&re(d)||p._popupRedirectResolver;B(y,p,"argument-error"),p.redirectPersistenceManager=yield ee.create(p,[re(y._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(d){var p=this;return(0,f.Z)(function*(){var y,T;return p._isInitialized&&(yield p.queue((0,f.Z)(function*(){}))),(null===(y=p._currentUser)||void 0===y?void 0:y._redirectEventId)===d?p._currentUser:(null===(T=p.redirectUser)||void 0===T?void 0:T._redirectEventId)===d?p.redirectUser:null})()}_persistUserIfCurrent(d){var p=this;return(0,f.Z)(function*(){if(d===p.currentUser)return p.queue((0,f.Z)(function*(){return p.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(p=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,p,y,T){if(this._deleted)return()=>{};const R="function"==typeof p?p:p.next.bind(p),W=this._isInitialized?Promise.resolve():this._initializationPromise;return B(W,this,"internal-error"),W.then(()=>R(this.currentUser)),"function"==typeof p?d.addObserver(p,y,T):d.addObserver(p)}directlySetCurrentUser(d){var p=this;return(0,f.Z)(function*(){p.currentUser&&p.currentUser!==d&&p._currentUser._stopProactiveRefresh(),d&&p.isProactiveRefreshEnabled&&d._startProactiveRefresh(),p.currentUser=d,d?yield p.assertedPersistence.setCurrentUser(d):yield p.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return B(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Si(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,f.Z)(function*(){var p;const y={"X-Client-Version":d.clientVersion};d.app.options.appId&&(y["X-Firebase-gmpid"]=d.app.options.appId);const T=yield null===(p=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return T&&(y["X-Firebase-Client"]=T),y})()}}function Jt(m){return(0,P.m9)(m)}class ns{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,P.ne)(p=>this.observer=p)}get next(){return B(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function zr(m){const d=m.indexOf(":");return d<0?"":m.substr(0,d+1)}function Mi(m){if(!m)return null;const d=Number(m);return isNaN(d)?null:d}class Bn{constructor(d,p){this.providerId=d,this.signInMethod=p}toJSON(){return he("not implemented")}_getIdTokenResponse(d){return he("not implemented")}_linkToIdToken(d,p){return he("not implemented")}_getReauthenticationResolver(d){return he("not implemented")}}function Tn(m,d){return ha.apply(this,arguments)}function ha(){return(ha=(0,f.Z)(function*(m,d){return xt(m,"POST","/v1/accounts:resetPassword",_t(m,d))})).apply(this,arguments)}function $t(m,d){return vl.apply(this,arguments)}function vl(){return(vl=(0,f.Z)(function*(m,d){return xt(m,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function El(m,d){return rs.apply(this,arguments)}function rs(){return(rs=(0,f.Z)(function*(m,d){return xt(m,"POST","/v1/accounts:update",_t(m,d))})).apply(this,arguments)}function is(){return(is=(0,f.Z)(function*(m,d){return Qn(m,"POST","/v1/accounts:signInWithPassword",_t(m,d))})).apply(this,arguments)}function Pi(m,d){return xr.apply(this,arguments)}function xr(){return(xr=(0,f.Z)(function*(m,d){return xt(m,"POST","/v1/accounts:sendOobCode",_t(m,d))})).apply(this,arguments)}function jn(m,d){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,f.Z)(function*(m,d){return Pi(m,d)})).apply(this,arguments)}function xn(m,d){return tr.apply(this,arguments)}function tr(){return(tr=(0,f.Z)(function*(m,d){return Pi(m,d)})).apply(this,arguments)}function fa(m,d){return go.apply(this,arguments)}function go(){return(go=(0,f.Z)(function*(m,d){return Pi(m,d)})).apply(this,arguments)}function wl(m,d){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,f.Z)(function*(m,d){return Pi(m,d)})).apply(this,arguments)}function Lu(){return(Lu=(0,f.Z)(function*(m,d){return Qn(m,"POST","/v1/accounts:signInWithEmailLink",_t(m,d))})).apply(this,arguments)}function Dl(){return(Dl=(0,f.Z)(function*(m,d){return Qn(m,"POST","/v1/accounts:signInWithEmailLink",_t(m,d))})).apply(this,arguments)}class Il extends Bn{constructor(d,p,y,T=null){super("password",y),this._email=d,this._password=p,this._tenantId=T}static _fromEmailAndPassword(d,p){return new Il(d,p,"password")}static _fromEmailAndCode(d,p,y=null){return new Il(d,p,"emailLink",y)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(d){var p=this;return(0,f.Z)(function*(){switch(p.signInMethod){case"password":return function po(m,d){return is.apply(this,arguments)}(d,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function hd(m,d){return Lu.apply(this,arguments)}(d,{email:p._email,oobCode:p._password});default:be(d,"internal-error")}})()}_linkToIdToken(d,p){var y=this;return(0,f.Z)(function*(){switch(y.signInMethod){case"password":return $t(d,{idToken:p,returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function fd(m,d){return Dl.apply(this,arguments)}(d,{idToken:p,email:y._email,oobCode:y._password});default:be(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Rn(m,d){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,f.Z)(function*(m,d){return Qn(m,"POST","/v1/accounts:signInWithIdp",_t(m,d))})).apply(this,arguments)}class ii extends Bn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const p=new ii(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(p.idToken=d.idToken),d.accessToken&&(p.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(p.nonce=d.nonce),d.pendingToken&&(p.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(p.accessToken=d.oauthToken,p.secret=d.oauthTokenSecret):be("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:y,signInMethod:T}=p,R=(0,ae._T)(p,["providerId","signInMethod"]);if(!y||!T)return null;const W=new ii(y,T);return W.idToken=R.idToken||void 0,W.accessToken=R.accessToken||void 0,W.secret=R.secret,W.nonce=R.nonce,W.pendingToken=R.pendingToken||null,W}_getIdTokenResponse(d){return Rn(d,this.buildRequest())}_linkToIdToken(d,p){const y=this.buildRequest();return y.idToken=p,Rn(d,y)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,Rn(d,p)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),d.postBody=(0,P.xO)(p)}return d}}function Bh(m,d){return bl.apply(this,arguments)}function bl(){return(bl=(0,f.Z)(function*(m,d){return xt(m,"POST","/v1/accounts:sendVerificationCode",_t(m,d))})).apply(this,arguments)}function Ni(){return(Ni=(0,f.Z)(function*(m,d){return Qn(m,"POST","/v1/accounts:signInWithPhoneNumber",_t(m,d))})).apply(this,arguments)}function Uu(){return(Uu=(0,f.Z)(function*(m,d){const p=yield Qn(m,"POST","/v1/accounts:signInWithPhoneNumber",_t(m,d));if(p.temporaryProof)throw mr(m,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Hh={USER_NOT_FOUND:"user-not-found"};function Bu(){return(Bu=(0,f.Z)(function*(m,d){return Qn(m,"POST","/v1/accounts:signInWithPhoneNumber",_t(m,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Hh)})).apply(this,arguments)}class Oi extends Bn{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,p){return new Oi({verificationId:d,verificationCode:p})}static _fromTokenResponse(d,p){return new Oi({phoneNumber:d,temporaryProof:p})}_getIdTokenResponse(d){return function Tl(m,d){return Ni.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,p){return function jh(m,d){return Uu.apply(this,arguments)}(d,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function $h(m,d){return Bu.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:p,verificationId:y,verificationCode:T}=this.params;return d&&p?{temporaryProof:d,phoneNumber:p}:{sessionInfo:y,code:T}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:p,verificationCode:y,phoneNumber:T,temporaryProof:R}=d;return y||p||T||R?new Oi({verificationId:p,verificationCode:y,phoneNumber:T,temporaryProof:R}):null}}class pa{constructor(d){var p,y,T,R,W,se;const Oe=(0,P.zd)((0,P.pd)(d)),Be=null!==(p=Oe.apiKey)&&void 0!==p?p:null,st=null!==(y=Oe.oobCode)&&void 0!==y?y:null,tt=function ju(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Oe.mode)&&void 0!==T?T:null);B(Be&&st&&tt,"argument-error"),this.apiKey=Be,this.operation=tt,this.code=st,this.continueUrl=null!==(R=Oe.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(W=Oe.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(se=Oe.tenantId)&&void 0!==se?se:null}static parseLink(d){const p=function Hu(m){const d=(0,P.zd)((0,P.pd)(m)).link,p=d?(0,P.zd)((0,P.pd)(d)).deep_link_id:null,y=(0,P.zd)((0,P.pd)(m)).deep_link_id;return(y?(0,P.zd)((0,P.pd)(y)).link:null)||y||p||d||m}(d);try{return new pa(p)}catch{return null}}}let Zr=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(p,y){return Il._fromEmailAndPassword(p,y)}static credentialWithLink(p,y){const T=pa.parseLink(y);return B(T,"argument-error"),Il._fromEmailAndCode(p,T.code,T.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class si{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class oi extends si{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class ss extends oi{static credentialFromJSON(d){const p="string"==typeof d?JSON.parse(d):d;return B("providerId"in p&&"signInMethod"in p,"argument-error"),ii._fromParams(p)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return B(d.idToken||d.accessToken,"argument-error"),ii._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return ss.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return ss.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:y,oauthTokenSecret:T,pendingToken:R,nonce:W,providerId:se}=d;if(!y&&!T&&!p&&!R||!se)return null;try{return new ss(se)._credential({idToken:p,accessToken:y,nonce:W,pendingToken:R})}catch{return null}}}let mo=(()=>{class m extends oi{constructor(){super("facebook.com")}static credential(p){return ii._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return m.credential(p.oauthAccessToken)}catch{return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),ga=(()=>{class m extends oi{constructor(){super("google.com"),this.addScope("profile")}static credential(p,y){return ii._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:y})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:y,oauthAccessToken:T}=p;if(!y&&!T)return null;try{return m.credential(y,T)}catch{return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),Al=(()=>{class m extends oi{constructor(){super("github.com")}static credential(p){return ii._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return m.credential(p.oauthAccessToken)}catch{return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class os extends Bn{constructor(d,p){super(d,d),this.pendingToken=p}_getIdTokenResponse(d){return Rn(d,this.buildRequest())}_linkToIdToken(d,p){const y=this.buildRequest();return y.idToken=p,Rn(d,y)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,Rn(d,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:y,signInMethod:T,pendingToken:R}=p;return y&&T&&R&&y===T?new os(y,R):null}static _create(d,p){return new os(d,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class yr extends si{constructor(d){B(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return yr.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return yr.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const p=os.fromJSON(d);return B(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:p,providerId:y}=d;if(!p||!y)return null;try{return os._create(y,p)}catch{return null}}}let hr=(()=>{class m extends oi{constructor(){super("twitter.com")}static credential(p,y){return ii._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:y})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:y,oauthTokenSecret:T}=p;if(!y||!T)return null;try{return m.credential(y,T)}catch{return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function Fs(m,d){return $u.apply(this,arguments)}function $u(){return($u=(0,f.Z)(function*(m,d){return Qn(m,"POST","/v1/accounts:signUp",_t(m,d))})).apply(this,arguments)}class qn{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,p,y,T=!1){return(0,f.Z)(function*(){const R=yield L._fromIdTokenResponse(d,y,T),W=md(y);return new qn({user:R,providerId:W,_tokenResponse:y,operationType:p})})()}static _forOperation(d,p,y){return(0,f.Z)(function*(){yield d._updateTokensIfNecessary(y,!0);const T=md(y);return new qn({user:d,providerId:T,_tokenResponse:y,operationType:p})})()}}function md(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function cn(){return(cn=(0,f.Z)(function*(m){var d;const p=Jt(m);if(yield p._initializationPromise,null!==(d=p.currentUser)&&void 0!==d&&d.isAnonymous)return new qn({user:p.currentUser,providerId:null,operationType:"signIn"});const y=yield Fs(p,{returnSecureToken:!0}),T=yield qn._fromIdTokenResponse(p,"signIn",y,!0);return yield p._updateCurrentUser(T.user),T})).apply(this,arguments)}class ma extends P.ZR{constructor(d,p,y,T){var R;super(p.code,p.message),this.operationType=y,this.user=T,Object.setPrototypeOf(this,ma.prototype),this.customData={appName:d.name,tenantId:null!==(R=d.tenantId)&&void 0!==R?R:void 0,_serverResponse:p.customData._serverResponse,operationType:y}}static _fromErrorAndOperation(d,p,y,T){return new ma(d,p,y,T)}}function yd(m,d,p,y){return("reauthenticate"===d?p._getReauthenticationResolver(m):p._getIdTokenResponse(m)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?ma._fromErrorAndOperation(m,R,d,y):R})}function vr(m){return new Set(m.map(({providerId:d})=>d).filter(d=>!!d))}function _a(){return(_a=(0,f.Z)(function*(m,d){const p=(0,P.m9)(m);yield Mt(!0,p,d);const{providerUserInfo:y}=yield dr(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[d]}),T=vr(y||[]);return p.providerData=p.providerData.filter(R=>T.has(R.providerId)),T.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function Ls(m,d){return li.apply(this,arguments)}function li(){return(li=(0,f.Z)(function*(m,d,p=!1){const y=yield pn(m,d._linkToIdToken(m.auth,yield m.getIdToken()),p);return qn._forOperation(m,"link",y)})).apply(this,arguments)}function Mt(m,d,p){return ya.apply(this,arguments)}function ya(){return(ya=(0,f.Z)(function*(m,d,p){yield kt(d);const T=!1===m?"provider-already-linked":"no-such-provider";B(vr(d.providerData).has(p)===m,d.auth,T)})).apply(this,arguments)}function as(m,d){return va.apply(this,arguments)}function va(){return(va=(0,f.Z)(function*(m,d,p=!1){var y;const{auth:T}=m,R="reauthenticate";try{const W=yield pn(m,yd(T,R,d,m),p);B(W.idToken,T,"internal-error");const se=ze(W.idToken);B(se,T,"internal-error");const{sub:Oe}=se;return B(m.uid===Oe,T,"user-mismatch"),qn._forOperation(m,R,W)}catch(W){throw"auth/user-not-found"===(null===(y=W)||void 0===y?void 0:y.code)&&be(T,"user-mismatch"),W}})).apply(this,arguments)}function kr(m,d){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,f.Z)(function*(m,d,p=!1){const y="signIn",T=yield yd(m,y,d),R=yield qn._fromIdTokenResponse(m,y,T);return p||(yield m._updateCurrentUser(R.user)),R})).apply(this,arguments)}function on(m,d){return ft.apply(this,arguments)}function ft(){return(ft=(0,f.Z)(function*(m,d){return kr(Jt(m),d)})).apply(this,arguments)}function Ca(m,d){return vd.apply(this,arguments)}function vd(){return(vd=(0,f.Z)(function*(m,d){const p=(0,P.m9)(m);return yield Mt(!1,p,d.providerId),Ls(p,d)})).apply(this,arguments)}function wa(m,d){return Da.apply(this,arguments)}function Da(){return(Da=(0,f.Z)(function*(m,d){return as((0,P.m9)(m),d)})).apply(this,arguments)}function Sl(m,d){return ui.apply(this,arguments)}function ui(){return(ui=(0,f.Z)(function*(m,d){return Qn(m,"POST","/v1/accounts:signInWithCustomToken",_t(m,d))})).apply(this,arguments)}function _o(){return(_o=(0,f.Z)(function*(m,d){const p=Jt(m),y=yield Sl(p,{token:d,returnSecureToken:!0}),T=yield qn._fromIdTokenResponse(p,"signIn",y);return yield p._updateCurrentUser(T.user),T})).apply(this,arguments)}class we{constructor(d,p){this.factorId=d,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(d,p){return"phoneInfo"in p?Dt._fromServerResponse(d,p):be(d,"internal-error")}}class Dt extends we{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,p){return new Dt(p)}}function Ia(m,d,p){var y;B((null===(y=p.url)||void 0===y?void 0:y.length)>0,m,"invalid-continue-uri"),B(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),d.continueUrl=p.url,d.dynamicLinkDomain=p.dynamicLinkDomain,d.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(B(p.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),d.iOSBundleId=p.iOS.bundleId),p.android&&(B(p.android.packageName.length>0,m,"missing-android-pkg-name"),d.androidInstallApp=p.android.installApp,d.androidMinimumVersionCode=p.android.minimumVersion,d.androidPackageName=p.android.packageName)}function dn(){return(dn=(0,f.Z)(function*(m,d,p){const y=(0,P.m9)(m),T={requestType:"PASSWORD_RESET",email:d};p&&Ia(y,T,p),yield xn(y,T)})).apply(this,arguments)}function Vs(){return(Vs=(0,f.Z)(function*(m,d,p){yield Tn((0,P.m9)(m),{oobCode:d,newPassword:p})})).apply(this,arguments)}function yo(){return(yo=(0,f.Z)(function*(m,d){yield El((0,P.m9)(m),{oobCode:d})})).apply(this,arguments)}function vo(m,d){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,f.Z)(function*(m,d){const p=(0,P.m9)(m),y=yield Tn(p,{oobCode:d}),T=y.requestType;switch(B(T,p,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":B(y.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":B(y.mfaInfo,p,"internal-error");default:B(y.email,p,"internal-error")}let R=null;return y.mfaInfo&&(R=we._fromServerResponse(Jt(p),y.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.newEmail:y.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.email:y.newEmail)||null,multiFactorInfo:R},operation:T}})).apply(this,arguments)}function Wu(){return(Wu=(0,f.Z)(function*(m,d){const{data:p}=yield vo((0,P.m9)(m),d);return p.email})).apply(this,arguments)}function hn(){return(hn=(0,f.Z)(function*(m,d,p){const y=Jt(m),T=yield Fs(y,{returnSecureToken:!0,email:d,password:p}),R=yield qn._fromIdTokenResponse(y,"signIn",T);return yield y._updateCurrentUser(R.user),R})).apply(this,arguments)}function ls(){return(ls=(0,f.Z)(function*(m,d,p){const y=(0,P.m9)(m),T={requestType:"EMAIL_SIGNIN",email:d};B(p.handleCodeInApp,y,"argument-error"),p&&Ia(y,T,p),yield fa(y,T)})).apply(this,arguments)}function Co(){return(Co=(0,f.Z)(function*(m,d,p){const y=(0,P.m9)(m),T=Zr.credentialWithLink(d,p||Me());return B(T._tenantId===(y.tenantId||null),y,"tenant-id-mismatch"),on(y,T)})).apply(this,arguments)}function Gh(m,d){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,f.Z)(function*(m,d){return xt(m,"POST","/v1/accounts:createAuthUri",_t(m,d))})).apply(this,arguments)}function wo(){return(wo=(0,f.Z)(function*(m,d){const y={identifier:d,continueUri:nt()?Me():"http://localhost"},{signinMethods:T}=yield Gh((0,P.m9)(m),y);return T||[]})).apply(this,arguments)}function Do(){return(Do=(0,f.Z)(function*(m,d){const p=(0,P.m9)(m),T={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};d&&Ia(p.auth,T,d);const{email:R}=yield jn(p.auth,T);R!==m.email&&(yield m.reload())})).apply(this,arguments)}function Sa(){return(Sa=(0,f.Z)(function*(m,d,p){const y=(0,P.m9)(m),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:d};p&&Ia(y.auth,R,p);const{email:W}=yield wl(y.auth,R);W!==m.email&&(yield m.reload())})).apply(this,arguments)}function Ma(m,d){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,f.Z)(function*(m,d){return xt(m,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Vl(){return(Vl=(0,f.Z)(function*(m,{displayName:d,photoURL:p}){if(void 0===d&&void 0===p)return;const y=(0,P.m9)(m),R={idToken:yield y.getIdToken(),displayName:d,photoUrl:p,returnSecureToken:!0},W=yield pn(y,Ma(y.auth,R));y.displayName=W.displayName||null,y.photoURL=W.photoUrl||null;const se=y.providerData.find(({providerId:Oe})=>"password"===Oe);se&&(se.displayName=y.displayName,se.photoURL=y.photoURL),yield y._updateTokensIfNecessary(W)})).apply(this,arguments)}function cs(m,d,p){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,f.Z)(function*(m,d,p){const{auth:y}=m,R={idToken:yield m.getIdToken(),returnSecureToken:!0};d&&(R.email=d),p&&(R.password=p);const W=yield pn(m,$t(y,R));yield m._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class fr{constructor(d,p,y={}){this.isNewUser=d,this.providerId=p,this.profile=y}}class Yt extends fr{constructor(d,p,y,T){super(d,p,y),this.username=T}}class Ul extends fr{constructor(d,p){super(d,"facebook.com",p)}}class Bl extends Yt{constructor(d,p){super(d,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class zu extends fr{constructor(d,p){super(d,"google.com",p)}}class jl extends Yt{constructor(d,p,y){super(d,"twitter.com",p,y)}}function Pa(m){const{user:d,_tokenResponse:p}=m;return d.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Pn(m){var d,p;if(!m)return null;const{providerId:y}=m,T=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},R=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!y&&m?.idToken){const W=null===(p=null===(d=ze(m.idToken))||void 0===d?void 0:d.firebase)||void 0===p?void 0:p.sign_in_provider;if(W)return new fr(R,"anonymous"!==W&&"custom"!==W?W:null)}if(!y)return null;switch(y){case"facebook.com":return new Ul(R,T);case"github.com":return new Bl(R,T);case"google.com":return new zu(R,T);case"twitter.com":return new jl(R,T,m.screenName||null);case"custom":case"anonymous":return new fr(R,null);default:return new fr(R,y,T)}}(p)}class hs{constructor(d,p,y){this.type=d,this.credential=p,this.auth=y}static _fromIdtoken(d,p){return new hs("enroll",d,p)}static _fromMfaPendingCredential(d){return new hs("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var p,y;if(d?.multiFactorSession){if(null!==(p=d.multiFactorSession)&&void 0!==p&&p.pendingCredential)return hs._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(y=d.multiFactorSession)&&void 0!==y&&y.idToken)return hs._fromIdtoken(d.multiFactorSession.idToken)}return null}}class Oa{constructor(d,p,y){this.session=d,this.hints=p,this.signInResolver=y}static _fromError(d,p){const y=Jt(d),T=p.customData._serverResponse,R=(T.mfaInfo||[]).map(se=>we._fromServerResponse(y,se));B(T.mfaPendingCredential,y,"internal-error");const W=hs._fromMfaPendingCredential(T.mfaPendingCredential);return new Oa(W,R,function(){var se=(0,f.Z)(function*(Oe){const Be=yield Oe._process(y,W);delete T.mfaInfo,delete T.mfaPendingCredential;const st=Object.assign(Object.assign({},T),{idToken:Be.idToken,refreshToken:Be.refreshToken});switch(p.operationType){case"signIn":const tt=yield qn._fromIdTokenResponse(y,p.operationType,st);return yield y._updateCurrentUser(tt.user),tt;case"reauthenticate":return B(p.user,y,"internal-error"),qn._forOperation(p.user,p.operationType,st);default:be(y,"internal-error")}});return function(Oe){return se.apply(this,arguments)}}())}resolveSignIn(d){var p=this;return(0,f.Z)(function*(){return p.signInResolver(d)})()}}function xa(m,d){return xt(m,"POST","/v2/accounts/mfaEnrollment:start",_t(m,d))}class Ed{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(y=>we._fromServerResponse(d.auth,y)))})}static _fromUser(d){return new Ed(d)}getSession(){var d=this;return(0,f.Z)(function*(){return hs._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,p){var y=this;return(0,f.Z)(function*(){const T=d,R=yield y.getSession(),W=yield pn(y.user,T._process(y.user.auth,R,p));return yield y.user._updateTokensIfNecessary(W),y.user.reload()})()}unenroll(d){var p=this;return(0,f.Z)(function*(){var y;const T="string"==typeof d?d:d.uid,R=yield p.user.getIdToken(),W=yield pn(p.user,function Yu(m,d){return xt(m,"POST","/v2/accounts/mfaEnrollment:withdraw",_t(m,d))}(p.user.auth,{idToken:R,mfaEnrollmentId:T}));p.enrolledFactors=p.enrolledFactors.filter(({uid:se})=>se!==T),yield p.user._updateTokensIfNecessary(W);try{yield p.user.reload()}catch(se){if("auth/user-token-expired"!==(null===(y=se)||void 0===y?void 0:y.code))throw se}})()}}const js=new WeakMap,fs="__sak";class Fa{constructor(d,p){this.storageRetriever=d,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(fs,"1"),this.storage.removeItem(fs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,p){return this.storage.setItem(d,JSON.stringify(p)),Promise.resolve()}_get(d){const p=this.storage.getItem(d);return Promise.resolve(p?JSON.parse(p):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const bo=(()=>{class m extends Fa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,y)=>this.onStorageEvent(p,y),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Io(){const m=(0,P.z$)();return Ct(m)||St(m)}()&&function Kt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ts(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const y of Object.keys(this.listeners)){const T=this.storage.getItem(y),R=this.localCache[y];T!==R&&p(y,R,T)}}onStorageEvent(p,y=!1){if(!p.key)return void this.forAllChangedKeys((se,Oe,Be)=>{this.notifyListeners(se,Be)});const T=p.key;if(y?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const se=this.storage.getItem(T);if(p.newValue!==se)null!==p.newValue?this.storage.setItem(T,p.newValue):this.storage.removeItem(T);else if(this.localCache[T]===p.newValue&&!y)return}const R=()=>{const se=this.storage.getItem(T);!y&&this.localCache[T]===se||this.notifyListeners(T,se)},W=this.storage.getItem(T);!function Mn(){return(0,P.w1)()&&10===document.documentMode}()||W===p.newValue||p.newValue===p.oldValue?R():setTimeout(R,10)}notifyListeners(p,y){this.localCache[p]=y;const T=this.listeners[p];if(T)for(const R of Array.from(T))R(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,y,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:y,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,y){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(y)}_removeListener(p,y){this.listeners[p]&&(this.listeners[p].delete(y),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,y){var T=()=>super._set,R=this;return(0,f.Z)(function*(){yield T().call(R,p,y),R.localCache[p]=JSON.stringify(y)})()}_get(p){var y=()=>super._get,T=this;return(0,f.Z)(function*(){const R=yield y().call(T,p);return T.localCache[p]=JSON.stringify(R),R})()}_remove(p){var y=()=>super._remove,T=this;return(0,f.Z)(function*(){yield y().call(T,p),delete T.localCache[p]})()}}return m.type="LOCAL",m})(),Kr=(()=>{class m extends Fa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,y){}_removeListener(p,y){}}return m.type="SESSION",m})();let Xu=(()=>{class m{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const y=this.receivers.find(R=>R.isListeningto(p));if(y)return y;const T=new m(p);return this.receivers.push(T),T}isListeningto(p){return this.eventTarget===p}handleEvent(p){var y=this;return(0,f.Z)(function*(){const T=p,{eventId:R,eventType:W,data:se}=T.data,Oe=y.handlersMap[W];if(!Oe?.size)return;T.ports[0].postMessage({status:"ack",eventId:R,eventType:W});const Be=Array.from(Oe).map(function(){var tt=(0,f.Z)(function*(Bt){return Bt(T.origin,se)});return function(Bt){return tt.apply(this,arguments)}}()),st=yield function Ao(m){return Promise.all(m.map(function(){var d=(0,f.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(y){return{fulfilled:!1,reason:y}}});return function(p){return d.apply(this,arguments)}}()))}(Be);T.ports[0].postMessage({status:"done",eventId:R,eventType:W,response:st})})()}_subscribe(p,y){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(y)}_unsubscribe(p,y){this.handlersMap[p]&&y&&this.handlersMap[p].delete(y),(!y||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function So(m="",d=10){let p="";for(let y=0;y<d;y++)p+=Math.floor(10*Math.random());return m+p}class Hl{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,p,y=50){var T=this;return(0,f.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let W,se;return new Promise((Oe,Be)=>{const st=So("",20);R.port1.start();const tt=setTimeout(()=>{Be(new Error("unsupported_event"))},y);se={messageChannel:R,onMessage(Bt){const br=Bt;if(br.data.eventId===st)switch(br.data.status){case"ack":clearTimeout(tt),W=setTimeout(()=>{Be(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Oe(br.data.response);break;default:clearTimeout(tt),clearTimeout(W),Be(new Error("invalid_response"))}}},T.handlers.add(se),R.port1.addEventListener("message",se.onMessage),T.target.postMessage({eventType:d,eventId:st,data:p},[R.port2])}).finally(()=>{se&&T.removeMessageHandler(se)})})()}}function gn(){return window}function La(){return typeof gn().WorkerGlobalScope<"u"&&"function"==typeof gn().importScripts}function Mo(){return(Mo=(0,f.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Fi="firebaseLocalStorageDb",Li="firebaseLocalStorage",Ba="fbase_key";class gs{constructor(d){this.request=d}toPromise(){return new Promise((d,p)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Ro(m,d){return m.transaction([Li],d?"readwrite":"readonly").objectStore(Li)}function $s(){const m=indexedDB.open(Fi,1);return new Promise((d,p)=>{m.addEventListener("error",()=>{p(m.error)}),m.addEventListener("upgradeneeded",()=>{const y=m.result;try{y.createObjectStore(Li,{keyPath:Ba})}catch(T){p(T)}}),m.addEventListener("success",(0,f.Z)(function*(){const y=m.result;y.objectStoreNames.contains(Li)?d(y):(y.close(),yield function tc(){const m=indexedDB.deleteDatabase(Fi);return new gs(m).toPromise()}(),d(yield $s()))}))})}function di(m,d,p){return $l.apply(this,arguments)}function $l(){return($l=(0,f.Z)(function*(m,d,p){const y=Ro(m,!0).put({[Ba]:d,value:p});return new gs(y).toPromise()})).apply(this,arguments)}function Po(){return(Po=(0,f.Z)(function*(m,d){const p=Ro(m,!1).get(d),y=yield new gs(p).toPromise();return void 0===y?null:y.value})).apply(this,arguments)}function ms(m,d){const p=Ro(m,!0).delete(d);return new gs(p).toPromise()}const Ws=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,f.Z)(function*(){return p.db||(p.db=yield $s()),p.db})()}_withRetries(p){var y=this;return(0,f.Z)(function*(){let T=0;for(;;)try{const R=yield y._openDb();return yield p(R)}catch(R){if(T++>3)throw R;y.db&&(y.db.close(),y.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,f.Z)(function*(){return La()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,f.Z)(function*(){p.receiver=Xu._getInstance(function Ua(){return La()?self:null}()),p.receiver._subscribe("keyChanged",function(){var y=(0,f.Z)(function*(T,R){return{keyProcessed:(yield p._poll()).includes(R.key)}});return function(T,R){return y.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var y=(0,f.Z)(function*(T,R){return["keyChanged"]});return function(T,R){return y.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,f.Z)(function*(){var y,T;if(p.activeServiceWorker=yield function ps(){return Mo.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Hl(p.activeServiceWorker);const R=yield p.sender._send("ping",{},800);!R||(null===(y=R[0])||void 0===y?void 0:y.fulfilled)&&(null===(T=R[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var y=this;return(0,f.Z)(function*(){if(y.sender&&y.activeServiceWorker&&function Va(){var m;return(null===(m=navigator?.serviceWorker)||void 0===m?void 0:m.controller)||null}()===y.activeServiceWorker)try{yield y.sender._send("keyChanged",{key:p},y.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const p=yield $s();return yield di(p,fs,"1"),yield ms(p,fs),!0}catch{}return!1})()}_withPendingWrite(p){var y=this;return(0,f.Z)(function*(){y.pendingWrites++;try{yield p()}finally{y.pendingWrites--}})()}_set(p,y){var T=this;return(0,f.Z)(function*(){return T._withPendingWrite((0,f.Z)(function*(){return yield T._withRetries(R=>di(R,p,y)),T.localCache[p]=y,T.notifyServiceWorker(p)}))})()}_get(p){var y=this;return(0,f.Z)(function*(){const T=yield y._withRetries(R=>function ja(m,d){return Po.apply(this,arguments)}(R,p));return y.localCache[p]=T,T})()}_remove(p){var y=this;return(0,f.Z)(function*(){return y._withPendingWrite((0,f.Z)(function*(){return yield y._withRetries(T=>ms(T,p)),delete y.localCache[p],y.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,f.Z)(function*(){const y=yield p._withRetries(W=>{const se=Ro(W,!1).getAll();return new gs(se).toPromise()});if(!y)return[];if(0!==p.pendingWrites)return[];const T=[],R=new Set;for(const{fbase_key:W,value:se}of y)R.add(W),JSON.stringify(p.localCache[W])!==JSON.stringify(se)&&(p.notifyListeners(W,se),T.push(W));for(const W of Object.keys(p.localCache))p.localCache[W]&&!R.has(W)&&(p.notifyListeners(W,null),T.push(W));return T})()}notifyListeners(p,y){this.localCache[p]=y;const T=this.listeners[p];if(T)for(const R of Array.from(T))R(y)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,y){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(y)}_removeListener(p,y){this.listeners[p]&&(this.listeners[p].delete(y),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})();function Gs(m,d){return xt(m,"POST","/v2/accounts/mfaSignIn:start",_t(m,d))}function Vi(){return(Vi=(0,f.Z)(function*(m){return(yield xt(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Zs(m){return new Promise((d,p)=>{const y=document.createElement("script");y.setAttribute("src",m),y.onload=d,y.onerror=T=>{const R=pe("internal-error");R.customData=T,p(R)},y.type="text/javascript",y.charset="UTF-8",function zs(){var m,d;return null!==(d=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==d?d:document}().appendChild(y)})}function Wa(m){return`__${m}${Math.floor(1e6*Math.random())}`}const No=1e12;class Gt{constructor(d){this.auth=d,this.counter=No,this._widgets=new Map}render(d,p){const y=this.counter;return this._widgets.set(y,new zh(d,this.auth.name,p||{})),this.counter++,y}reset(d){var p;const y=d||No;null===(p=this._widgets.get(y))||void 0===p||p.delete(),this._widgets.delete(y)}getResponse(d){var p;return(null===(p=this._widgets.get(d||No))||void 0===p?void 0:p.getResponse())||""}execute(d){var p=this;return(0,f.Z)(function*(){var y;return null===(y=p._widgets.get(d||No))||void 0===y||y.execute(),""})()}}class zh{constructor(d,p,y){this.params=y,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof d?document.getElementById(d):d;B(T,"argument-error",{appName:p}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function hg(m){const d=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<m;y++)d.push(p.charAt(Math.floor(Math.random()*p.length)));return d.join("")}(50);const{callback:d,"expired-callback":p}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Zh=Wa("rcb"),fg=new Pt(3e4,6e4);class Cd{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=gn().grecaptcha)||void 0===d||!d.render)}load(d,p=""){return B(function Ey(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(p),d,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(gn().grecaptcha):new Promise((y,T)=>{const R=gn().setTimeout(()=>{T(pe(d,"network-request-failed"))},fg.get());gn()[Zh]=()=>{gn().clearTimeout(R),delete gn()[Zh];const se=gn().grecaptcha;if(!se)return void T(pe(d,"internal-error"));const Oe=se.render;se.render=(Be,st)=>{const tt=Oe(Be,st);return this.counter++,tt},this.hostLanguage=p,y(se)},Zs(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:Zh,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(R),T(pe(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var p;return!(null===(p=gn().grecaptcha)||void 0===p||!p.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Gl{load(d){return(0,f.Z)(function*(){return new Gt(d)})()}clearedOneInstance(){}}const gg="recaptcha",mg={theme:"light",type:"image"};class Fn{constructor(d,p=Object.assign({},mg),y){this.parameters=p,this.type=gg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Jt(y),this.isInvisible="invisible"===this.parameters.size,B(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof d?document.getElementById(d):d;B(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Gl:new Cd,this.validateStartingState()}verify(){var d=this;return(0,f.Z)(function*(){d.assertNotDestroyed();const p=yield d.render(),y=d.getAssertedRecaptcha();return y.getResponse(p)||new Promise(R=>{const W=se=>{!se||(d.tokenChangeListeners.delete(W),R(se))};d.tokenChangeListeners.add(W),d.isInvisible&&y.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){B(!this.parameters.sitekey,this.auth,"argument-error"),B(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),B(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return p=>{if(this.tokenChangeListeners.forEach(y=>y(p)),"function"==typeof d)d(p);else if("string"==typeof d){const y=gn()[d];"function"==typeof y&&y(p)}}}assertNotDestroyed(){B(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,f.Z)(function*(){if(yield d.init(),!d.widgetId){let p=d.container;if(!d.isInvisible){const y=document.createElement("div");p.appendChild(y),p=y}d.widgetId=d.getAssertedRecaptcha().render(p,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,f.Z)(function*(){B(nt()&&!La(),d.auth,"internal-error"),yield function Xt(){let m=null;return new Promise(d=>{"complete"!==document.readyState?(m=()=>d(),window.addEventListener("load",m)):d()}).catch(d=>{throw m&&window.removeEventListener("load",m),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const p=yield function pr(m){return Vi.apply(this,arguments)}(d.auth);B(p,d.auth,"internal-error"),d.parameters.sitekey=p})()}getAssertedRecaptcha(){return B(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Cr{constructor(d,p){this.verificationId=d,this.onConfirmation=p}confirm(d){const p=Oi._fromVerification(this.verificationId,d);return this.onConfirmation(p)}}function wr(){return(wr=(0,f.Z)(function*(m,d,p){const y=Jt(m),T=yield Ui(y,d,(0,P.m9)(p));return new Cr(T,R=>on(y,R))})).apply(this,arguments)}function Lr(){return(Lr=(0,f.Z)(function*(m,d,p){const y=(0,P.m9)(m);yield Mt(!1,y,"phone");const T=yield Ui(y.auth,d,(0,P.m9)(p));return new Cr(T,R=>Ca(y,R))})).apply(this,arguments)}function Kn(){return(Kn=(0,f.Z)(function*(m,d,p){const y=(0,P.m9)(m),T=yield Ui(y.auth,d,(0,P.m9)(p));return new Cr(T,R=>wa(y,R))})).apply(this,arguments)}function Ui(m,d,p){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,f.Z)(function*(m,d,p){var y;const T=yield p.verify();try{let R;if(B("string"==typeof T,m,"argument-error"),B(p.type===gg,m,"argument-error"),R="string"==typeof d?{phoneNumber:d}:d,"session"in R){const W=R.session;if("phoneNumber"in R)return B("enroll"===W.type,m,"internal-error"),(yield xa(m,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{B("signin"===W.type,m,"internal-error");const se=(null===(y=R.multiFactorHint)||void 0===y?void 0:y.uid)||R.multiFactorUid;return B(se,m,"missing-multi-factor-info"),(yield Gs(m,{mfaPendingCredential:W.credential,mfaEnrollmentId:se,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield Bh(m,{phoneNumber:R.phoneNumber,recaptchaToken:T});return W}}finally{p._reset()}})).apply(this,arguments)}function zl(){return(zl=(0,f.Z)(function*(m,d){yield Ls((0,P.m9)(m),d)})).apply(this,arguments)}let xo=(()=>{class m{constructor(p){this.providerId=m.PROVIDER_ID,this.auth=Jt(p)}verifyPhoneNumber(p,y){return Ui(this.auth,p,(0,P.m9)(y))}static credential(p,y){return Oi._fromVerification(p,y)}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:y,temporaryProof:T}=p;return y&&T?Oi._fromTokenResponse(y,T):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function Ks(m,d){return d?re(d):(B(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class fi extends Bn{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Rn(d,this._buildIdpRequest())}_linkToIdToken(d,p){return Rn(d,this._buildIdpRequest(p))}_getReauthenticationResolver(d){return Rn(d,this._buildIdpRequest())}_buildIdpRequest(d){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(p.idToken=d),p}}function Ye(m){return kr(m.auth,new fi(m),m.bypassAuthState)}function ko(m){const{auth:d,user:p}=m;return B(p,d,"internal-error"),as(p,new fi(m),m.bypassAuthState)}function Bi(m){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,f.Z)(function*(m){const{auth:d,user:p}=m;return B(p,d,"internal-error"),Ls(p,new fi(m),m.bypassAuthState)})).apply(this,arguments)}class Ys{constructor(d,p,y,T,R=!1){this.auth=d,this.resolver=y,this.user=T,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var d=this;return new Promise(function(){var p=(0,f.Z)(function*(y,T){d.pendingPromise={resolve:y,reject:T};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(R){d.reject(R)}});return function(y,T){return p.apply(this,arguments)}}())}onAuthEvent(d){var p=this;return(0,f.Z)(function*(){const{urlResponse:y,sessionId:T,postBody:R,tenantId:W,error:se,type:Oe}=d;if(se)return void p.reject(se);const Be={auth:p.auth,requestUri:y,sessionId:T,tenantId:W||void 0,postBody:R||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Oe)(Be))}catch(st){p.reject(st)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return Ye;case"linkViaPopup":case"linkViaRedirect":return Bi;case"reauthViaPopup":case"reauthViaRedirect":return ko;default:be(this.auth,"internal-error")}}resolve(d){G(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){G(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mn=new Pt(2e3,1e4);function Qs(){return(Qs=(0,f.Z)(function*(m,d,p){const y=Jt(m);xe(m,d,si);const T=Ks(y,p);return new ji(y,"signInViaPopup",d,T).executeNotNull()})).apply(this,arguments)}function ql(){return(ql=(0,f.Z)(function*(m,d,p){const y=(0,P.m9)(m);xe(y.auth,d,si);const T=Ks(y.auth,p);return new ji(y.auth,"reauthViaPopup",d,T,y).executeNotNull()})).apply(this,arguments)}function Lo(){return(Lo=(0,f.Z)(function*(m,d,p){const y=(0,P.m9)(m);xe(y.auth,d,si);const T=Ks(y.auth,p);return new ji(y.auth,"linkViaPopup",d,T,y).executeNotNull()})).apply(this,arguments)}let ji=(()=>{class m extends Ys{constructor(p,y,T,R,W){super(p,y,R,W),this.provider=T,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var p=this;return(0,f.Z)(function*(){const y=yield p.execute();return B(y,p.auth,"internal-error"),y})()}onExecution(){var p=this;return(0,f.Z)(function*(){G(1===p.filter.length,"Popup operations only handle one event");const y=So();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],y),p.authWindow.associatedEvent=y,p.resolver._originValidation(p.auth).catch(T=>{p.reject(T)}),p.resolver._isIframeWebStorageSupported(p.auth,T=>{T||p.reject(pe(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const p=()=>{var y,T;this.pollId=null!==(T=null===(y=this.authWindow)||void 0===y?void 0:y.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(pe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,mn.get())};p()}}return m.currentPopupAction=null,m})();const Vr=new Map;class Vo extends Ys{constructor(d,p,y=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,y),this.eventId=null}execute(){var d=()=>super.execute,p=this;return(0,f.Z)(function*(){let y=Vr.get(p.auth._key());if(!y){try{const R=(yield function Js(m,d){return gr.apply(this,arguments)}(p.resolver,p.auth))?yield d().call(p):null;y=()=>Promise.resolve(R)}catch(T){y=()=>Promise.reject(T)}Vr.set(p.auth._key(),y)}return p.bypassAuthState||Vr.set(p.auth._key(),()=>Promise.resolve(null)),y()})()}onAuthEvent(d){var p=()=>super.onAuthEvent,y=this;return(0,f.Z)(function*(){if("signInViaRedirect"===d.type)return p().call(y,d);if("unknown"!==d.type){if(d.eventId){const T=yield y.auth._redirectUserForId(d.eventId);if(T)return y.user=T,p().call(y,d);y.resolve(null)}}else y.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function gr(){return(gr=(0,f.Z)(function*(m,d){const p=_n(d),y=mi(m);if(!(yield y._isAvailable()))return!1;const T="true"===(yield y._get(p));return yield y._remove(p),T})).apply(this,arguments)}function gi(m,d){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,f.Z)(function*(m,d){return mi(m)._set(_n(d),"true")})).apply(this,arguments)}function Hi(m,d){Vr.set(m._key(),d)}function mi(m){return re(m._redirectPersistence)}function _n(m){return ge("pendingRedirect",m.config.apiKey,m.name)}function w(){return(w=(0,f.Z)(function*(m,d,p){const y=Jt(m);xe(m,d,si);const T=Ks(y,p);return yield gi(T,y),T._openRedirect(y,d,"signInViaRedirect")})).apply(this,arguments)}function k(){return(k=(0,f.Z)(function*(m,d,p){const y=(0,P.m9)(m);xe(y.auth,d,si);const T=Ks(y.auth,p);yield gi(T,y.auth);const R=yield et(y);return T._openRedirect(y.auth,d,"reauthViaRedirect",R)})).apply(this,arguments)}function ve(){return(ve=(0,f.Z)(function*(m,d,p){const y=(0,P.m9)(m);xe(y.auth,d,si);const T=Ks(y.auth,p);yield Mt(!1,y,d.providerId),yield gi(T,y.auth);const R=yield et(y);return T._openRedirect(y.auth,d,"linkViaRedirect",R)})).apply(this,arguments)}function Ge(){return(Ge=(0,f.Z)(function*(m,d){return yield Jt(m)._initializationPromise,lt(m,d,!1)})).apply(this,arguments)}function lt(m,d){return gt.apply(this,arguments)}function gt(){return(gt=(0,f.Z)(function*(m,d,p=!1){const y=Jt(m),T=Ks(y,d),W=yield new Vo(y,T,p).execute();return W&&!p&&(delete W.user._redirectEventId,yield y._persistUserIfCurrent(W.user),yield y._setRedirectUser(null,d)),W})).apply(this,arguments)}function et(m){return tn.apply(this,arguments)}function tn(){return(tn=(0,f.Z)(function*(m){const d=So(`${m.uid}:::`);return m._redirectEventId=d,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),d})).apply(this,arguments)}class Xs{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let p=!1;return this.consumers.forEach(y=>{this.isEventForConsumer(d,y)&&(p=!0,this.sendToConsumer(d,y),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Qr(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pt(m);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=d,p=!0)),p}sendToConsumer(d,p){var y;if(d.error&&!pt(d)){const T=(null===(y=d.error.code)||void 0===y?void 0:y.split("auth/")[1])||"internal-error";p.onError(pe(this.auth,T))}else p.onAuthEvent(d)}isEventForConsumer(d,p){const y=null===p.eventId||!!d.eventId&&d.eventId===p.eventId;return p.filter.includes(d.type)&&y}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($i(d))}saveEventToCache(d){this.cachedEventUids.add($i(d)),this.lastProcessedEventTime=Date.now()}}function $i(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(d=>d).join("-")}function pt({type:m,error:d}){return"unknown"===m&&"auth/no-auth-event"===d?.code}function Wi(m){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,f.Z)(function*(m,d={}){return xt(m,"GET","/v1/projects",d)})).apply(this,arguments)}const eo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ys=/^https?/;function Dd(){return(Dd=(0,f.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:d}=yield Wi(m);for(const p of d)try{if(Yh(p))return}catch{}be(m,"unauthorized-domain")})).apply(this,arguments)}function Yh(m){const d=Me(),{protocol:p,hostname:y}=new URL(d);if(m.startsWith("chrome-extension://")){const W=new URL(m);return""===W.hostname&&""===y?"chrome-extension:"===p&&m.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===p&&W.hostname===y}if(!ys.test(p))return!1;if(eo.test(m))return y===m;const T=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(y)}const Qh=new Pt(3e4,6e4);function _g(){const m=gn().___jsl;if(m?.H)for(const d of Object.keys(m.H))if(m.H[d].r=m.H[d].r||[],m.H[d].L=m.H[d].L||[],m.H[d].r=[...m.H[d].L],m.CP)for(let p=0;p<m.CP.length;p++)m.CP[p]=null}let Jr=null;function Id(m){return Jr=Jr||function Nn(m){return new Promise((d,p)=>{var y,T,R;function W(){_g(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{_g(),p(pe(m,"network-request-failed"))},timeout:Qh.get()})}if(null!==(T=null===(y=gn().gapi)||void 0===y?void 0:y.iframes)&&void 0!==T&&T.Iframe)d(gapi.iframes.getContext());else{if(null===(R=gn().gapi)||void 0===R||!R.load){const se=Wa("iframefcb");return gn()[se]=()=>{gapi.load?W():p(pe(m,"network-request-failed"))},Zs(`https://apis.google.com/js/api.js?onload=${se}`).catch(Oe=>p(Oe))}W()}}).catch(d=>{throw Jr=null,d})}(m),Jr}const Jh=new Pt(5e3,15e3),yg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Td=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xh(m){const d=m.config;B(d.authDomain,m,"auth-domain-config-required");const p=d.emulator?rn(d,"emulator/auth/iframe"):`https://${m.config.authDomain}/__/auth/iframe`,y={apiKey:d.apiKey,appName:m.name,v:ie.SDK_VERSION},T=Td.get(m.config.apiHost);T&&(y.eid=T);const R=m._getFrameworks();return R.length&&(y.fw=R.join(",")),`${p}?${(0,P.xO)(y).slice(1)}`}function Uo(){return Uo=(0,f.Z)(function*(m){const d=yield Id(m),p=gn().gapi;return B(p,m,"internal-error"),d.open({where:document.body,url:Xh(m),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yg,dontclear:!0},y=>new Promise(function(){var T=(0,f.Z)(function*(R,W){yield y.restyle({setHideOnLeave:!1});const se=pe(m,"network-request-failed"),Oe=gn().setTimeout(()=>{W(se)},Jh.get());function Be(){gn().clearTimeout(Oe),R(y)}y.ping(Be).then(Be,()=>{W(se)})});return function(R,W){return T.apply(this,arguments)}}()))}),Uo.apply(this,arguments)}const nc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Kl{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sc(m,d,p,y,T,R){B(m.config.authDomain,m,"auth-domain-config-required"),B(m.config.apiKey,m,"invalid-api-key");const W={apiKey:m.config.apiKey,appName:m.name,authType:p,redirectUrl:y,v:ie.SDK_VERSION,eventId:T};if(d instanceof si){d.setDefaultLanguage(m.languageCode),W.providerId=d.providerId||"",(0,P.xb)(d.getCustomParameters())||(W.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Oe,Be]of Object.entries(R||{}))W[Oe]=Be}if(d instanceof oi){const Oe=d.getScopes().filter(Be=>""!==Be);Oe.length>0&&(W.scopes=Oe.join(","))}m.tenantId&&(W.tid=m.tenantId);const se=W;for(const Oe of Object.keys(se))void 0===se[Oe]&&delete se[Oe];return`${function oc({config:m}){return m.emulator?rn(m,"emulator/auth/handler"):`https://${m.authDomain}/__/auth/handler`}(m)}?${(0,P.xO)(se).slice(1)}`}const jo="webStorageSupport";class Xr extends class vg{constructor(d){this.factorId=d}_process(d,p,y){switch(p.type){case"enroll":return this._finalizeEnroll(d,p.credential,y);case"signin":return this._finalizeSignIn(d,p.credential);default:return he("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Xr(d)}_finalizeEnroll(d,p,y){return function ka(m,d){return xt(m,"POST","/v2/accounts/mfaEnrollment:finalize",_t(m,d))}(d,{idToken:p,displayName:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,p){return function $a(m,d){return xt(m,"POST","/v2/accounts/mfaSignIn:finalize",_t(m,d))}(d,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let to=(()=>{class m{constructor(){}static assertion(p){return Xr._fromCredential(p)}}return m.FACTOR_ID="phone",m})();var Sd="@firebase/auth";class wy{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var p=this;return(0,f.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const p=this.auth.onIdTokenChanged(y=>{var T;d((null===(T=y)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,p),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const p=this.internalListeners.get(d);!p||(this.internalListeners.delete(d),p(),this.updateProactiveRefresh())}assertAuthConfigured(){B(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ho(){return window}function $o(){return($o=(0,f.Z)(function*(m,d,p){var y;const{BuildInfo:T}=Ho();G(d.sessionId,"AuthEvent did not contain a session ID");const R=yield Wo(d.sessionId),W={};return St()?W.ibi=T.packageName:Ut()?W.apn=T.packageName:be(m,"operation-not-supported-in-this-environment"),T.displayName&&(W.appDisplayName=T.displayName),W.sessionId=R,sc(m,p,d.type,void 0,null!==(y=d.eventId)&&void 0!==y?y:void 0,W)})).apply(this,arguments)}function Za(){return(Za=(0,f.Z)(function*(m){const{BuildInfo:d}=Ho(),p={};St()?p.iosBundleId=d.packageName:Ut()?p.androidPackageName=d.packageName:be(m,"operation-not-supported-in-this-environment"),yield Wi(m,p)})).apply(this,arguments)}function lf(){return(lf=(0,f.Z)(function*(m,d,p){const{cordova:y}=Ho();let T=()=>{};try{yield new Promise((R,W)=>{let se=null;function Oe(){var tt;R();const Bt=null===(tt=y.plugins.browsertab)||void 0===tt?void 0:tt.close;"function"==typeof Bt&&Bt(),"function"==typeof p?.close&&p.close()}function Be(){se||(se=window.setTimeout(()=>{W(pe(m,"redirect-cancelled-by-user"))},2e3))}function st(){"visible"===document?.visibilityState&&Be()}d.addPassiveListener(Oe),document.addEventListener("resume",Be,!1),Ut()&&document.addEventListener("visibilitychange",st,!1),T=()=>{d.removePassiveListener(Oe),document.removeEventListener("resume",Be,!1),document.removeEventListener("visibilitychange",st,!1),se&&window.clearTimeout(se)}})}finally{T()}})).apply(this,arguments)}function Wo(m){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,f.Z)(function*(m){const d=Jl(m),p=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(p)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Jl(m){if(G(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(m);const d=new ArrayBuffer(m.length),p=new Uint8Array(d);for(let y=0;y<m.length;y++)p[y]=m.charCodeAt(y);return p}(0,P.Pz)("authIdTokenMaxAge"),function Iy(m){(0,ie._registerComponent)(new oe.wA("auth",(d,{options:p})=>{const y=d.getProvider("app").getImmediate(),T=d.getProvider("heartbeat"),{apiKey:R,authDomain:W}=y.options;return((se,Oe)=>{B(R&&!R.includes(":"),"invalid-api-key",{appName:se.name}),B(!W?.includes(":"),"argument-error",{appName:se.name});const Be={apiKey:R,authDomain:W,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Si(m)},st=new yt(se,Oe,Be);return function Re(m,d){const p=d?.persistence||[],y=(Array.isArray(p)?p:[p]).map(re);d?.errorMap&&m._updateErrorMap(d.errorMap),m._initializeWithPersistence(y,d?.popupRedirectResolver)}(st,p),st})(y,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,p,y)=>{d.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new oe.wA("auth-internal",d=>{const p=Jt(d.getProvider("auth").getImmediate());return new wy(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(Sd,"0.20.8",function Dy(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,ie.registerVersion)(Sd,"0.20.8","esm2017")}("Browser");class Rd extends Xs{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(d)),super.onEvent(d)}initialized(){var d=this;return(0,f.Z)(function*(){yield d.initPromise})()}}function cf(m){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,f.Z)(function*(m){const d=yield Xl()._get(ws(m));return d&&(yield Xl()._remove(ws(m))),d})).apply(this,arguments)}function ac(){const m=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const y=Math.floor(Math.random()*d.length);m.push(d.charAt(y))}return m.join("")}function Xl(){return re(bo)}function ws(m){return ge("authEvent",m.config.apiKey,m.name)}function lc(m){if(!m?.includes("?"))return{};const[d,...p]=m.split("?");return(0,P.zd)(p.join("?"))}function cc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:pe("no-auth-event")}}function hc(){var m;return(null===(m=self?.location)||void 0===m?void 0:m.protocol)||null}function Ka(m=(0,P.z$)()){return!("file:"!==hc()&&"ionic:"!==hc()&&"capacitor:"!==hc()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function mf(){try{const m=self.localStorage,d=So();if(m)return m.setItem(d,"1"),m.removeItem(d),!function gf(m=(0,P.z$)()){return function ff(){return(0,P.w1)()&&11===document?.documentMode}()||function pf(m=(0,P.z$)()){return/Edge\/\d+/.test(m)}(m)}()||(0,P.hl)()}catch{return fc()&&(0,P.hl)()}return!1}function fc(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function pc(){return(function Sy(){return"http:"===hc()||"https:"===hc()}()||(0,P.ru)()||Ka())&&!function Od(){return(0,P.b$)()||(0,P.UG)()}()&&mf()&&!fc()}function eu(){return Ka()&&typeof document<"u"}function gc(){return(gc=(0,f.Z)(function*(){return!!eu()&&new Promise(m=>{const d=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),m(!0)})})})).apply(this,arguments)}const rr={LOCAL:"local",NONE:"none",SESSION:"session"},Ir=B,Br="persistence";function Ya(m){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,f.Z)(function*(m){yield m._initializationPromise;const d=nu(),p=ge(Br,m.config.apiKey,m.name);d&&d.setItem(p,m._getPersistence())})).apply(this,arguments)}function nu(){var m;try{return(null===(m=function tu(){return typeof window<"u"?window:null}())||void 0===m?void 0:m.sessionStorage)||null}catch{return null}}const mc=B;class Yn{constructor(){this.browserResolver=re(class nf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kr,this._completeRedirectFn=lt,this._overrideRedirectResult=Hi}_openPopup(d,p,y,T){var R=this;return(0,f.Z)(function*(){var W;G(null===(W=R.eventManagers[d._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const se=sc(d,p,y,Me(),T);return function Es(m,d,p,y=500,T=600){const R=Math.max((window.screen.availHeight-T)/2,0).toString(),W=Math.max((window.screen.availWidth-y)/2,0).toString();let se="";const Oe=Object.assign(Object.assign({},nc),{width:y.toString(),height:T.toString(),top:R,left:W}),Be=(0,P.z$)().toLowerCase();p&&(se=sn(Be)?"_blank":p),Je(Be)&&(d=d||"http://localhost",Oe.scrollbars="yes");const st=Object.entries(Oe).reduce((Bt,[br,Ko])=>`${Bt}${br}=${Ko},`,"");if(function Or(m=(0,P.z$)()){var d;return St(m)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(Be)&&"_self"!==se)return function tf(m,d){const p=document.createElement("a");p.href=m,p.target=d;const y=document.createEvent("MouseEvent");y.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(y)}(d||"",se),new Kl(null);const tt=window.open(d||"",se,st);B(tt,m,"popup-blocked");try{tt.focus()}catch{}return new Kl(tt)}(d,se,So())})()}_openRedirect(d,p,y,T){var R=this;return(0,f.Z)(function*(){return yield R._originValidation(d),function Fr(m){gn().location.href=m}(sc(d,p,y,Me(),T)),new Promise(()=>{})})()}_initialize(d){const p=d._key();if(this.eventManagers[p]){const{manager:T,promise:R}=this.eventManagers[p];return T?Promise.resolve(T):(G(R,"If manager is not set, promise should be"),R)}const y=this.initAndGetManager(d);return this.eventManagers[p]={promise:y},y.catch(()=>{delete this.eventManagers[p]}),y}initAndGetManager(d){var p=this;return(0,f.Z)(function*(){const y=yield function ef(m){return Uo.apply(this,arguments)}(d),T=new Xs(d);return y.register("authEvent",R=>(B(R?.authEvent,d,"invalid-auth-event"),{status:T.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[d._key()]={manager:T},p.iframes[d._key()]=y,T})()}_isIframeWebStorageSupported(d,p){this.iframes[d._key()].send(jo,{type:jo},T=>{var R;const W=null===(R=T?.[0])||void 0===R?void 0:R[jo];void 0!==W&&p(!!W),be(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Ur(m){return Dd.apply(this,arguments)}(d)),this.originValidationPromises[p]}get _shouldInitProactively(){return ts()||Ct()||St()}}),this.cordovaResolver=re(class uc{constructor(){this._redirectPersistence=Kr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=lt,this._overrideRedirectResult=Hi}_initialize(d){var p=this;return(0,f.Z)(function*(){const y=d._key();let T=p.eventManagers.get(y);return T||(T=new Rd(d),p.eventManagers.set(y,T),p.attachCallbackListeners(d,T)),T})()}_openPopup(d){be(d,"operation-not-supported-in-this-environment")}_openRedirect(d,p,y,T){var R=this;return(0,f.Z)(function*(){!function Ay(m){var d,p,y,T,R,W,se,Oe,Be,st;const tt=Ho();B("function"==typeof(null===(d=tt?.universalLinks)||void 0===d?void 0:d.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),B(typeof(null===(p=tt?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),B("function"==typeof(null===(R=null===(T=null===(y=tt?.cordova)||void 0===y?void 0:y.plugins)||void 0===T?void 0:T.browsertab)||void 0===R?void 0:R.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),B("function"==typeof(null===(Oe=null===(se=null===(W=tt?.cordova)||void 0===W?void 0:W.plugins)||void 0===se?void 0:se.browsertab)||void 0===Oe?void 0:Oe.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),B("function"==typeof(null===(st=null===(Be=tt?.cordova)||void 0===Be?void 0:Be.InAppBrowser)||void 0===st?void 0:st.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const W=yield R._initialize(d);yield W.initialized(),W.resetRedirect(),function Hn(){Vr.clear()}(),yield R._originValidation(d);const se=function uf(m,d,p=null){return{type:d,eventId:p,urlResponse:null,sessionId:ac(),postBody:null,tenantId:m.tenantId,error:pe(m,"no-auth-event")}}(d,y,T);yield function qa(m,d){return Xl()._set(ws(m),d)}(d,se);const Oe=yield function ei(m,d,p){return $o.apply(this,arguments)}(d,se,p),Be=yield function Cg(m){const{cordova:d}=Ho();return new Promise(p=>{d.plugins.browsertab.isAvailable(y=>{let T=null;y?d.plugins.browsertab.openUrl(m):T=d.InAppBrowser.open(m,function er(m=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),p(T)})})}(Oe);return function Ty(m,d,p){return lf.apply(this,arguments)}(d,W,Be)})()}_isIframeWebStorageSupported(d,p){throw new Error("Method not implemented.")}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function no(m){return Za.apply(this,arguments)}(d)),this.originValidationPromises[p]}attachCallbackListeners(d,p){const{universalLinks:y,handleOpenURL:T,BuildInfo:R}=Ho(),W=setTimeout((0,f.Z)(function*(){yield cf(d),p.onEvent(cc())}),500),se=function(){var st=(0,f.Z)(function*(tt){clearTimeout(W);const Bt=yield cf(d);let br=null;Bt&&tt?.url&&(br=function Nd(m,d){var p,y;const T=function yn(m){const d=lc(m),p=d.link?decodeURIComponent(d.link):void 0,y=lc(p).link,T=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return lc(T).link||T||y||p||m}(d);if(T.includes("/__/auth/callback")){const R=lc(T),W=R.firebaseError?function Dg(m){try{return JSON.parse(m)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,se=null===(y=null===(p=W?.code)||void 0===p?void 0:p.split("auth/"))||void 0===y?void 0:y[1],Oe=se?pe(se):null;return Oe?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:Oe,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:T,postBody:null}}return null}(Bt,tt.url)),p.onEvent(br||cc())});return function(Bt){return st.apply(this,arguments)}}();typeof y<"u"&&"function"==typeof y.subscribe&&y.subscribe(null,se);const Oe=T,Be=`${R.packageName.toLowerCase()}://`;Ho().handleOpenURL=function(){var st=(0,f.Z)(function*(tt){if(tt.toLowerCase().startsWith(Be)&&se({url:tt}),"function"==typeof Oe)try{Oe(tt)}catch(Bt){console.error(Bt)}});return function(tt){return st.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Kr,this._completeRedirectFn=lt,this._overrideRedirectResult=Hi}_initialize(d){var p=this;return(0,f.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,p,y,T){var R=this;return(0,f.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(d,p,y,T)})()}_openRedirect(d,p,y,T){var R=this;return(0,f.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(d,p,y,T)})()}_isIframeWebStorageSupported(d,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,p)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return eu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return mc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,f.Z)(function*(){if(d.underlyingResolver)return;const p=yield function My(){return gc.apply(this,arguments)}();d.underlyingResolver=p?d.cordovaResolver:d.browserResolver})()}}function _c(m){return m.unwrap()}function yf(m){return iu(m)}function iu(m){const{_tokenResponse:d}=m instanceof P.ZR?m.customData:m;if(!d)return null;if(!(m instanceof P.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return xo.credentialFromResult(m);const p=d.providerId;if(!p||"password"===p)return null;let y;switch(p){case"google.com":y=ga;break;case"facebook.com":y=mo;break;case"github.com":y=Al;break;case"twitter.com":y=hr;break;default:const{oauthIdToken:T,oauthAccessToken:R,oauthTokenSecret:W,pendingToken:se,nonce:Oe}=d;return R||W||T||se?se?p.startsWith("saml.")?os._create(p,se):ii._fromParams({providerId:p,signInMethod:p,pendingToken:se,idToken:T,accessToken:R}):new ss(p).credential({idToken:T,accessToken:R,rawNonce:Oe}):null}return m instanceof P.ZR?y.credentialFromError(m):y.credentialFromResult(m)}function Ln(m,d){return d.catch(p=>{throw p instanceof P.ZR&&function xd(m,d){var p,y;const T=null===(p=d.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===(null===(y=d)||void 0===y?void 0:y.code))d.resolver=new bg(m,function fn(m,d){var p;const y=(0,P.m9)(m),T=d;return B(d.customData.operationType,y,"argument-error"),B(null===(p=T.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,y,"argument-error"),Oa._fromError(y,T)}(m,d));else if(T){const R=iu(d),W=d;R&&(W.credential=R,W.tenantId=T.tenantId||void 0,W.email=T.email||void 0,W.phoneNumber=T.phoneNumber||void 0)}}(m,p),p}).then(p=>{const T=p.user;return{operationType:p.operationType,credential:yf(p),additionalUserInfo:Pa(p),user:_i.getOrCreate(T)}})}function Zo(m,d){return kd.apply(this,arguments)}function kd(){return(kd=(0,f.Z)(function*(m,d){const p=yield d;return{verificationId:p.verificationId,confirm:y=>Ln(m,p.confirm(y))}})).apply(this,arguments)}class bg{constructor(d,p){this.resolver=p,this.auth=function ru(m){return m.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return Ln(_c(this.auth),this.resolver.resolveSignIn(d))}}class _i{constructor(d){this._delegate=d,this.multiFactor=function Hs(m){const d=(0,P.m9)(m);return js.has(d)||js.set(d,Ed._fromUser(d)),js.get(d)}(d)}static getOrCreate(d){return _i.USER_MAP.has(d)||_i.USER_MAP.set(d,new _i(d)),_i.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var p=this;return(0,f.Z)(function*(){return Ln(p.auth,Ca(p._delegate,d))})()}linkWithPhoneNumber(d,p){var y=this;return(0,f.Z)(function*(){return Zo(y.auth,function en(m,d,p){return Lr.apply(this,arguments)}(y._delegate,d,p))})()}linkWithPopup(d){var p=this;return(0,f.Z)(function*(){return Ln(p.auth,function za(m,d,p){return Lo.apply(this,arguments)}(p._delegate,d,Yn))})()}linkWithRedirect(d){var p=this;return(0,f.Z)(function*(){return yield Ya(Jt(p.auth)),function q(m,d,p){return function te(m,d,p){return ve.apply(this,arguments)}(m,d,p)}(p._delegate,d,Yn)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var p=this;return(0,f.Z)(function*(){return Ln(p.auth,wa(p._delegate,d))})()}reauthenticateWithPhoneNumber(d,p){return Zo(this.auth,function Oo(m,d,p){return Kn.apply(this,arguments)}(this._delegate,d,p))}reauthenticateWithPopup(d){return Ln(this.auth,function Kh(m,d,p){return ql.apply(this,arguments)}(this._delegate,d,Yn))}reauthenticateWithRedirect(d){var p=this;return(0,f.Z)(function*(){return yield Ya(Jt(p.auth)),function D(m,d,p){return function A(m,d,p){return k.apply(this,arguments)}(m,d,p)}(p._delegate,d,Yn)})()}sendEmailVerification(d){return function xl(m,d){return Do.apply(this,arguments)}(this._delegate,d)}unlink(d){var p=this;return(0,f.Z)(function*(){return yield function nr(m,d){return _a.apply(this,arguments)}(p._delegate,d),p})()}updateEmail(d){return function Gu(m,d){return cs((0,P.m9)(m),d,null)}(this._delegate,d)}updatePassword(d){return function us(m,d){return cs((0,P.m9)(m),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function qh(m,d){return zl.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function Ll(m,d){return Vl.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,p){return function kl(m,d,p){return Sa.apply(this,arguments)}(this._delegate,d,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}_i.USER_MAP=new WeakMap;const ro=B;let Fd=(()=>{class m{constructor(p,y){if(this.app=p,y.isInitialized())return this._delegate=y.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=p.options;ro(T,"invalid-api-key",{appName:p.name}),ro(T,"invalid-api-key",{appName:p.name});const R=typeof window<"u"?Yn:void 0;this._delegate=y.initialize({options:{persistence:vf(T,p.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(_e),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?_i.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,y){!function da(m,d,p){const y=Jt(m);B(y._canInitEmulator,y,"emulator-config-failed"),B(/^https?:\/\//.test(d),y,"invalid-emulator-scheme");const T=!!p?.disableWarnings,R=zr(d),{host:W,port:se}=function bn(m){const d=zr(m),p=/(\/\/)?([^?#/]+)/.exec(m.substr(d.length));if(!p)return{host:"",port:null};const y=p[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(y);if(T){const R=T[1];return{host:R,port:Mi(y.substr(R.length+1))}}{const[R,W]=y.split(":");return{host:R,port:Mi(W)}}}(d);y.config.emulator={url:`${R}//${W}${null===se?"":`:${se}`}/`},y.settings.appVerificationDisabledForTesting=!0,y.emulatorConfig=Object.freeze({host:W,port:se,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Ri(){function m(){const d=document.createElement("p"),p=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,p,y)}applyActionCode(p){return function Er(m,d){return yo.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return vo(this._delegate,p)}confirmPasswordReset(p,y){return function Ta(m,d,p){return Vs.apply(this,arguments)}(this._delegate,p,y)}createUserWithEmailAndPassword(p,y){var T=this;return(0,f.Z)(function*(){return Ln(T._delegate,function Eo(m,d,p){return hn.apply(this,arguments)}(T._delegate,p,y))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function Aa(m,d){return wo.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function ci(m,d){return"EMAIL_SIGNIN"===pa.parseLink(d)?.operation}(0,p)}getRedirectResult(){var p=this;return(0,f.Z)(function*(){ro(pc(),p._delegate,"operation-not-supported-in-this-environment");const y=yield function Se(m,d){return Ge.apply(this,arguments)}(p._delegate,Yn);return y?Ln(p._delegate,Promise.resolve(y)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function Go(m,d){Jt(m)._logFramework(d)}(this._delegate,p)}onAuthStateChanged(p,y,T){const{next:R,error:W,complete:se}=yc(p,y,T);return this._delegate.onAuthStateChanged(R,W,se)}onIdTokenChanged(p,y,T){const{next:R,error:W,complete:se}=yc(p,y,T);return this._delegate.onIdTokenChanged(R,W,se)}sendSignInLinkToEmail(p,y){return function Nl(m,d,p){return ls.apply(this,arguments)}(this._delegate,p,y)}sendPasswordResetEmail(p,y){return function ba(m,d,p){return dn.apply(this,arguments)}(this._delegate,p,y||void 0)}setPersistence(p){var y=this;return(0,f.Z)(function*(){let T;switch(function _f(m,d){Ir(Object.values(rr).includes(d),m,"invalid-persistence-type"),(0,P.b$)()?Ir(d!==rr.SESSION,m,"unsupported-persistence-type"):(0,P.UG)()?Ir(d===rr.NONE,m,"unsupported-persistence-type"):fc()?Ir(d===rr.NONE||d===rr.LOCAL&&(0,P.hl)(),m,"unsupported-persistence-type"):Ir(d===rr.NONE||mf(),m,"unsupported-persistence-type")}(y._delegate,p),p){case rr.SESSION:T=Kr;break;case rr.LOCAL:T=(yield re(Ws)._isAvailable())?Ws:bo;break;case rr.NONE:T=z;break;default:return be("argument-error",{appName:y._delegate.name})}return y._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return Ln(this._delegate,function _d(m){return cn.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return Ln(this._delegate,on(this._delegate,p))}signInWithCustomToken(p){return Ln(this._delegate,function Ml(m,d){return _o.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,y){return Ln(this._delegate,function qr(m,d,p){return on((0,P.m9)(m),Zr.credential(d,p))}(this._delegate,p,y))}signInWithEmailLink(p,y){return Ln(this._delegate,function Wh(m,d,p){return Co.apply(this,arguments)}(this._delegate,p,y))}signInWithPhoneNumber(p,y){return Zo(this._delegate,function Xe(m,d,p){return wr.apply(this,arguments)}(this._delegate,p,y))}signInWithPopup(p){var y=this;return(0,f.Z)(function*(){return ro(pc(),y._delegate,"operation-not-supported-in-this-environment"),Ln(y._delegate,function Zl(m,d,p){return Qs.apply(this,arguments)}(y._delegate,p,Yn))})()}signInWithRedirect(p){var y=this;return(0,f.Z)(function*(){return ro(pc(),y._delegate,"operation-not-supported-in-this-environment"),yield Ya(y._delegate),function zt(m,d,p){return function wd(m,d,p){return w.apply(this,arguments)}(m,d,p)}(y._delegate,p,Yn)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function Pl(m,d){return Wu.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=rr,m})();function yc(m,d,p){let y=m;"function"!=typeof m&&({next:y,error:d,complete:p}=m);const T=y;return{next:W=>T(W&&_i.getOrCreate(W)),error:d,complete:p}}function vf(m,d){const p=function zo(m,d){const p=nu();if(!p)return[];const y=ge(Br,m,d);switch(p.getItem(y)){case rr.NONE:return[z];case rr.LOCAL:return[Ws,Kr];case rr.SESSION:return[Kr];default:return[]}}(m,d);if(typeof self<"u"&&!p.includes(Ws)&&p.push(Ws),typeof window<"u")for(const y of[bo,Kr])p.includes(y)||p.push(y);return p.includes(z)||p.push(z),p}class vc{constructor(){this.providerId="phone",this._delegate=new xo(_c(Q.Z.auth()))}static credential(d,p){return xo.credential(d,p)}verifyPhoneNumber(d,p){return this._delegate.verifyPhoneNumber(d,p)}unwrap(){return this._delegate}}vc.PHONE_SIGN_IN_METHOD=xo.PHONE_SIGN_IN_METHOD,vc.PROVIDER_ID=xo.PROVIDER_ID;const Ec=B;class Cc{constructor(d,p,y=Q.Z.app()){var T;Ec(null===(T=y.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:y.name}),this._delegate=new Fn(d,p,y.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Tg(m){m.INTERNAL.registerComponent(new oe.wA("auth-compat",d=>{const p=d.getProvider("app-compat").getImmediate(),y=d.getProvider("auth");return new Fd(p,y)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Zr,FacebookAuthProvider:mo,GithubAuthProvider:Al,GoogleAuthProvider:ga,OAuthProvider:ss,SAMLAuthProvider:yr,PhoneAuthProvider:vc,PhoneMultiFactorGenerator:to,RecaptchaVerifier:Cc,TwitterAuthProvider:hr,Auth:Fd,AuthCredential:Bn,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.2.21")}(Q.Z)},9751:(Ze,ye,N)=>{"use strict";N.d(ye,{y:()=>le});var f=N(930),Q=N(727),P=N(8822),ie=N(9635),ne=N(2416),ae=N(576),oe=N(2806);let le=(()=>{class Z{constructor(Te){Te&&(this._subscribe=Te)}lift(Te){const _e=new Z;return _e.source=this,_e.operator=Te,_e}subscribe(Te,_e,We){const fe=function H(Z){return Z&&Z instanceof f.Lv||function j(Z){return Z&&(0,ae.m)(Z.next)&&(0,ae.m)(Z.error)&&(0,ae.m)(Z.complete)}(Z)&&(0,Q.Nn)(Z)}(Te)?Te:new f.Hp(Te,_e,We);return(0,oe.x)(()=>{const{operator:de,source:je}=this;fe.add(de?de.call(fe,je):je?this._subscribe(fe):this._trySubscribe(fe))}),fe}_trySubscribe(Te){try{return this._subscribe(Te)}catch(_e){Te.error(_e)}}forEach(Te,_e){return new(_e=ue(_e))((We,fe)=>{const de=new f.Hp({next:je=>{try{Te(je)}catch(qe){fe(qe),de.unsubscribe()}},error:fe,complete:We});this.subscribe(de)})}_subscribe(Te){var _e;return null===(_e=this.source)||void 0===_e?void 0:_e.subscribe(Te)}[P.L](){return this}pipe(...Te){return(0,ie.U)(Te)(this)}toPromise(Te){return new(Te=ue(Te))((_e,We)=>{let fe;this.subscribe(de=>fe=de,de=>We(de),()=>_e(fe))})}}return Z.create=Ne=>new Z(Ne),Z})();function ue(Z){var Ne;return null!==(Ne=Z??ne.v.Promise)&&void 0!==Ne?Ne:Promise}},7579:(Ze,ye,N)=>{"use strict";N.d(ye,{x:()=>oe});var f=N(9751),Q=N(727);const ie=(0,N(3888).d)(ue=>function(){ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=N(8737),ae=N(2806);let oe=(()=>{class ue extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const Z=new le(this,this);return Z.operator=H,Z}_throwIfClosed(){if(this.closed)throw new ie}next(H){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Z of this.currentObservers)Z.next(H)}})}error(H){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:Z}=this;for(;Z.length;)Z.shift().error(H)}})}complete(){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:Z,isStopped:Ne,observers:Te}=this;return Z||Ne?Q.Lc:(this.currentObservers=null,Te.push(H),new Q.w0(()=>{this.currentObservers=null,(0,ne.P)(Te,H)}))}_checkFinalizedStatuses(H){const{hasError:Z,thrownError:Ne,isStopped:Te}=this;Z?H.error(Ne):Te&&H.complete()}asObservable(){const H=new f.y;return H.source=this,H}}return ue.create=(j,H)=>new le(j,H),ue})();class le extends oe{constructor(j,H){super(),this.destination=j,this.source=H}next(j){var H,Z;null===(Z=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===Z||Z.call(H,j)}error(j){var H,Z;null===(Z=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===Z||Z.call(H,j)}complete(){var j,H;null===(H=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===H||H.call(j)}_subscribe(j){var H,Z;return null!==(Z=null===(H=this.source)||void 0===H?void 0:H.subscribe(j))&&void 0!==Z?Z:Q.Lc}}},930:(Ze,ye,N)=>{"use strict";N.d(ye,{Hp:()=>We,Lv:()=>Z});var f=N(576),Q=N(727),P=N(2416),ie=N(7849),ne=N(5032);const ae=ue("C",void 0,void 0);function ue(be,pe,Ee){return{kind:be,value:pe,error:Ee}}var j=N(3410),H=N(2806);class Z extends Q.w0{constructor(pe){super(),this.isStopped=!1,pe?(this.destination=pe,(0,Q.Nn)(pe)&&pe.add(this)):this.destination=qe}static create(pe,Ee,xe){return new We(pe,Ee,xe)}next(pe){this.isStopped?je(function le(be){return ue("N",be,void 0)}(pe),this):this._next(pe)}error(pe){this.isStopped?je(function oe(be){return ue("E",void 0,be)}(pe),this):(this.isStopped=!0,this._error(pe))}complete(){this.isStopped?je(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pe){this.destination.next(pe)}_error(pe){try{this.destination.error(pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function Te(be,pe){return Ne.call(be,pe)}class _e{constructor(pe){this.partialObserver=pe}next(pe){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(pe)}catch(xe){fe(xe)}}error(pe){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(pe)}catch(xe){fe(xe)}else fe(pe)}complete(){const{partialObserver:pe}=this;if(pe.complete)try{pe.complete()}catch(Ee){fe(Ee)}}}class We extends Z{constructor(pe,Ee,xe){let Fe;if(super(),(0,f.m)(pe)||!pe)Fe={next:pe??void 0,error:Ee??void 0,complete:xe??void 0};else{let B;this&&P.v.useDeprecatedNextContext?(B=Object.create(pe),B.unsubscribe=()=>this.unsubscribe(),Fe={next:pe.next&&Te(pe.next,B),error:pe.error&&Te(pe.error,B),complete:pe.complete&&Te(pe.complete,B)}):Fe=pe}this.destination=new _e(Fe)}}function fe(be){P.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(be):(0,ie.h)(be)}function je(be,pe){const{onStoppedNotification:Ee}=P.v;Ee&&j.z.setTimeout(()=>Ee(be,pe))}const qe={closed:!0,next:ne.Z,error:function de(be){throw be},complete:ne.Z}},727:(Ze,ye,N)=>{"use strict";N.d(ye,{Lc:()=>ae,w0:()=>ne,Nn:()=>oe});var f=N(576);const P=(0,N(3888).d)(ue=>function(H){ue(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((Z,Ne)=>`${Ne+1}) ${Z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var ie=N(8737);class ne{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Te of H)Te.remove(this);else H.remove(this);const{initialTeardown:Z}=this;if((0,f.m)(Z))try{Z()}catch(Te){j=Te instanceof P?Te.errors:[Te]}const{_finalizers:Ne}=this;if(Ne){this._finalizers=null;for(const Te of Ne)try{le(Te)}catch(_e){j=j??[],_e instanceof P?j=[...j,..._e.errors]:j.push(_e)}}if(j)throw new P(j)}}add(j){var H;if(j&&j!==this)if(this.closed)le(j);else{if(j instanceof ne){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(j)}}_hasParent(j){const{_parentage:H}=this;return H===j||Array.isArray(H)&&H.includes(j)}_addParent(j){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(j),H):H?[H,j]:j}_removeParent(j){const{_parentage:H}=this;H===j?this._parentage=null:Array.isArray(H)&&(0,ie.P)(H,j)}remove(j){const{_finalizers:H}=this;H&&(0,ie.P)(H,j),j instanceof ne&&j._removeParent(this)}}ne.EMPTY=(()=>{const ue=new ne;return ue.closed=!0,ue})();const ae=ne.EMPTY;function oe(ue){return ue instanceof ne||ue&&"closed"in ue&&(0,f.m)(ue.remove)&&(0,f.m)(ue.add)&&(0,f.m)(ue.unsubscribe)}function le(ue){(0,f.m)(ue)?ue():ue.unsubscribe()}},2416:(Ze,ye,N)=>{"use strict";N.d(ye,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ze,ye,N)=>{"use strict";N.d(ye,{E:()=>Q});const Q=new(N(9751).y)(ne=>ne.complete())},8996:(Ze,ye,N)=>{"use strict";N.d(ye,{D:()=>pe});var f=N(8421),Q=N(5363),P=N(9468),ae=N(9751),le=N(2202),ue=N(576),j=N(9672);function Z(Ee,xe){if(!Ee)throw new Error("Iterable cannot be null");return new ae.y(Fe=>{(0,j.f)(Fe,xe,()=>{const B=Ee[Symbol.asyncIterator]();(0,j.f)(Fe,xe,()=>{B.next().then(he=>{he.done?Fe.complete():Fe.next(he.value)})},0,!0)})})}var Ne=N(3670),Te=N(8239),_e=N(1144),We=N(6495),fe=N(2206),de=N(4532),je=N(3260);function pe(Ee,xe){return xe?function be(Ee,xe){if(null!=Ee){if((0,Ne.c)(Ee))return function ie(Ee,xe){return(0,f.Xf)(Ee).pipe((0,P.R)(xe),(0,Q.Q)(xe))}(Ee,xe);if((0,_e.z)(Ee))return function oe(Ee,xe){return new ae.y(Fe=>{let B=0;return xe.schedule(function(){B===Ee.length?Fe.complete():(Fe.next(Ee[B++]),Fe.closed||this.schedule())})})}(Ee,xe);if((0,Te.t)(Ee))return function ne(Ee,xe){return(0,f.Xf)(Ee).pipe((0,P.R)(xe),(0,Q.Q)(xe))}(Ee,xe);if((0,fe.D)(Ee))return Z(Ee,xe);if((0,We.T)(Ee))return function H(Ee,xe){return new ae.y(Fe=>{let B;return(0,j.f)(Fe,xe,()=>{B=Ee[le.h](),(0,j.f)(Fe,xe,()=>{let he,G;try{({value:he,done:G}=B.next())}catch(Y){return void Fe.error(Y)}G?Fe.complete():Fe.next(he)},0,!0)}),()=>(0,ue.m)(B?.return)&&B.return()})}(Ee,xe);if((0,je.L)(Ee))return function qe(Ee,xe){return Z((0,je.Q)(Ee),xe)}(Ee,xe)}throw(0,de.z)(Ee)}(Ee,xe):(0,f.Xf)(Ee)}},8421:(Ze,ye,N)=>{"use strict";N.d(ye,{Xf:()=>Ne});var f=N(655),Q=N(1144),P=N(8239),ie=N(9751),ne=N(3670),ae=N(2206),oe=N(4532),le=N(6495),ue=N(3260),j=N(576),H=N(7849),Z=N(8822);function Ne(be){if(be instanceof ie.y)return be;if(null!=be){if((0,ne.c)(be))return function Te(be){return new ie.y(pe=>{const Ee=be[Z.L]();if((0,j.m)(Ee.subscribe))return Ee.subscribe(pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(be);if((0,Q.z)(be))return function _e(be){return new ie.y(pe=>{for(let Ee=0;Ee<be.length&&!pe.closed;Ee++)pe.next(be[Ee]);pe.complete()})}(be);if((0,P.t)(be))return function We(be){return new ie.y(pe=>{be.then(Ee=>{pe.closed||(pe.next(Ee),pe.complete())},Ee=>pe.error(Ee)).then(null,H.h)})}(be);if((0,ae.D)(be))return de(be);if((0,le.T)(be))return function fe(be){return new ie.y(pe=>{for(const Ee of be)if(pe.next(Ee),pe.closed)return;pe.complete()})}(be);if((0,ue.L)(be))return function je(be){return de((0,ue.Q)(be))}(be)}throw(0,oe.z)(be)}function de(be){return new ie.y(pe=>{(function qe(be,pe){var Ee,xe,Fe,B;return(0,f.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,f.KL)(be);!(xe=yield Ee.next()).done;)if(pe.next(xe.value),pe.closed)return}catch(he){Fe={error:he}}finally{try{xe&&!xe.done&&(B=Ee.return)&&(yield B.call(Ee))}finally{if(Fe)throw Fe.error}}pe.complete()})})(be,pe).catch(Ee=>pe.error(Ee))})}},6451:(Ze,ye,N)=>{"use strict";N.d(ye,{T:()=>ae});var f=N(8189),Q=N(8421),P=N(515),ie=N(7669),ne=N(8996);function ae(...oe){const le=(0,ie.yG)(oe),ue=(0,ie._6)(oe,1/0),j=oe;return j.length?1===j.length?(0,Q.Xf)(j[0]):(0,f.J)(ue)((0,ne.D)(j,le)):P.E}},5403:(Ze,ye,N)=>{"use strict";N.d(ye,{x:()=>Q});var f=N(930);function Q(ie,ne,ae,oe,le){return new P(ie,ne,ae,oe,le)}class P extends f.Lv{constructor(ne,ae,oe,le,ue,j){super(ne),this.onFinalize=ue,this.shouldUnsubscribe=j,this._next=ae?function(H){try{ae(H)}catch(Z){ne.error(Z)}}:super._next,this._error=le?function(H){try{le(H)}catch(Z){ne.error(Z)}finally{this.unsubscribe()}}:super._error,this._complete=oe?function(){try{oe()}catch(H){ne.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},4004:(Ze,ye,N)=>{"use strict";N.d(ye,{U:()=>P});var f=N(4482),Q=N(5403);function P(ie,ne){return(0,f.e)((ae,oe)=>{let le=0;ae.subscribe((0,Q.x)(oe,ue=>{oe.next(ie.call(ne,ue,le++))}))})}},8189:(Ze,ye,N)=>{"use strict";N.d(ye,{J:()=>P});var f=N(5577),Q=N(4671);function P(ie=1/0){return(0,f.z)(Q.y,ie)}},5577:(Ze,ye,N)=>{"use strict";N.d(ye,{z:()=>le});var f=N(4004),Q=N(8421),P=N(4482),ie=N(9672),ne=N(5403),oe=N(576);function le(ue,j,H=1/0){return(0,oe.m)(j)?le((Z,Ne)=>(0,f.U)((Te,_e)=>j(Z,Te,Ne,_e))((0,Q.Xf)(ue(Z,Ne))),H):("number"==typeof j&&(H=j),(0,P.e)((Z,Ne)=>function ae(ue,j,H,Z,Ne,Te,_e,We){const fe=[];let de=0,je=0,qe=!1;const be=()=>{qe&&!fe.length&&!de&&j.complete()},pe=xe=>de<Z?Ee(xe):fe.push(xe),Ee=xe=>{Te&&j.next(xe),de++;let Fe=!1;(0,Q.Xf)(H(xe,je++)).subscribe((0,ne.x)(j,B=>{Ne?.(B),Te?pe(B):j.next(B)},()=>{Fe=!0},void 0,()=>{if(Fe)try{for(de--;fe.length&&de<Z;){const B=fe.shift();_e?(0,ie.f)(j,_e,()=>Ee(B)):Ee(B)}be()}catch(B){j.error(B)}}))};return ue.subscribe((0,ne.x)(j,pe,()=>{qe=!0,be()})),()=>{We?.()}}(Z,Ne,ue,H)))}},5363:(Ze,ye,N)=>{"use strict";N.d(ye,{Q:()=>ie});var f=N(9672),Q=N(4482),P=N(5403);function ie(ne,ae=0){return(0,Q.e)((oe,le)=>{oe.subscribe((0,P.x)(le,ue=>(0,f.f)(le,ne,()=>le.next(ue),ae),()=>(0,f.f)(le,ne,()=>le.complete(),ae),ue=>(0,f.f)(le,ne,()=>le.error(ue),ae)))})}},3099:(Ze,ye,N)=>{"use strict";N.d(ye,{B:()=>ne});var f=N(8421),Q=N(7579),P=N(930),ie=N(4482);function ne(oe={}){const{connector:le=(()=>new Q.x),resetOnError:ue=!0,resetOnComplete:j=!0,resetOnRefCountZero:H=!0}=oe;return Z=>{let Ne,Te,_e,We=0,fe=!1,de=!1;const je=()=>{Te?.unsubscribe(),Te=void 0},qe=()=>{je(),Ne=_e=void 0,fe=de=!1},be=()=>{const pe=Ne;qe(),pe?.unsubscribe()};return(0,ie.e)((pe,Ee)=>{We++,!de&&!fe&&je();const xe=_e=_e??le();Ee.add(()=>{We--,0===We&&!de&&!fe&&(Te=ae(be,H))}),xe.subscribe(Ee),!Ne&&We>0&&(Ne=new P.Hp({next:Fe=>xe.next(Fe),error:Fe=>{de=!0,je(),Te=ae(qe,ue,Fe),xe.error(Fe)},complete:()=>{fe=!0,je(),Te=ae(qe,j),xe.complete()}}),(0,f.Xf)(pe).subscribe(Ne))})(Z)}}function ae(oe,le,...ue){if(!0===le)return void oe();if(!1===le)return;const j=new P.Hp({next:()=>{j.unsubscribe(),oe()}});return le(...ue).subscribe(j)}},9468:(Ze,ye,N)=>{"use strict";N.d(ye,{R:()=>Q});var f=N(4482);function Q(P,ie=0){return(0,f.e)((ne,ae)=>{ae.add(P.schedule(()=>ne.subscribe(ae),ie))})}},8505:(Ze,ye,N)=>{"use strict";N.d(ye,{b:()=>ne});var f=N(576),Q=N(4482),P=N(5403),ie=N(4671);function ne(ae,oe,le){const ue=(0,f.m)(ae)||oe||le?{next:ae,error:oe,complete:le}:ae;return ue?(0,Q.e)((j,H)=>{var Z;null===(Z=ue.subscribe)||void 0===Z||Z.call(ue);let Ne=!0;j.subscribe((0,P.x)(H,Te=>{var _e;null===(_e=ue.next)||void 0===_e||_e.call(ue,Te),H.next(Te)},()=>{var Te;Ne=!1,null===(Te=ue.complete)||void 0===Te||Te.call(ue),H.complete()},Te=>{var _e;Ne=!1,null===(_e=ue.error)||void 0===_e||_e.call(ue,Te),H.error(Te)},()=>{var Te,_e;Ne&&(null===(Te=ue.unsubscribe)||void 0===Te||Te.call(ue)),null===(_e=ue.finalize)||void 0===_e||_e.call(ue)}))}):ie.y}},4408:(Ze,ye,N)=>{"use strict";N.d(ye,{o:()=>ne});var f=N(727);class Q extends f.w0{constructor(oe,le){super()}schedule(oe,le=0){return this}}const P={setInterval(ae,oe,...le){const{delegate:ue}=P;return ue?.setInterval?ue.setInterval(ae,oe,...le):setInterval(ae,oe,...le)},clearInterval(ae){const{delegate:oe}=P;return(oe?.clearInterval||clearInterval)(ae)},delegate:void 0};var ie=N(8737);class ne extends Q{constructor(oe,le){super(oe,le),this.scheduler=oe,this.work=le,this.pending=!1}schedule(oe,le=0){var ue;if(this.closed)return this;this.state=oe;const j=this.id,H=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId(H,j,le)),this.pending=!0,this.delay=le,this.id=null!==(ue=this.id)&&void 0!==ue?ue:this.requestAsyncId(H,this.id,le),this}requestAsyncId(oe,le,ue=0){return P.setInterval(oe.flush.bind(oe,this),ue)}recycleAsyncId(oe,le,ue=0){if(null!=ue&&this.delay===ue&&!1===this.pending)return le;null!=le&&P.clearInterval(le)}execute(oe,le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(oe,le);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,le){let j,ue=!1;try{this.work(oe)}catch(H){ue=!0,j=H||new Error("Scheduled action threw falsy error")}if(ue)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:oe,scheduler:le}=this,{actions:ue}=le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(ue,this),null!=oe&&(this.id=this.recycleAsyncId(le,oe,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ze,ye,N)=>{"use strict";N.d(ye,{v:()=>P});var f=N(6063);class Q{constructor(ne,ae=Q.now){this.schedulerActionCtor=ne,this.now=ae}schedule(ne,ae=0,oe){return new this.schedulerActionCtor(this,ne).schedule(oe,ae)}}Q.now=f.l.now;class P extends Q{constructor(ne,ae=Q.now){super(ne,ae),this.actions=[],this._active=!1}flush(ne){const{actions:ae}=this;if(this._active)return void ae.push(ne);let oe;this._active=!0;do{if(oe=ne.execute(ne.state,ne.delay))break}while(ne=ae.shift());if(this._active=!1,oe){for(;ne=ae.shift();)ne.unsubscribe();throw oe}}}},4986:(Ze,ye,N)=>{"use strict";N.d(ye,{z:()=>P});var f=N(4408);const P=new(N(7565).v)(f.o)},6063:(Ze,ye,N)=>{"use strict";N.d(ye,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},3410:(Ze,ye,N)=>{"use strict";N.d(ye,{z:()=>f});const f={setTimeout(Q,P,...ie){const{delegate:ne}=f;return ne?.setTimeout?ne.setTimeout(Q,P,...ie):setTimeout(Q,P,...ie)},clearTimeout(Q){const{delegate:P}=f;return(P?.clearTimeout||clearTimeout)(Q)},delegate:void 0}},2202:(Ze,ye,N)=>{"use strict";N.d(ye,{h:()=>Q});const Q=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ze,ye,N)=>{"use strict";N.d(ye,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Ze,ye,N)=>{"use strict";N.d(ye,{_6:()=>ae,jO:()=>ie,yG:()=>ne});var f=N(576);function P(oe){return oe[oe.length-1]}function ie(oe){return(0,f.m)(P(oe))?oe.pop():void 0}function ne(oe){return function Q(oe){return oe&&(0,f.m)(oe.schedule)}(P(oe))?oe.pop():void 0}function ae(oe,le){return"number"==typeof P(oe)?oe.pop():le}},8737:(Ze,ye,N)=>{"use strict";function f(Q,P){if(Q){const ie=Q.indexOf(P);0<=ie&&Q.splice(ie,1)}}N.d(ye,{P:()=>f})},3888:(Ze,ye,N)=>{"use strict";function f(Q){const ie=Q(ne=>{Error.call(ne),ne.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}N.d(ye,{d:()=>f})},2806:(Ze,ye,N)=>{"use strict";N.d(ye,{O:()=>ie,x:()=>P});var f=N(2416);let Q=null;function P(ne){if(f.v.useDeprecatedSynchronousErrorHandling){const ae=!Q;if(ae&&(Q={errorThrown:!1,error:null}),ne(),ae){const{errorThrown:oe,error:le}=Q;if(Q=null,oe)throw le}}else ne()}function ie(ne){f.v.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=ne)}},9672:(Ze,ye,N)=>{"use strict";function f(Q,P,ie,ne=0,ae=!1){const oe=P.schedule(function(){ie(),ae?Q.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(Q.add(oe),!ae)return oe}N.d(ye,{f:()=>f})},4671:(Ze,ye,N)=>{"use strict";function f(Q){return Q}N.d(ye,{y:()=>f})},1144:(Ze,ye,N)=>{"use strict";N.d(ye,{z:()=>f});const f=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},2206:(Ze,ye,N)=>{"use strict";N.d(ye,{D:()=>Q});var f=N(576);function Q(P){return Symbol.asyncIterator&&(0,f.m)(P?.[Symbol.asyncIterator])}},576:(Ze,ye,N)=>{"use strict";function f(Q){return"function"==typeof Q}N.d(ye,{m:()=>f})},3670:(Ze,ye,N)=>{"use strict";N.d(ye,{c:()=>P});var f=N(8822),Q=N(576);function P(ie){return(0,Q.m)(ie[f.L])}},6495:(Ze,ye,N)=>{"use strict";N.d(ye,{T:()=>P});var f=N(2202),Q=N(576);function P(ie){return(0,Q.m)(ie?.[f.h])}},8239:(Ze,ye,N)=>{"use strict";N.d(ye,{t:()=>Q});var f=N(576);function Q(P){return(0,f.m)(P?.then)}},3260:(Ze,ye,N)=>{"use strict";N.d(ye,{L:()=>ie,Q:()=>P});var f=N(655),Q=N(576);function P(ne){return(0,f.FC)(this,arguments,function*(){const oe=ne.getReader();try{for(;;){const{value:le,done:ue}=yield(0,f.qq)(oe.read());if(ue)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(le)}}finally{oe.releaseLock()}})}function ie(ne){return(0,Q.m)(ne?.getReader)}},4482:(Ze,ye,N)=>{"use strict";N.d(ye,{A:()=>Q,e:()=>P});var f=N(576);function Q(ie){return(0,f.m)(ie?.lift)}function P(ie){return ne=>{if(Q(ne))return ne.lift(function(ae){try{return ie(ae,this)}catch(oe){this.error(oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Ze,ye,N)=>{"use strict";function f(){}N.d(ye,{Z:()=>f})},9635:(Ze,ye,N)=>{"use strict";N.d(ye,{U:()=>P,z:()=>Q});var f=N(4671);function Q(...ie){return P(ie)}function P(ie){return 0===ie.length?f.y:1===ie.length?ie[0]:function(ae){return ie.reduce((oe,le)=>le(oe),ae)}}},7849:(Ze,ye,N)=>{"use strict";N.d(ye,{h:()=>P});var f=N(2416),Q=N(3410);function P(ie){Q.z.setTimeout(()=>{const{onUnhandledError:ne}=f.v;if(!ne)throw ie;ne(ie)})}},4532:(Ze,ye,N)=>{"use strict";function f(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(ye,{z:()=>f})},9163:Ze=>{function ye(N){var f=new Error("Cannot find module '"+N+"'");throw f.code="MODULE_NOT_FOUND",f}ye.keys=()=>[],ye.resolve=ye,ye.id=9163,Ze.exports=ye},655:(Ze,ye,N)=>{"use strict";function ie(G,Y){var re={};for(var X in G)Object.prototype.hasOwnProperty.call(G,X)&&Y.indexOf(X)<0&&(re[X]=G[X]);if(null!=G&&"function"==typeof Object.getOwnPropertySymbols){var Re=0;for(X=Object.getOwnPropertySymbols(G);Re<X.length;Re++)Y.indexOf(X[Re])<0&&Object.prototype.propertyIsEnumerable.call(G,X[Re])&&(re[X[Re]]=G[X[Re]])}return re}function le(G,Y,re,X){return new(re||(re=Promise))(function(Me,nt){function Rt(Pt){try{Ve(X.next(Pt))}catch(rn){nt(rn)}}function wt(Pt){try{Ve(X.throw(Pt))}catch(rn){nt(rn)}}function Ve(Pt){Pt.done?Me(Pt.value):function Re(Me){return Me instanceof re?Me:new re(function(nt){nt(Me)})}(Pt.value).then(Rt,wt)}Ve((X=X.apply(G,Y||[])).next())})}function fe(G){return this instanceof fe?(this.v=G,this):new fe(G)}function de(G,Y,re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,X=re.apply(G,Y||[]),Me=[];return Re={},nt("next"),nt("throw"),nt("return"),Re[Symbol.asyncIterator]=function(){return this},Re;function nt(Nt){X[Nt]&&(Re[Nt]=function(Ot){return new Promise(function(Vn,_t){Me.push([Nt,Ot,Vn,_t])>1||Rt(Nt,Ot)})})}function Rt(Nt,Ot){try{!function wt(Nt){Nt.value instanceof fe?Promise.resolve(Nt.value.v).then(Ve,Pt):rn(Me[0][2],Nt)}(X[Nt](Ot))}catch(Vn){rn(Me[0][3],Vn)}}function Ve(Nt){Rt("next",Nt)}function Pt(Nt){Rt("throw",Nt)}function rn(Nt,Ot){Nt(Ot),Me.shift(),Me.length&&Rt(Me[0][0],Me[0][1])}}function qe(G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var re,Y=G[Symbol.asyncIterator];return Y?Y.call(G):(G=function Z(G){var Y="function"==typeof Symbol&&Symbol.iterator,re=Y&&G[Y],X=0;if(re)return re.call(G);if(G&&"number"==typeof G.length)return{next:function(){return G&&X>=G.length&&(G=void 0),{value:G&&G[X++],done:!G}}};throw new TypeError(Y?"Object is not iterable.":"Symbol.iterator is not defined.")}(G),re={},X("next"),X("throw"),X("return"),re[Symbol.asyncIterator]=function(){return this},re);function X(Me){re[Me]=G[Me]&&function(nt){return new Promise(function(Rt,wt){!function Re(Me,nt,Rt,wt){Promise.resolve(wt).then(function(Ve){Me({value:Ve,done:Rt})},nt)}(Rt,wt,(nt=G[Me](nt)).done,nt.value)})}}}N.d(ye,{FC:()=>de,KL:()=>qe,_T:()=>ie,mG:()=>le,qq:()=>fe})},4650:(Ze,ye,N)=>{"use strict";N.d(ye,{$8M:()=>$a,$Z:()=>jf,AFp:()=>gC,ALo:()=>b_,AaK:()=>le,CHM:()=>Ia,CRH:()=>zp,CZH:()=>eg,CqO:()=>Fv,D6c:()=>VC,EJc:()=>Ns,EpF:()=>$m,F4k:()=>kv,FYo:()=>T,FiY:()=>Se,G48:()=>xh,GfV:()=>Oe,Gpc:()=>H,JOm:()=>so,KtG:()=>ba,LFG:()=>zt,LSH:()=>uc,Lbi:()=>Nh,Lck:()=>BE,MMx:()=>xp,NdJ:()=>Gm,O4$:()=>Ul,OlP:()=>Gt,Oqu:()=>Wc,PXZ:()=>VD,Q6J:()=>ih,QGY:()=>Wm,QP$:()=>sn,Qsj:()=>R,R0b:()=>Ji,RDi:()=>Xh,Rgc:()=>rd,SBq:()=>d,Sil:()=>vC,Suo:()=>F_,TTD:()=>oi,TgZ:()=>up,X6Q:()=>Ti,XFs:()=>Ue,Xpm:()=>Ce,Xts:()=>Od,Y36:()=>Jo,YKP:()=>UE,YNc:()=>Vm,Yjl:()=>ee,Yz7:()=>Ot,Z0I:()=>fo,ZZ4:()=>dy,_Bn:()=>VE,_UZ:()=>Bm,_Vd:()=>qo,_c5:()=>sI,_uU:()=>ch,aQg:()=>hy,c2e:()=>_C,cJS:()=>_t,cg1:()=>ol,dDg:()=>kD,dqk:()=>Ht,eFA:()=>TC,ekj:()=>_u,eoX:()=>ey,f3M:()=>w,g9A:()=>Ph,h0i:()=>nd,hGG:()=>Sb,iGM:()=>ad,ifc:()=>ze,ip1:()=>Xp,jDz:()=>y_,kL8:()=>qc,kcU:()=>zu,lG2:()=>ge,lcZ:()=>Bp,lqb:()=>Yn,lri:()=>ng,n5z:()=>hi,oAB:()=>L,oxw:()=>jv,q4F:()=>Be,qLn:()=>Ud,qOj:()=>ip,qZA:()=>oh,rWj:()=>X_,sBO:()=>WD,sIi:()=>eh,s_b:()=>sd,soG:()=>Oh,tb:()=>tg,tp0:()=>lt,uIk:()=>rh,vHH:()=>_e,vpe:()=>Ki,wAp:()=>it,xp6:()=>iv,z2F:()=>ig,zSh:()=>Ya,zs3:()=>tl});var f=N(7579),Q=N(727),P=N(9751),ie=N(6451),ne=N(3099);function ae(r){for(let i in r)if(r[i]===ae)return i;throw Error("Could not find renamed property on target object.")}function oe(r,i){for(const o in i)i.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=i[o])}function le(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(le).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function ue(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const j=ae({__forward_ref__:ae});function H(r){return r.__forward_ref__=H,r.toString=function(){return le(this())},r}function Z(r){return Ne(r)?r():r}function Ne(r){return"function"==typeof r&&r.hasOwnProperty(j)&&r.__forward_ref__===H}class _e extends Error{constructor(i,o){super(function We(r,i){return`NG0${Math.abs(r)}${i?": "+i.trim():""}`}(i,o)),this.code=i}}function fe(r){return"string"==typeof r?r:null==r?"":String(r)}function pe(r,i){throw new _e(-201,!1)}function wt(r,i){null==r&&function Ve(r,i,o,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${o} ${l} ${i} <=Actual]`))}(i,r,null,"!=")}function Ot(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function _t(r){return{providers:r.providers||[],imports:r.imports||[]}}function xt(r){return Pr(r,Nr)||Pr(r,mr)}function fo(r){return null!==xt(r)}function Pr(r,i){return r.hasOwnProperty(i)?r[i]:null}function Ai(r){return r&&(r.hasOwnProperty(cr)||r.hasOwnProperty(es))?r[cr]:null}const Nr=ae({\u0275prov:ae}),cr=ae({\u0275inj:ae}),mr=ae({ngInjectableDef:ae}),es=ae({ngInjectorDef:ae});var Ue=(()=>((Ue=Ue||{})[Ue.Default=0]="Default",Ue[Ue.Host=1]="Host",Ue[Ue.Self=2]="Self",Ue[Ue.SkipSelf=4]="SkipSelf",Ue[Ue.Optional=8]="Optional",Ue))();let dr;function An(r){const i=dr;return dr=r,i}function _r(r,i,o){const l=xt(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&Ue.Optional?null:void 0!==i?i:void pe(le(r))}function un(r){return{toString:r}.toString()}var In=(()=>((In=In||{})[In.OnPush=0]="OnPush",In[In.Default=1]="Default",In))(),ze=(()=>{return(r=ze||(ze={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",ze;var r})();const Ht=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Jn={},ht=[],ri=ae({\u0275cmp:ae}),kt=ae({\u0275dir:ae}),Gr=ae({\u0275pipe:ae}),Ft=ae({\u0275mod:ae}),Sn=ae({\u0275fac:ae}),Xn=ae({__NG_ELEMENT_ID__:ae});let He=0;function Ce(r){return un(()=>{const o=!0===r.standalone,l={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===In.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&r.dependencies||null,getStandaloneInjector:null,selectors:r.selectors||ht,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||ze.Emulated,id:"c"+He++,styles:r.styles||ht,_:null,setInput:null,schemas:r.schemas||null,tView:null},h=r.dependencies,_=r.features;return u.inputs=z(r.inputs,l),u.outputs=z(r.outputs),_&&_.forEach(E=>E(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map(ot).filter(at):null,u.pipeDefs=h?()=>("function"==typeof h?h():h).map(Ct).filter(at):null,u})}function ot(r){return Pe(r)||Je(r)}function at(r){return null!==r}function L(r){return un(()=>({type:r.type,bootstrap:r.bootstrap||ht,declarations:r.declarations||ht,imports:r.imports||ht,exports:r.exports||ht,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function z(r,i){if(null==r)return Jn;const o={};for(const l in r)if(r.hasOwnProperty(l)){let u=r[l],h=u;Array.isArray(u)&&(h=u[1],u=u[0]),o[u]=l,i&&(i[u]=h)}return o}const ge=Ce;function ee(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function Pe(r){return r[ri]||null}function Je(r){return r[kt]||null}function Ct(r){return r[Gr]||null}function sn(r){const i=Pe(r)||Je(r)||Ct(r);return null!==i&&i.standalone}function Vt(r,i){const o=r[Ft]||null;if(!o&&!0===i)throw new Error(`Type ${le(r)} does not have '\u0275mod' property.`);return o}function xn(r){return Array.isArray(r)&&"object"==typeof r[1]}function tr(r){return Array.isArray(r)&&!0===r[1]}function fa(r){return 0!=(8&r.flags)}function go(r){return 2==(2&r.flags)}function wl(r){return 1==(1&r.flags)}function Zn(r){return null!==r.template}function hd(r){return 0!=(256&r[2])}function Zr(r,i){return r.hasOwnProperty(Sn)?r[Sn]:null}class si{constructor(i,o,l){this.previousValue=i,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function oi(){return ss}function ss(r){return r.type.prototype.ngOnChanges&&(r.setInput=ga),mo}function mo(){const r=gd(this),i=r?.current;if(i){const o=r.previous;if(o===Jn)r.previous=i;else for(let l in i)o[l]=i[l];r.current=null,this.ngOnChanges(i)}}function ga(r,i,o,l){const u=gd(r)||function os(r,i){return r[Al]=i}(r,{previous:Jn,current:null}),h=u.current||(u.current={}),_=u.previous,E=this.declaredInputs[o],C=_[E];h[E]=new si(C&&C.currentValue,i,_===Jn),r[l]=i}oi.ngInherit=!0;const Al="__ngSimpleChanges__";function gd(r){return r[Al]||null}function cn(r){for(;Array.isArray(r);)r=r[0];return r}function vr(r,i){return cn(i[r])}function nr(r,i){return cn(i[r.index])}function Ls(r,i){return r.data[i]}function Mt(r,i){const o=i[r];return xn(o)?o:o[0]}function as(r){return 64==(64&r[2])}function kr(r,i){return null==i?null:r[i]}function Ea(r){r[18]=0}function on(r,i){r[5]+=i;let o=r,l=r[3];for(;null!==l&&(1===i&&1===o[5]||-1===i&&0===o[5]);)l[5]+=i,o=l,l=l[3]}const ft={lFrame:Ll(null),bindingsEnabled:!0};function ui(){return ft.bindingsEnabled}function we(){return ft.lFrame.lView}function Dt(){return ft.lFrame.tView}function Ia(r){return ft.lFrame.contextLView=r,r[8]}function ba(r){return ft.lFrame.contextLView=null,r}function dn(){let r=Ta();for(;null!==r&&64===r.type;)r=r.parent;return r}function Ta(){return ft.lFrame.currentTNode}function Er(r,i){const o=ft.lFrame;o.currentTNode=r,o.isParent=i}function yo(){return ft.lFrame.isParent}function ls(){return ft.lFrame.bindingIndex++}function Gh(r,i){const o=ft.lFrame;o.bindingIndex=o.bindingRootIndex=r,Aa(i)}function Aa(r){ft.lFrame.currentDirectiveIndex=r}function xl(){return ft.lFrame.currentQueryIndex}function Do(r){ft.lFrame.currentQueryIndex=r}function kl(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function Sa(r,i,o){if(o&Ue.SkipSelf){let u=i,h=r;for(;!(u=u.parent,null!==u||o&Ue.Host||(u=kl(h),null===u||(h=h[15],10&u.type))););if(null===u)return!1;i=u,r=h}const l=ft.lFrame=Fl();return l.currentTNode=i,l.lView=r,!0}function Ma(r){const i=Fl(),o=r[1];ft.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function Fl(){const r=ft.lFrame,i=null===r?null:r.child;return null===i?Ll(r):i}function Ll(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function Vl(){const r=ft.lFrame;return ft.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Gu=Vl;function us(){const r=Vl();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Pn(){return ft.lFrame.selectedIndex}function fr(r){ft.lFrame.selectedIndex=r}function Yt(){const r=ft.lFrame;return Ls(r.tView,r.selectedIndex)}function Ul(){ft.lFrame.currentNamespace="svg"}function zu(){!function jl(){ft.lFrame.currentNamespace=null}()}function Na(r,i){for(let o=i.directiveStart,l=i.directiveEnd;o<l;o++){const h=r.data[o].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:b,ngOnDestroy:M}=h;_&&(r.contentHooks||(r.contentHooks=[])).push(-o,_),E&&((r.contentHooks||(r.contentHooks=[])).push(o,E),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,E)),C&&(r.viewHooks||(r.viewHooks=[])).push(-o,C),b&&((r.viewHooks||(r.viewHooks=[])).push(o,b),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,b)),null!=M&&(r.destroyHooks||(r.destroyHooks=[])).push(o,M)}}function ds(r,i,o){Bs(r,i,3,o)}function Us(r,i,o,l){(3&r[2])===o&&Bs(r,i,o,l)}function qu(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function Bs(r,i,o,l){const h=l??-1,_=i.length-1;let E=0;for(let C=void 0!==l?65535&r[18]:0;C<_;C++)if("number"==typeof i[C+1]){if(E=i[C],null!=l&&E>=l)break}else i[C]<0&&(r[18]+=65536),(E<h||-1==h)&&(Ku(r,o,i,C),r[18]=(4294901760&r[18])+C+2),C++}function Ku(r,i,o,l){const u=o[l]<0,h=o[l+1],E=r[u?-o[l]:o[l]];if(u){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{h.call(E)}finally{}}}else try{h.call(E)}finally{}}class ki{constructor(i,o,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function Hs(r,i,o){let l=0;for(;l<o.length;){const u=o[l];if("number"==typeof u){if(0!==u)break;l++;const h=o[l++],_=o[l++],E=o[l++];r.setAttribute(i,_,E,h)}else{const h=u,_=o[++l];Fa(h)?r.setProperty(i,h,_):r.setAttribute(i,h,_),l++}}return l}function fs(r){return 3===r||4===r||6===r}function Fa(r){return 64===r.charCodeAt(0)}function Io(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let l=0;l<i.length;l++){const u=i[l];"number"==typeof u?o=u:0===o||Qu(r,o,u,null,-1===o||2===o?i[++l]:null)}}return r}function Qu(r,i,o,l,u){let h=0,_=r.length;if(-1===i)_=-1;else for(;h<r.length;){const E=r[h++];if("number"==typeof E){if(E===i){_=-1;break}if(E>i){_=h-1;break}}}for(;h<r.length;){const E=r[h];if("number"==typeof E)break;if(E===o){if(null===l)return void(null!==u&&(r[h+1]=u));if(l===r[h+1])return void(r[h+2]=u)}h++,null!==l&&h++,null!==u&&h++}-1!==_&&(r.splice(_,0,i),h=_+1),r.splice(h++,0,o),null!==l&&r.splice(h++,0,l),null!==u&&r.splice(h++,0,u)}function Ju(r){return-1!==r}function kn(r){return 32767&r}function To(r,i){let o=function bo(r){return r>>16}(r),l=i;for(;o>0;)l=l[15],o--;return l}let Kr=!0;function Ao(r){const i=Kr;return Kr=r,i}let gn=0;const Fr={};function ps(r,i){const o=Va(r,i);if(-1!==o)return o;const l=i[1];l.firstCreatePass&&(r.injectorIndex=i.length,Mo(l.data,r),Mo(i,null),Mo(l.blueprint,null));const u=Ua(r,i),h=r.injectorIndex;if(Ju(u)){const _=kn(u),E=To(u,i),C=E[1].data;for(let b=0;b<8;b++)i[h+b]=E[_+b]|C[_+b]}return i[h+8]=u,h}function Mo(r,i){r.push(0,0,0,0,0,0,0,0,i)}function Va(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function Ua(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,l=null,u=i;for(;null!==u;){if(l=Gs(u),null===l)return-1;if(o++,u=u[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function Fi(r,i,o){!function La(r,i,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(Xn)&&(l=o[Xn]),null==l&&(l=o[Xn]=gn++);const u=255&l;i.data[r+(u>>5)]|=1<<u}(r,i,o)}function Li(r,i,o){if(o&Ue.Optional||void 0!==r)return r;pe()}function Ba(r,i,o,l){if(o&Ue.Optional&&void 0===l&&(l=null),0==(o&(Ue.Self|Ue.Host))){const u=r[9],h=An(void 0);try{return u?u.get(i,l,o&Ue.Optional):_r(i,l,o&Ue.Optional)}finally{An(h)}}return Li(l,0,o)}function gs(r,i,o,l=Ue.Default,u){if(null!==r){if(1024&i[2]){const _=function Ws(r,i,o,l,u){let h=r,_=i;for(;null!==h&&null!==_&&1024&_[2]&&!(256&_[2]);){const E=Ro(h,_,o,l|Ue.Self,Fr);if(E!==Fr)return E;let C=h.parent;if(!C){const b=_[21];if(b){const M=b.get(o,Fr,l);if(M!==Fr)return M}C=Gs(_),_=_[15]}h=C}return u}(r,i,o,l,Fr);if(_!==Fr)return _}const h=Ro(r,i,o,l,Fr);if(h!==Fr)return h}return Ba(i,o,l,u)}function Ro(r,i,o,l,u){const h=function $l(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(Xn)?r[Xn]:void 0;return"number"==typeof i?i>=0?255&i:Wl:i}(o);if("function"==typeof h){if(!Sa(i,r,l))return l&Ue.Host?Li(u,0,l):Ba(i,o,l,u);try{const _=h(l);if(null!=_||l&Ue.Optional)return _;pe()}finally{Gu()}}else if("number"==typeof h){let _=null,E=Va(r,i),C=-1,b=l&Ue.Host?i[16][6]:null;for((-1===E||l&Ue.SkipSelf)&&(C=-1===E?Ua(r,i):i[E+8],-1!==C&&Po(l,!1)?(_=i[1],E=kn(C),i=To(C,i)):E=-1);-1!==E;){const M=i[1];if(ja(h,E,M.data)){const O=tc(E,i,o,_,l,b);if(O!==Fr)return O}C=i[E+8],-1!==C&&Po(l,i[1].data[E+8]===b)&&ja(h,E,i)?(_=M,E=kn(C),i=To(C,i)):E=-1}}return u}function tc(r,i,o,l,u,h){const _=i[1],E=_.data[r+8],M=$s(E,_,o,null==l?go(E)&&Kr:l!=_&&0!=(3&E.type),u&Ue.Host&&h===E);return null!==M?di(i,_,M,E):Fr}function $s(r,i,o,l,u){const h=r.providerIndexes,_=i.data,E=1048575&h,C=r.directiveStart,M=h>>20,$=u?E+M:r.directiveEnd;for(let J=l?E:E+M;J<$;J++){const ce=_[J];if(J<C&&o===ce||J>=C&&ce.type===o)return J}if(u){const J=_[C];if(J&&Zn(J)&&J.type===o)return C}return null}function di(r,i,o,l){let u=r[o];const h=i.data;if(function hs(r){return r instanceof ki}(u)){const _=u;_.resolving&&function je(r,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${r}`:"";throw new _e(-200,`Circular dependency in DI detected for ${r}${o}`)}(function de(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():fe(r)}(h[o]));const E=Ao(_.canSeeViewProviders);_.resolving=!0;const C=_.injectImpl?An(_.injectImpl):null;Sa(r,l,Ue.Default);try{u=r[o]=_.factory(void 0,h,r,l),i.firstCreatePass&&o>=l.directiveStart&&function Zu(r,i,o){const{ngOnChanges:l,ngOnInit:u,ngDoCheck:h}=i.type.prototype;if(l){const _=ss(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,_),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,_)}u&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,u),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,h))}(o,h[o],i)}finally{null!==C&&An(C),Ao(E),_.resolving=!1,Gu()}}return u}function ja(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function Po(r,i){return!(r&Ue.Self||r&Ue.Host&&i)}class ms{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,l){return gs(this._tNode,this._lView,i,l,o)}}function Wl(){return new ms(dn(),we())}function hi(r){return un(()=>{const i=r.prototype.constructor,o=i[Sn]||Ha(i),l=Object.prototype;let u=Object.getPrototypeOf(r.prototype).constructor;for(;u&&u!==l;){const h=u[Sn]||Ha(u);if(h&&h!==o)return h;u=Object.getPrototypeOf(u)}return h=>new h})}function Ha(r){return Ne(r)?()=>{const i=Ha(Z(r));return i&&i()}:Zr(r)}function Gs(r){const i=r[1],o=i.type;return 2===o?i.declTNode:1===o?r[6]:null}function $a(r){return function ec(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const l=o.length;let u=0;for(;u<l;){const h=o[u];if(fs(h))break;if(0===h)u+=2;else if("number"==typeof h)for(u++;u<l&&"string"==typeof o[u];)u++;else{if(h===i)return o[u+1];u+=2}}}return null}(dn(),r)}const Vi="__parameters__";function qs(r,i,o){return un(()=>{const l=function Wa(r){return function(...o){if(r){const l=r(...o);for(const u in l)this[u]=l[u]}}}(i);function u(...h){if(this instanceof u)return l.apply(this,h),this;const _=new u(...h);return E.annotation=_,E;function E(C,b,M){const O=C.hasOwnProperty(Vi)?C[Vi]:Object.defineProperty(C,Vi,{value:[]})[Vi];for(;O.length<=M;)O.push(null);return(O[M]=O[M]||[]).push(_),C}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=r,u.annotationCls=u,u})}class Gt{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Ot({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function en(r,i){void 0===i&&(i=r);for(let o=0;o<r.length;o++){let l=r[o];Array.isArray(l)?(i===r&&(i=r.slice(0,o)),en(l,i)):i!==r&&i.push(l)}return i}function Lr(r,i){r.forEach(o=>Array.isArray(o)?Lr(o,i):i(o))}function Oo(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function Kn(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function Ye(r,i,o){let l=Bi(r,i);return l>=0?r[1|l]=o:(l=~l,function zl(r,i,o,l){let u=r.length;if(u==i)r.push(o,l);else if(1===u)r.push(l,r[0]),r[0]=o;else{for(u--,r.push(r[u-1],r[u]);u>i;)r[u]=r[u-2],u--;r[i]=o,r[i+1]=l}}(r,l,i,o)),l}function ko(r,i){const o=Bi(r,i);if(o>=0)return r[1|o]}function Bi(r,i){return function Ys(r,i,o){let l=0,u=r.length>>o;for(;u!==l;){const h=l+(u-l>>1),_=r[h<<o];if(i===_)return h<<o;_>i?u=h:l=h+1}return~(u<<o)}(r,i,1)}const Vr={},Vo="__NG_DI_FLAG__",Js="ngTempTokenPath",gi=/\n/gm,Hn="__source";let Hi;function mi(r){const i=Hi;return Hi=r,i}function _n(r,i=Ue.Default){if(void 0===Hi)throw new _e(-203,!1);return null===Hi?_r(r,void 0,i):Hi.get(r,i&Ue.Optional?null:void 0,i)}function zt(r,i=Ue.Default){return(function ni(){return dr}()||_n)(Z(r),i)}function w(r,i=Ue.Default){return"number"!=typeof i&&(i=0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)),zt(r,i)}function D(r){const i=[];for(let o=0;o<r.length;o++){const l=Z(r[o]);if(Array.isArray(l)){if(0===l.length)throw new _e(900,!1);let u,h=Ue.Default;for(let _=0;_<l.length;_++){const E=l[_],C=k(E);"number"==typeof C?-1===C?u=E.token:h|=C:u=E}i.push(zt(u,h))}else i.push(zt(l))}return i}function A(r,i){return r[Vo]=i,r.prototype[Vo]=i,r}function k(r){return r[Vo]}const Se=A(qs("Optional"),8),lt=A(qs("SkipSelf"),4);let Td;function Xh(r){Td=r}class sc{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Xr(r){return r instanceof sc?r.changingThisBreaksApplicationSecurity:r}const Ho=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var yn=(()=>((yn=yn||{})[yn.NONE=0]="NONE",yn[yn.HTML=1]="HTML",yn[yn.STYLE=2]="STYLE",yn[yn.SCRIPT=3]="SCRIPT",yn[yn.URL=4]="URL",yn[yn.RESOURCE_URL=5]="RESOURCE_URL",yn))();function uc(r){const i=function Ka(){const r=we();return r&&r[12]}();return i?i.sanitize(yn.URL,r)||"":function to(r,i){const o=function Sd(r){return r instanceof sc&&r.getTypeName()||null}(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}(r,"URL")?Xr(r):function Ql(r){return(r=String(r)).match(Ho)?r:"unsafe:"+r}(fe(r))}const Od=new Gt("ENVIRONMENT_INITIALIZER"),ff=new Gt("INJECTOR",-1),pf=new Gt("INJECTOR_DEF_TYPES");class gf{get(i,o=Vr){if(o===Vr){const l=new Error(`NullInjectorError: No provider for ${le(i)}!`);throw l.name="NullInjectorError",l}return o}}function mf(...r){return{\u0275providers:fc(0,r)}}function fc(r,...i){const o=[],l=new Set;let u;return Lr(i,h=>{const _=h;eu(_,o,[],l)&&(u||(u=[]),u.push(_))}),void 0!==u&&pc(u,o),o}function pc(r,i){for(let o=0;o<r.length;o++){const{providers:u}=r[o];Lr(u,h=>{i.push(h)})}}function eu(r,i,o,l){if(!(r=Z(r)))return!1;let u=null,h=Ai(r);const _=!h&&Pe(r);if(h||_){if(_&&!_.standalone)return!1;u=r}else{const C=r.ngModule;if(h=Ai(C),!h)return!1;u=C}const E=l.has(u);if(_){if(E)return!1;if(l.add(u),_.dependencies){const C="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const b of C)eu(b,i,o,l)}}else{if(!h)return!1;{if(null!=h.imports&&!E){let b;l.add(u);try{Lr(h.imports,M=>{eu(M,i,o,l)&&(b||(b=[]),b.push(M))})}finally{}void 0!==b&&pc(b,i)}if(!E){const b=Zr(u)||(()=>new u);i.push({provide:u,useFactory:b,deps:ht},{provide:pf,useValue:u,multi:!0},{provide:Od,useValue:()=>zt(u),multi:!0})}const C=h.providers;null==C||E||Lr(C,M=>{i.push(M)})}}return u!==r&&void 0!==r.providers}const gc=ae({provide:String,useValue:ae});function tu(r){return null!==r&&"object"==typeof r&&gc in r}function Br(r){return"function"==typeof r}const Ya=new Gt("Set Injector scope."),Qa={},zo={};let nu;function mc(){return void 0===nu&&(nu=new gf),nu}class Yn{}class _c extends Yn{constructor(i,o,l,u){super(),this.parent=o,this.source=l,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ro(i,_=>this.processProvider(_)),this.records.set(ff,Ln(void 0,this)),u.has("environment")&&this.records.set(Yn,Ln(void 0,this));const h=this.records.get(Ya);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(pf.multi,ht,Ue.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=mi(this),l=An(void 0);try{return i()}finally{mi(o),An(l)}}get(i,o=Vr,l=Ue.Default){this.assertNotDestroyed();const u=mi(this),h=An(void 0);try{if(!(l&Ue.SkipSelf)){let E=this.records.get(i);if(void 0===E){const C=function bg(r){return"function"==typeof r||"object"==typeof r&&r instanceof Gt}(i)&&xt(i);E=C&&this.injectableDefInScope(C)?Ln(ru(i),Qa):null,this.records.set(i,E)}if(null!=E)return this.hydrate(i,E)}return(l&Ue.Self?mc():this.parent).get(i,o=l&Ue.Optional&&o===Vr?null:o)}catch(_){if("NullInjectorError"===_.name){if((_[Js]=_[Js]||[]).unshift(le(i)),u)throw _;return function q(r,i,o,l){const u=r[Js];throw i[Hn]&&u.unshift(i[Hn]),r.message=function te(r,i,o,l=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let u=le(i);if(Array.isArray(i))u=i.map(le).join(" -> ");else if("object"==typeof i){let h=[];for(let _ in i)if(i.hasOwnProperty(_)){let E=i[_];h.push(_+":"+("string"==typeof E?JSON.stringify(E):le(E)))}u=`{${h.join(", ")}}`}return`${o}${l?"("+l+")":""}[${u}]: ${r.replace(gi,"\n  ")}`}("\n"+r.message,u,o,l),r.ngTokenPath=u,r[Js]=null,r}(_,i,"R3InjectorError",this.source)}throw _}finally{An(h),mi(u)}}resolveInjectorInitializers(){const i=mi(this),o=An(void 0);try{const l=this.get(Od.multi,ht,Ue.Self);for(const u of l)u()}finally{mi(i),An(o)}}toString(){const i=[],o=this.records;for(const l of o.keys())i.push(le(l));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _e(205,!1)}processProvider(i){let o=Br(i=Z(i))?i:Z(i&&i.provide);const l=function xd(r){return tu(r)?Ln(void 0,r.useValue):Ln(iu(r),Qa)}(i);if(Br(i)||!0!==i.multi)this.records.get(o);else{let u=this.records.get(o);u||(u=Ln(void 0,Qa,!0),u.factory=()=>D(u.multi),this.records.set(o,u)),o=i,u.multi.push(i)}this.records.set(o,l)}hydrate(i,o){return o.value===Qa&&(o.value=zo,o.value=o.factory()),"object"==typeof o.value&&o.value&&function kd(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=Z(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function ru(r){const i=xt(r),o=null!==i?i.factory:Zr(r);if(null!==o)return o;if(r instanceof Gt)throw new _e(204,!1);if(r instanceof Function)return function yf(r){const i=r.length;if(i>0)throw function Ui(r,i){const o=[];for(let l=0;l<r;l++)o.push(i);return o}(i,"?"),new _e(204,!1);const o=function zn(r){const i=r&&(r[Nr]||r[mr]);if(i){const o=function Qn(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new _e(204,!1)}function iu(r,i,o){let l;if(Br(r)){const u=Z(r);return Zr(u)||ru(u)}if(tu(r))l=()=>Z(r.useValue);else if(function Ir(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(...D(r.deps||[]));else if(function rr(r){return!(!r||!r.useExisting)}(r))l=()=>zt(Z(r.useExisting));else{const u=Z(r&&(r.useClass||r.provide));if(!function Zo(r){return!!r.deps}(r))return Zr(u)||ru(u);l=()=>new u(...D(r.deps))}return l}function Ln(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function _i(r){return!!r.\u0275providers}function ro(r,i){for(const o of r)Array.isArray(o)?ro(o,i):_i(o)?ro(o.\u0275providers,i):i(o)}class yc{}class Cc{resolveComponentFactory(i){throw function vf(r){const i=Error(`No component factory found for ${le(r)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=r,i}(i)}}let qo=(()=>{class r{}return r.NULL=new Cc,r})();function Tg(){return m(dn(),we())}function m(r,i){return new d(nr(r,i))}let d=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=Tg,r})();function p(r){return r instanceof d?r.nativeElement:r}class T{}let R=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function W(){const r=we(),o=Mt(dn().index,r);return(xn(o)?o:r)[11]}(),r})(),se=(()=>{class r{}return r.\u0275prov=Ot({token:r,providedIn:"root",factory:()=>null}),r})();class Oe{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Be=new Oe("14.2.5"),st={};function Rg(r){return r.ngOriginalError}class Ud{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Rg(i);for(;o&&Rg(o);)o=Rg(o);return o||null}}const Pg=new Map;let o0=0;const bf="__ngContext__";function ir(r,i){xn(i)?(r[bf]=i[20],function l0(r){Pg.set(r[20],r)}(i)):r[bf]=i}function Qo(r){return r instanceof Function?r():r}var so=(()=>((so=so||{})[so.Important=1]="Important",so[so.DashCase=2]="DashCase",so))();function Fg(r,i){return undefined(r,i)}function bc(r){const i=r[3];return tr(i)?i[3]:i}function Sf(r){return By(r[13])}function Mf(r){return By(r[4])}function By(r){for(;null!==r&&!tr(r);)r=r[4];return r}function Tc(r,i,o,l,u){if(null!=l){let h,_=!1;tr(l)?h=l:xn(l)&&(_=!0,l=l[0]);const E=cn(l);0===r&&null!==o?null==u?Zy(i,o,E):oo(i,o,E,u||null,!0):1===r&&null!==o?oo(i,o,E,u||null,!0):2===r?function w0(r,i,o){const l=Nf(r,i);l&&function C0(r,i,o,l){r.removeChild(i,o,l)}(r,l,i,o)}(i,E,_):3===r&&i.destroyNode(E),null!=h&&function kI(r,i,o,l,u){const h=o[7];h!==cn(o)&&Tc(i,r,l,h,u);for(let E=10;E<o.length;E++){const C=o[E];ou(C[1],C,r,i,l,h)}}(i,r,h,o,u)}}function Rf(r,i,o){return r.createElement(i,o)}function Wy(r,i){const o=r[9],l=o.indexOf(i),u=i[3];512&i[2]&&(i[2]&=-513,on(u,-1)),o.splice(l,1)}function Bg(r,i){if(r.length<=10)return;const o=10+i,l=r[o];if(l){const u=l[17];null!==u&&u!==r&&Wy(u,l),i>0&&(r[o-1][4]=l[4]);const h=Kn(r,10+i);!function Ug(r,i){ou(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(l[1],l);const _=h[19];null!==_&&_.detachView(h[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function Hd(r,i){if(!(128&i[2])){const o=i[11];o.destroyNode&&ou(r,i,o,3,null,null),function OI(r){let i=r[13];if(!i)return Pf(r[1],r);for(;i;){let o=null;if(xn(i))o=i[13];else{const l=i[10];l&&(o=l)}if(!o){for(;i&&!i[4]&&i!==r;)xn(i)&&Pf(i[1],i),i=i[3];null===i&&(i=r),xn(i)&&Pf(i[1],i),o=i&&i[4]}i=o}}(i)}}function Pf(r,i){if(!(128&i[2])){i[2]&=-65,i[2]|=128,function Hg(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let l=0;l<o.length;l+=2){const u=i[o[l]];if(!(u instanceof ki)){const h=o[l+1];if(Array.isArray(h))for(let _=0;_<h.length;_+=2){const E=u[h[_]],C=h[_+1];try{C.call(E)}finally{}}else try{h.call(u)}finally{}}}}(r,i),function jg(r,i){const o=r.cleanup,l=i[7];let u=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const _=o[h+1],E="function"==typeof _?_(i):cn(i[_]),C=l[u=o[h+2]],b=o[h+3];"boolean"==typeof b?E.removeEventListener(o[h],C,b):b>=0?l[u=b]():l[u=-b].unsubscribe(),h+=2}else{const _=l[u=o[h+1]];o[h].call(_)}if(null!==l){for(let h=u+1;h<l.length;h++)(0,l[h])();i[7]=null}}(r,i),1===i[1].type&&i[11].destroy();const o=i[17];if(null!==o&&tr(i[3])){o!==i[3]&&Wy(o,i);const l=i[19];null!==l&&l.detachView(r)}!function u0(r){Pg.delete(r[20])}(i)}}function Gy(r,i,o){return function zy(r,i,o){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return o[0];if(2&l.flags){const u=r.data[l.directiveStart].encapsulation;if(u===ze.None||u===ze.Emulated)return null}return nr(l,o)}(r,i.parent,o)}function oo(r,i,o,l,u){r.insertBefore(i,o,l,u)}function Zy(r,i,o){r.appendChild(i,o)}function qy(r,i,o,l,u){null!==l?oo(r,i,o,l,u):Zy(r,i,o)}function Nf(r,i){return r.parentNode(i)}let $g=function Yy(r,i,o){return 40&r.type?nr(r,o):null};function xf(r,i,o,l){const u=Gy(r,l,i),h=i[11],E=function Wn(r,i,o){return $g(r,i,o)}(l.parent||i[6],l,i);if(null!=u)if(Array.isArray(o))for(let C=0;C<o.length;C++)qy(h,u,o[C],E,!1);else qy(h,u,o,E,!1)}function kf(r,i){if(null!==i){const o=i.type;if(3&o)return nr(i,r);if(4&o)return Qy(-1,r[i.index]);if(8&o){const l=i.child;if(null!==l)return kf(r,l);{const u=r[i.index];return tr(u)?Qy(-1,u):cn(u)}}if(32&o)return Fg(i,r)()||cn(r[i.index]);{const l=Wg(r,i);return null!==l?Array.isArray(l)?l[0]:kf(bc(r[16]),l):kf(r,i.next)}}return null}function Wg(r,i){return null!==i?r[16][6].projection[i.projection]:null}function Qy(r,i){const o=10+r+1;if(o<i.length){const l=i[o],u=l[1].firstChild;if(null!==u)return kf(l,u)}return i[7]}function Gg(r,i,o,l,u,h,_){for(;null!=o;){const E=l[o.index],C=o.type;if(_&&0===i&&(E&&ir(cn(E),l),o.flags|=4),64!=(64&o.flags))if(8&C)Gg(r,i,o.child,l,u,h,!1),Tc(i,r,u,E,h);else if(32&C){const b=Fg(o,l);let M;for(;M=b();)Tc(i,r,u,M,h);Tc(i,r,u,E,h)}else 16&C?Wd(r,i,l,o,u,h):Tc(i,r,u,E,h);o=_?o.projectionNext:o.next}}function ou(r,i,o,l,u,h){Gg(o,l,r.firstChild,i,u,h,!1)}function Wd(r,i,o,l,u,h){const _=o[16],C=_[6].projection[l.projection];if(Array.isArray(C))for(let b=0;b<C.length;b++)Tc(i,r,u,C[b],h);else Gg(r,i,C,_[3],u,h,!0)}function au(r,i,o){r.setAttribute(i,"style",o)}function Gd(r,i,o){""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o)}function D0(r,i,o){let l=r.length;for(;;){const u=r.indexOf(i,o);if(-1===u)return u;if(0===u||r.charCodeAt(u-1)<=32){const h=i.length;if(u+h===l||r.charCodeAt(u+h)<=32)return u}o=u+1}}const zg="ng-template";function Zg(r,i,o){let l=0;for(;l<r.length;){let u=r[l++];if(o&&"class"===u){if(u=r[l],-1!==D0(u.toLowerCase(),i,0))return!0}else if(1===u){for(;l<r.length&&"string"==typeof(u=r[l++]);)if(u.toLowerCase()===i)return!0;return!1}}return!1}function ev(r){return 4===r.type&&r.value!==zg}function b0(r,i,o){return i===(4!==r.type||o?r.value:zg)}function T0(r,i,o){let l=4;const u=r.attrs||[],h=function FI(r){for(let i=0;i<r.length;i++)if(fs(r[i]))return i;return r.length}(u);let _=!1;for(let E=0;E<i.length;E++){const C=i[E];if("number"!=typeof C){if(!_)if(4&l){if(l=2|1&l,""!==C&&!b0(r,C,o)||""===C&&1===i.length){if(zi(l))return!1;_=!0}}else{const b=8&l?C:i[++E];if(8&l&&null!==r.attrs){if(!Zg(r.attrs,b,o)){if(zi(l))return!1;_=!0}continue}const O=A0(8&l?"class":C,u,ev(r),o);if(-1===O){if(zi(l))return!1;_=!0;continue}if(""!==b){let $;$=O>h?"":u[O+1].toLowerCase();const J=8&l?$:null;if(J&&-1!==D0(J,b,0)||2&l&&b!==$){if(zi(l))return!1;_=!0}}}}else{if(!_&&!zi(l)&&!zi(C))return!1;if(_&&zi(C))continue;_=!1,l=C|1&l}}return zi(l)||_}function zi(r){return 0==(1&r)}function A0(r,i,o,l){if(null===i)return-1;let u=0;if(l||!o){let h=!1;for(;u<i.length;){const _=i[u];if(_===r)return u;if(3===_||6===_)h=!0;else{if(1===_||2===_){let E=i[++u];for(;"string"==typeof E;)E=i[++u];continue}if(4===_)break;if(0===_){u+=4;continue}}u+=h?1:2}return-1}return function tv(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const l=r[o];if("number"==typeof l)return-1;if(l===i)return o;o++}return-1}(i,r)}function S0(r,i,o=!1){for(let l=0;l<i.length;l++)if(T0(r,i[l],o))return!0;return!1}function nv(r,i){return r?":not("+i.trim()+")":i}function rv(r){let i=r[0],o=1,l=2,u="",h=!1;for(;o<r.length;){let _=r[o];if("string"==typeof _)if(2&l){const E=r[++o];u+="["+_+(E.length>0?'="'+E+'"':"")+"]"}else 8&l?u+="."+_:4&l&&(u+=" "+_);else""!==u&&!zi(_)&&(i+=nv(h,u),u=""),l=_,h=h||!zi(l);o++}return""!==u&&(i+=nv(h,u)),i}const vt={};function iv(r){sv(Dt(),we(),Pn()+r,!1)}function sv(r,i,o,l){if(!l)if(3==(3&i[2])){const h=r.preOrderCheckHooks;null!==h&&ds(i,h,o)}else{const h=r.preOrderHooks;null!==h&&Us(i,h,0,o)}fr(o)}function Kg(r,i=null,o=null,l){const u=Yg(r,i,o,l);return u.resolveInjectorInitializers(),u}function Yg(r,i=null,o=null,l,u=new Set){const h=[o||ht,mf(r)];return l=l||("object"==typeof r?void 0:le(r)),new _c(h,i||mc(),l||null,u)}let tl=(()=>{class r{static create(o,l){if(Array.isArray(o))return Kg({name:""},l,o,"");{const u=o.name??"";return Kg({name:u},o.parent,o.providers,u)}}}return r.THROW_IF_NOT_FOUND=Vr,r.NULL=new gf,r.\u0275prov=Ot({token:r,providedIn:"any",factory:()=>zt(ff)}),r.__NG_ELEMENT_ID__=-1,r})();function Jo(r,i=Ue.Default){const o=we();return null===o?zt(r,i):gs(dn(),o,Z(r),i)}function jf(){throw new Error("invalid")}function Hf(r,i){return r<<17|i<<2}function Is(r){return r>>17&32767}function nm(r){return 2|r}function Xo(r){return(131068&r)>>2}function rm(r,i){return-131069&r|i<<2}function Sc(r){return 1|r}function fm(r,i){const o=r.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const u=o[l],h=o[l+1];if(-1!==h){const _=r.data[h];Do(u),_.contentQueries(2,i[h],h)}}}function qf(r,i,o,l,u,h,_,E,C,b,M){const O=i.blueprint.slice();return O[0]=u,O[2]=76|l,(null!==M||r&&1024&r[2])&&(O[2]|=1024),Ea(O),O[3]=O[15]=r,O[8]=o,O[10]=_||r&&r[10],O[11]=E||r&&r[11],O[12]=C||r&&r[12]||null,O[9]=b||r&&r[9]||null,O[6]=h,O[20]=function a0(){return o0++}(),O[21]=M,O[16]=2==i.type?r[16]:O,O}function Oc(r,i,o,l,u){let h=r.data[i];if(null===h)h=function pm(r,i,o,l,u){const h=Ta(),_=yo(),C=r.data[i]=function Cv(r,i,o,l,u,h){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?h:h&&h.parent,o,i,l,u);return null===r.firstChild&&(r.firstChild=C),null!==h&&(_?null==h.child&&null!==C.parent&&(h.child=C):null===h.next&&(h.next=C)),C}(r,i,o,l,u),function Wh(){return ft.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=o,h.value=l,h.attrs=u;const _=function Vs(){const r=ft.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();h.injectorIndex=null===_?-1:_.injectorIndex}return Er(h,!0),h}function xc(r,i,o,l){if(0===o)return-1;const u=i.length;for(let h=0;h<o;h++)i.push(l),r.blueprint.push(l),r.data.push(null);return u}function gm(r,i,o){Ma(i);try{const l=r.viewQuery;null!==l&&kc(1,l,o);const u=r.template;null!==u&&vv(r,i,u,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&fm(r,i),r.staticViewQueries&&kc(2,r.viewQuery,o);const h=r.components;null!==h&&function Z0(r,i){for(let o=0;o<i.length;o++)Tv(r,i[o])}(i,h)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{i[2]&=-5,us()}}function Kf(r,i,o,l){const u=i[2];if(128!=(128&u)){Ma(i);try{Ea(i),function Nl(r){return ft.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&vv(r,i,o,2,l);const _=3==(3&u);if(_){const b=r.preOrderCheckHooks;null!==b&&ds(i,b,null)}else{const b=r.preOrderHooks;null!==b&&Us(i,b,0,null),qu(i,0)}if(function ob(r){for(let i=Sf(r);null!==i;i=Mf(i)){if(!i[2])continue;const o=i[9];for(let l=0;l<o.length;l++){const u=o[l],h=u[3];0==(512&u[2])&&on(h,1),u[2]|=512}}}(i),function sb(r){for(let i=Sf(r);null!==i;i=Mf(i))for(let o=10;o<i.length;o++){const l=i[o],u=l[1];as(l)&&Kf(u,l,u.template,l[8])}}(i),null!==r.contentQueries&&fm(r,i),_){const b=r.contentCheckHooks;null!==b&&ds(i,b)}else{const b=r.contentHooks;null!==b&&Us(i,b,1),qu(i,1)}!function Nc(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const u=o[l];if(u<0)fr(~u);else{const h=u,_=o[++l],E=o[++l];Gh(_,h),E(2,i[h])}}}finally{fr(-1)}}(r,i);const E=r.components;null!==E&&function z0(r,i){for(let o=0;o<i.length;o++)nw(r,i[o])}(i,E);const C=r.viewQuery;if(null!==C&&kc(2,C,l),_){const b=r.viewCheckHooks;null!==b&&ds(i,b)}else{const b=r.viewHooks;null!==b&&Us(i,b,2),qu(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),i[2]&=-41,512&i[2]&&(i[2]&=-513,on(i[3],-1))}finally{us()}}}function vv(r,i,o,l,u){const h=Pn(),_=2&l;try{fr(-1),_&&i.length>22&&sv(r,i,22,!1),o(l,u)}finally{fr(h)}}function Yf(r,i,o){!ui()||(function Dv(r,i,o,l){const u=o.directiveStart,h=o.directiveEnd;r.firstCreatePass||ps(o,i),ir(l,i);const _=o.initialInputs;for(let E=u;E<h;E++){const C=r.data[E],b=Zn(C);b&&X0(i,o,C);const M=di(i,r,E,o);ir(M,i),null!==_&&ew(0,E-u,M,C,0,_),b&&(Mt(o.index,i)[8]=M)}}(r,i,o,nr(o,i)),128==(128&o.flags)&&function wm(r,i,o){const l=o.directiveStart,u=o.directiveEnd,h=o.index,_=function Ol(){return ft.lFrame.currentDirectiveIndex}();try{fr(h);for(let E=l;E<u;E++){const C=r.data[E],b=i[E];Aa(E),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&Xf(C,b)}}finally{fr(-1),Aa(_)}}(r,i,o))}function Qf(r,i,o=nr){const l=i.localNames;if(null!==l){let u=i.index+1;for(let h=0;h<l.length;h+=2){const _=l[h+1],E=-1===_?o(i,r):r[_];r[u++]=E}}}function Jf(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=mm(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function mm(r,i,o,l,u,h,_,E,C,b){const M=22+l,O=M+u,$=function q0(r,i){const o=[];for(let l=0;l<i;l++)o.push(l<r?null:vt);return o}(M,O),J="function"==typeof b?b():b;return $[1]={type:r,blueprint:$,template:o,queries:null,viewQuery:E,declTNode:i,data:$.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:C,consts:J,incompleteFirstPass:!1}}function _m(r,i,o,l){const u=Sv(i);null===o?u.push(l):(u.push(o),r.firstCreatePass&&Mv(r).push(l,u.length-1))}function ym(r,i,o){for(let l in r)if(r.hasOwnProperty(l)){const u=r[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(i,u):o[l]=[i,u]}return o}function vm(r,i){const l=i.directiveEnd,u=r.data,h=i.attrs,_=[];let E=null,C=null;for(let b=i.directiveStart;b<l;b++){const M=u[b],O=M.inputs,$=null===h||ev(i)?null:ib(O,h);_.push($),E=ym(O,b,E),C=ym(M.outputs,b,C)}null!==E&&(E.hasOwnProperty("class")&&(i.flags|=16),E.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=_,i.inputs=E,i.outputs=C}function K0(r,i){const o=Mt(i,r);16&o[2]||(o[2]|=32)}function Em(r,i,o,l){let u=!1;if(ui()){const h=function nb(r,i,o){const l=r.directiveRegistry;let u=null;if(l)for(let h=0;h<l.length;h++){const _=l[h];S0(o,_.selectors,!1)&&(u||(u=[]),Fi(ps(o,i),r,_.type),Zn(_)?(ep(r,o),u.unshift(_)):u.push(_))}return u}(r,i,o),_=null===l?null:{"":-1};if(null!==h){u=!0,J0(o,r.data.length,h.length);for(let M=0;M<h.length;M++){const O=h[M];O.providersResolver&&O.providersResolver(O)}let E=!1,C=!1,b=xc(r,i,h.length,null);for(let M=0;M<h.length;M++){const O=h[M];o.mergedAttrs=Io(o.mergedAttrs,O.hostAttrs),Iv(r,o,i,b,O),Q0(b,O,_),null!==O.contentQueries&&(o.flags|=8),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(o.flags|=128);const $=O.type.prototype;!E&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),E=!0),!C&&($.ngOnChanges||$.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),C=!0),b++}vm(r,o)}_&&function rb(r,i,o){if(i){const l=r.localNames=[];for(let u=0;u<i.length;u+=2){const h=o[i[u+1]];if(null==h)throw new _e(-301,!1);l.push(i[u],h)}}}(o,l,_)}return o.mergedAttrs=Io(o.mergedAttrs,o.attrs),u}function Cm(r,i,o,l,u,h){const _=h.hostBindings;if(_){let E=r.hostBindingOpCodes;null===E&&(E=r.hostBindingOpCodes=[]);const C=~i.index;(function Y0(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(E)!=C&&E.push(C),E.push(l,u,_)}}function Xf(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function ep(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function Q0(r,i,o){if(o){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)o[i.exportAs[l]]=r;Zn(i)&&(o[""]=r)}}function J0(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}function Iv(r,i,o,l,u){r.data[l]=u;const h=u.factory||(u.factory=Zr(u.type)),_=new ki(h,Zn(u),Jo);r.blueprint[l]=_,o[l]=_,Cm(r,i,0,l,xc(r,o,u.hostVars,vt),u)}function X0(r,i,o){const l=nr(i,r),u=Jf(o),h=r[10],_=Yd(r,qf(r,u,null,o.onPush?32:16,l,i,h,h.createRenderer(l,o),null,null,null));r[i.index]=_}function ta(r,i,o,l,u,h){const _=nr(r,i);!function bv(r,i,o,l,u,h,_){if(null==h)r.removeAttribute(i,u,o);else{const E=null==_?fe(h):_(h,l||"",u);r.setAttribute(i,u,E,o)}}(i[11],_,h,r.value,o,l,u)}function ew(r,i,o,l,u,h){const _=h[i];if(null!==_){const E=l.setInput;for(let C=0;C<_.length;){const b=_[C++],M=_[C++],O=_[C++];null!==E?l.setInput(o,O,b,M):o[M]=O}}}function ib(r,i){let o=null,l=0;for(;l<i.length;){const u=i[l];if(0!==u)if(5!==u){if("number"==typeof u)break;r.hasOwnProperty(u)&&(null===o&&(o=[]),o.push(u,r[u],i[l+1])),l+=2}else l+=2;else l+=4}return o}function tw(r,i,o,l){return new Array(r,!0,!1,i,null,0,l,o,null,null)}function nw(r,i){const o=Mt(i,r);if(as(o)){const l=o[1];48&o[2]?Kf(l,o,l.template,o[8]):o[5]>0&&tp(o)}}function tp(r){for(let l=Sf(r);null!==l;l=Mf(l))for(let u=10;u<l.length;u++){const h=l[u];if(as(h))if(512&h[2]){const _=h[1];Kf(_,h,_.template,h[8])}else h[5]>0&&tp(h)}const o=r[1].components;if(null!==o)for(let l=0;l<o.length;l++){const u=Mt(o[l],r);as(u)&&u[5]>0&&tp(u)}}function Tv(r,i){const o=Mt(i,r),l=o[1];(function Av(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(l,o),gm(l,o,o[8])}function Yd(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function np(r){for(;r;){r[2]|=32;const i=bc(r);if(hd(r)&&!i)return r;r=i}return null}function Qd(r,i,o,l=!0){const u=i[10];u.begin&&u.begin();try{Kf(r,i,r.template,o)}catch(_){throw l&&Pv(i,_),_}finally{u.end&&u.end()}}function kc(r,i,o){Do(0),i(r,o)}function Sv(r){return r[7]||(r[7]=[])}function Mv(r){return r.cleanup||(r.cleanup=[])}function Pv(r,i){const o=r[9],l=o?o.get(Ud,null):null;l&&l.handleError(i)}function Dm(r,i,o,l,u){for(let h=0;h<o.length;){const _=o[h++],E=o[h++],C=i[_],b=r.data[_];null!==b.setInput?b.setInput(C,u,l,E):C[E]=u}}function Im(r,i,o){let l=o?r.styles:null,u=o?r.classes:null,h=0;if(null!==i)for(let _=0;_<i.length;_++){const E=i[_];"number"==typeof E?h=E:1==h?u=ue(u,E):2==h&&(l=ue(l,E+": "+i[++_]+";"))}o?r.styles=l:r.stylesWithoutHost=l,o?r.classes=u:r.classesWithoutHost=u}function rp(r,i,o,l,u=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&l.push(cn(h)),tr(h))for(let E=10;E<h.length;E++){const C=h[E],b=C[1].firstChild;null!==b&&rp(C[1],C,b,l)}const _=o.type;if(8&_)rp(r,i,o.child,l);else if(32&_){const E=Fg(o,i);let C;for(;C=E();)l.push(C)}else if(16&_){const E=Wg(i,o);if(Array.isArray(E))l.push(...E);else{const C=bc(i[16]);rp(C[1],C,E,l,!0)}}o=u?o.projectionNext:o.next}return l}class Fc{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return rp(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(tr(i)){const o=i[8],l=o?o.indexOf(this):-1;l>-1&&(Bg(i,l),Kn(o,l))}this._attachedToViewContainer=!1}Hd(this._lView[1],this._lView)}onDestroy(i){_m(this._lView[1],this._lView,null,i)}markForCheck(){np(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Qd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function $y(r,i){ou(r,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new _e(902,!1);this._appRef=i}}class Nv extends Fc{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Qd(i[1],i,i[8],!1)}checkNoChanges(){}get context(){return null}}class Jd extends qo{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Pe(i);return new Lc(o,this.ngModule)}}function bm(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}class sw{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,l){const u=this.injector.get(i,st,l);return u!==st||o===st?u:this.parentInjector.get(i,o,l)}}class Lc extends yc{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function R0(r){return r.map(rv).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return bm(this.componentDef.inputs)}get outputs(){return bm(this.componentDef.outputs)}create(i,o,l,u){let h=(u=u||this.ngModule)instanceof Yn?u:u?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const _=h?new sw(i,h):i,E=_.get(T,null);if(null===E)throw new _e(407,!1);const C=_.get(se,null),b=E.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",O=l?function Ev(r,i,o){return r.selectRootElement(i,o===ze.ShadowDom)}(b,l,this.componentDef.encapsulation):Rf(E.createRenderer(null,this.componentDef),M,function iw(r){const i=r.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(M)),$=this.componentDef.onPush?288:272,J=mm(0,null,null,1,0,null,null,null,null,null),ce=qf(null,J,null,$,null,null,E,b,C,_,null);let Ae,Le;Ma(ce);try{const Qe=function xv(r,i,o,l,u,h){const _=o[1];o[22]=r;const C=Oc(_,22,2,"#host",null),b=C.mergedAttrs=i.hostAttrs;null!==b&&(Im(C,b,!0),null!==r&&(Hs(u,r,b),null!==C.classes&&Gd(u,r,C.classes),null!==C.styles&&au(u,r,C.styles)));const M=l.createRenderer(r,i),O=qf(o,Jf(i),null,i.onPush?32:16,o[22],C,l,M,h||null,null,null);return _.firstCreatePass&&(Fi(ps(C,o),_,i.type),ep(_,C),J0(C,o.length,1)),Yd(o,O),o[22]=O}(O,this.componentDef,ce,E,b);if(O)if(l)Hs(b,O,["ng-version",Be.full]);else{const{attrs:ut,classes:De}=function P0(r){const i=[],o=[];let l=1,u=2;for(;l<r.length;){let h=r[l];if("string"==typeof h)2===u?""!==h&&i.push(h,r[++l]):8===u&&o.push(h);else{if(!zi(u))break;u=h}l++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);ut&&Hs(b,O,ut),De&&De.length>0&&Gd(b,O,De.join(" "))}if(Le=Ls(J,22),void 0!==o){const ut=Le.projection=[];for(let De=0;De<this.ngContentSelectors.length;De++){const ct=o[De];ut.push(null!=ct?Array.from(ct):null)}}Ae=function Xd(r,i,o,l){const u=o[1],h=function tb(r,i,o){const l=dn();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Iv(r,l,i,xc(r,i,1,null),o),vm(r,l));const u=di(i,r,l.directiveStart,l);ir(u,i);const h=nr(l,i);return h&&ir(h,i),u}(u,o,i);if(r[8]=o[8]=h,null!==l)for(const E of l)E(h,i);if(i.contentQueries){const E=dn();i.contentQueries(1,h,E.directiveStart)}const _=dn();return!u.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(fr(_.index),Cm(o[1],_,0,_.directiveStart,_.directiveEnd,i),Xf(i,h)),h}(Qe,this.componentDef,ce,[du]),gm(J,ce,null)}finally{us()}return new Vc(this.componentType,Ae,m(Le,ce),ce,Le)}}class Vc extends class Fd{}{constructor(i,o,l,u,h){super(),this.location=l,this._rootLView=u,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new Nv(u),this.componentType=i}setInput(i,o){const l=this._tNode.inputs;let u;if(null!==l&&(u=l[i])){const h=this._rootLView;Dm(h[1],h,u,i,o),K0(h,this._tNode.index)}}get injector(){return new ms(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function du(){const r=dn();Na(we()[1],r)}function ip(r){let i=function Tm(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const l=[r];for(;i;){let u;if(Zn(r))u=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new _e(903,!1);u=i.\u0275dir}if(u){if(o){l.push(u);const _=r;_.inputs=hu(r.inputs),_.declaredInputs=hu(r.declaredInputs),_.outputs=hu(r.outputs);const E=u.hostBindings;E&&Sr(r,E);const C=u.viewQuery,b=u.contentQueries;if(C&&Am(r,C),b&&lo(r,b),oe(r.inputs,u.inputs),oe(r.declaredInputs,u.declaredInputs),oe(r.outputs,u.outputs),Zn(u)&&u.data.animation){const M=r.data;M.animation=(M.animation||[]).concat(u.data.animation)}}const h=u.features;if(h)for(let _=0;_<h.length;_++){const E=h[_];E&&E.ngInherit&&E(r),E===ip&&(o=!1)}}i=Object.getPrototypeOf(i)}!function or(r){let i=0,o=null;for(let l=r.length-1;l>=0;l--){const u=r[l];u.hostVars=i+=u.hostVars,u.hostAttrs=Io(u.hostAttrs,o=Io(o,u.hostAttrs))}}(l)}function hu(r){return r===Jn?{}:r===ht?[]:r}function Am(r,i){const o=r.viewQuery;r.viewQuery=o?(l,u)=>{i(l,u),o(l,u)}:i}function lo(r,i){const o=r.contentQueries;r.contentQueries=o?(l,u,h)=>{i(l,u,h),o(l,u,h)}:i}function Sr(r,i){const o=r.hostBindings;r.hostBindings=o?(l,u)=>{i(l,u),o(l,u)}:i}let Zi=null;function Mr(){if(!Zi){const r=Ht.Symbol;if(r&&r.iterator)Zi=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const l=i[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Zi=l)}}}return Zi}function eh(r){return!!op(r)&&(Array.isArray(r)||!(r instanceof Map)&&Mr()in r)}function op(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Rr(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}function rh(r,i,o,l){const u=we();return Rr(u,ls(),i)&&(Dt(),ta(Yt(),u,r,i,o,l)),rh}function Vm(r,i,o,l,u,h,_,E){const C=we(),b=Dt(),M=r+22,O=b.firstCreatePass?function uw(r,i,o,l,u,h,_,E,C){const b=i.consts,M=Oc(i,r,4,_||null,kr(b,E));Em(i,o,M,kr(b,C)),Na(i,M);const O=M.tViews=mm(2,M,l,u,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,b);return null!==i.queries&&(i.queries.template(i,M),O.queries=i.queries.embeddedTView(M)),M}(M,b,C,i,o,l,u,h,_):b.data[M];Er(O,!1);const $=C[11].createComment("");xf(b,C,$,O),ir($,C),Yd(C,C[M]=tw($,C,$,O)),wl(O)&&Yf(b,C,O),null!=_&&Qf(C,O,E)}function ih(r,i,o){const l=we();return Rr(l,ls(),i)&&function vi(r,i,o,l,u,h,_,E){const C=nr(i,o);let M,b=i.inputs;!E&&null!=b&&(M=b[l])?(Dm(r,o,M,l,u),go(i)&&K0(o,i.index)):3&i.type&&(l=function XI(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(l),u=null!=_?_(u,i.value||"",l):u,h.setProperty(C,l,u))}(Dt(),Yt(),l,r,i,l[11],o,!1),ih}function sh(r,i,o,l,u){const _=u?"class":"style";Dm(r,o,i.inputs[_],_,l)}function up(r,i,o,l){const u=we(),h=Dt(),_=22+r,E=u[11],C=u[_]=Rf(E,i,function Pa(){return ft.lFrame.currentNamespace}()),b=h.firstCreatePass?function dw(r,i,o,l,u,h,_){const E=i.consts,b=Oc(i,r,2,u,kr(E,h));return Em(i,o,b,kr(E,_)),null!==b.attrs&&Im(b,b.attrs,!1),null!==b.mergedAttrs&&Im(b,b.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,b),b}(_,h,u,0,i,o,l):h.data[_];Er(b,!0);const M=b.mergedAttrs;null!==M&&Hs(E,C,M);const O=b.classes;null!==O&&Gd(E,C,O);const $=b.styles;return null!==$&&au(E,C,$),64!=(64&b.flags)&&xf(h,u,C,b),0===function wa(){return ft.lFrame.elementDepthCount}()&&ir(C,u),function Da(){ft.lFrame.elementDepthCount++}(),wl(b)&&(Yf(h,u,b),function Kd(r,i,o){if(fa(i)){const u=i.directiveEnd;for(let h=i.directiveStart;h<u;h++){const _=r.data[h];_.contentQueries&&_.contentQueries(1,o[h],h)}}}(h,b,u)),null!==l&&Qf(u,b),up}function oh(){let r=dn();yo()?function vo(){ft.lFrame.isParent=!1}():(r=r.parent,Er(r,!1));const i=r;!function Sl(){ft.lFrame.elementDepthCount--}();const o=Dt();return o.firstCreatePass&&(Na(o,r),fa(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function ka(r){return 0!=(16&r.flags)}(i)&&sh(o,i,we(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Yu(r){return 0!=(32&r.flags)}(i)&&sh(o,i,we(),i.stylesWithoutHost,!1),oh}function Bm(r,i,o,l){return up(r,i,o,l),oh(),Bm}function $m(){return we()}function Wm(r){return!!r&&"function"==typeof r.then}function kv(r){return!!r&&"function"==typeof r.subscribe}const Fv=kv;function Gm(r,i,o,l){const u=we(),h=Dt(),_=dn();return function zm(r,i,o,l,u,h,_,E){const C=wl(l),M=r.firstCreatePass&&Mv(r),O=i[8],$=Sv(i);let J=!0;if(3&l.type||E){const Le=nr(l,i),Qe=E?E(Le):Le,ut=$.length,De=E?Lt=>E(cn(Lt[l.index])):l.index;let ct=null;if(!E&&C&&(ct=function Vv(r,i,o,l){const u=r.cleanup;if(null!=u)for(let h=0;h<u.length-1;h+=2){const _=u[h];if(_===o&&u[h+1]===l){const E=i[7],C=u[h+2];return E.length>C?E[C]:null}"string"==typeof _&&(h+=2)}return null}(r,i,u,l.index)),null!==ct)(ct.__ngLastListenerFn__||ct).__ngNextListenerFn__=h,ct.__ngLastListenerFn__=h,J=!1;else{h=Bv(l,i,O,h,!1);const Lt=o.listen(Qe,u,h);$.push(h,Lt),M&&M.push(u,De,ut,ut+1)}}else h=Bv(l,i,O,h,!1);const ce=l.outputs;let Ae;if(J&&null!==ce&&(Ae=ce[u])){const Le=Ae.length;if(Le)for(let Qe=0;Qe<Le;Qe+=2){const nn=i[Ae[Qe]][Ae[Qe+1]].subscribe(h),Fu=$.length;$.push(h,nn),M&&M.push(u,l.index,Fu,-(Fu+1))}}}(h,u,u[11],_,r,i,0,l),Gm}function Uv(r,i,o,l){try{return!1!==o(l)}catch(u){return Pv(r,u),!1}}function Bv(r,i,o,l,u){return function h(_){if(_===Function)return l;np(2&r.flags?Mt(r.index,i):i);let C=Uv(i,0,l,_),b=h.__ngNextListenerFn__;for(;b;)C=Uv(i,0,b,_)&&C,b=b.__ngNextListenerFn__;return u&&!1===C&&(_.preventDefault(),_.returnValue=!1),C}}function jv(r=1){return function cs(r){return(ft.lFrame.contextLView=function Ra(r,i){for(;r>0;)i=i[15],r--;return i}(r,ft.lFrame.contextLView))[8]}(r)}function Ym(r,i,o,l,u){const h=r[o+1],_=null===i;let E=l?Is(h):Xo(h),C=!1;for(;0!==E&&(!1===C||_);){const M=r[E+1];qv(r[E],i)&&(C=!0,r[E+1]=l?Sc(M):nm(M)),E=l?Is(M):Xo(M)}C&&(r[o+1]=l?nm(h):Sc(h))}function qv(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&Bi(r,i)>=0}function _u(r,i){return function Ss(r,i,o,l){const u=we(),h=Dt(),_=function ci(r){const i=ft.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,o}(2);h.firstUpdatePass&&function Xv(r,i,o,l){const u=r.data;if(null===u[o+1]){const h=u[Pn()],_=function wi(r,i){return i>=r.expandoStartIndex}(r,o);(function At(r,i){return 0!=(r.flags&(i?16:32))})(h,l)&&null===i&&!_&&(i=!1),i=function mw(r,i,o,l){const u=function wo(r){const i=ft.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let h=l?i.residualClasses:i.residualStyles;if(null===u)0===(l?i.classBindings:i.styleBindings)&&(o=sa(o=lh(null,r,i,o,l),i.attrs,l),h=null);else{const _=i.directiveStylingLast;if(-1===_||r[_]!==u)if(o=lh(u,r,i,o,l),null===h){let C=function _w(r,i,o){const l=o?i.classBindings:i.styleBindings;if(0!==Xo(l))return r[Is(l)]}(r,i,l);void 0!==C&&Array.isArray(C)&&(C=lh(null,r,i,C[1],l),C=sa(C,i.attrs,l),function eE(r,i,o,l){r[Is(o?i.classBindings:i.styleBindings)]=l}(r,i,l,C))}else h=function yu(r,i,o){let l;const u=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<u;h++)l=sa(l,r[h].hostAttrs,o);return sa(l,i.attrs,o)}(r,i,l)}return void 0!==h&&(l?i.residualClasses=h:i.residualStyles=h),o}(u,h,i,l),function Zv(r,i,o,l,u,h){let _=h?i.classBindings:i.styleBindings,E=Is(_),C=Xo(_);r[l]=o;let M,b=!1;if(Array.isArray(o)){const O=o;M=O[1],(null===M||Bi(O,M)>0)&&(b=!0)}else M=o;if(u)if(0!==C){const $=Is(r[E+1]);r[l+1]=Hf($,E),0!==$&&(r[$+1]=rm(r[$+1],l)),r[E+1]=function V0(r,i){return 131071&r|i<<17}(r[E+1],l)}else r[l+1]=Hf(E,0),0!==E&&(r[E+1]=rm(r[E+1],l)),E=l;else r[l+1]=Hf(C,0),0===E?E=l:r[C+1]=rm(r[C+1],l),C=l;b&&(r[l+1]=nm(r[l+1])),Ym(r,M,l,!0),Ym(r,M,l,!1),function pw(r,i,o,l,u){const h=u?r.residualClasses:r.residualStyles;null!=h&&"string"==typeof i&&Bi(h,i)>=0&&(o[l+1]=Sc(o[l+1]))}(i,M,r,l,h),_=Hf(E,C),h?i.classBindings=_:i.styleBindings=_}(u,h,i,o,_,l)}}(h,r,_,l),i!==vt&&Rr(u,_,i)&&function tE(r,i,o,l,u,h,_,E){if(!(3&i.type))return;const C=r.data,b=C[E+1];uh(function Ar(r){return 1==(1&r)}(b)?nE(C,i,o,u,Xo(b),_):void 0)||(uh(h)||function tm(r){return 2==(2&r)}(b)&&(h=nE(C,null,o,u,E,_)),function Xy(r,i,o,l,u){if(i)u?r.addClass(o,l):r.removeClass(o,l);else{let h=-1===l.indexOf("-")?void 0:so.DashCase;null==u?r.removeStyle(o,l,h):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),h|=so.Important),r.setStyle(o,l,u,h))}}(l,_,vr(Pn(),o),u,h))}(h,h.data[Pn()],u,u[11],r,u[_+1]=function vu(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=le(Xr(r)))),r}(i,o),l,_)}(r,i,null,!0),_u}function lh(r,i,o,l,u){let h=null;const _=o.directiveEnd;let E=o.directiveStylingLast;for(-1===E?E=o.directiveStart:E++;E<_&&(h=i[E],l=sa(l,h.hostAttrs,u),h!==r);)E++;return null!==r&&(o.directiveStylingLast=E),l}function sa(r,i,o){const l=o?1:2;let u=-1;if(null!==i)for(let h=0;h<i.length;h++){const _=i[h];"number"==typeof _?u=_:u===l&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Ye(r,_,!!o||i[++h]))}return void 0===r?null:r}function nE(r,i,o,l,u,h){const _=null===i;let E;for(;u>0;){const C=r[u],b=Array.isArray(C),M=b?C[1]:C,O=null===M;let $=o[u+1];$===vt&&($=O?ht:void 0);let J=O?ko($,l):M===l?$:void 0;if(b&&!uh(J)&&(J=ko(C,l)),uh(J)&&(E=J,_))return E;const ce=r[u+1];u=_?Is(ce):Xo(ce)}if(null!==i){let C=h?i.residualClasses:i.residualStyles;null!=C&&(E=ko(C,l))}return E}function uh(r){return void 0!==r}function ch(r,i=""){const o=we(),l=Dt(),u=r+22,h=l.firstCreatePass?Oc(l,u,1,i,null):l.data[u],_=o[u]=function Vg(r,i){return r.createText(i)}(o[11],i);xf(l,o,_,h),Er(h,!1)}function Wc(r){return hp("",r,""),Wc}function hp(r,i,o){const l=we(),u=function Ts(r,i,o,l){return Rr(r,ls(),o)?i+fe(o)+l:vt}(l,r,i,o);return u!==vt&&function na(r,i,o){const l=vr(i,r);!function jy(r,i,o){r.setValue(i,o)}(r[11],l,o)}(l,Pn(),u),hp}const sl=void 0;var fE=["en",[["a","p"],["AM","PM"],sl],[["AM","PM"],sl,sl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sl,"{1} 'at' {0}",sl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Tw(r){const o=Math.floor(Math.abs(r)),l=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let Cu={};function ol(r){const i=function Sw(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=pE(i);if(o)return o;const l=i.split("-")[0];if(o=pE(l),o)return o;if("en"===l)return fE;throw new _e(701,!1)}function qc(r){return ol(r)[it.PluralCase]}function pE(r){return r in Cu||(Cu[r]=Ht.ng&&Ht.ng.common&&Ht.ng.common.locales&&Ht.ng.common.locales[r]),Cu[r]}var it=(()=>((it=it||{})[it.LocaleId=0]="LocaleId",it[it.DayPeriodsFormat=1]="DayPeriodsFormat",it[it.DayPeriodsStandalone=2]="DayPeriodsStandalone",it[it.DaysFormat=3]="DaysFormat",it[it.DaysStandalone=4]="DaysStandalone",it[it.MonthsFormat=5]="MonthsFormat",it[it.MonthsStandalone=6]="MonthsStandalone",it[it.Eras=7]="Eras",it[it.FirstDayOfWeek=8]="FirstDayOfWeek",it[it.WeekendRange=9]="WeekendRange",it[it.DateFormat=10]="DateFormat",it[it.TimeFormat=11]="TimeFormat",it[it.DateTimeFormat=12]="DateTimeFormat",it[it.NumberSymbols=13]="NumberSymbols",it[it.NumberFormats=14]="NumberFormats",it[it.CurrencyCode=15]="CurrencyCode",it[it.CurrencySymbol=16]="CurrencySymbol",it[it.CurrencyName=17]="CurrencyName",it[it.Currencies=18]="Currencies",it[it.Directionality=19]="Directionality",it[it.PluralCase=20]="PluralCase",it[it.ExtraData=21]="ExtraData",it))();const Kc="en-US";let fh=Kc;function Np(r,i,o,l,u){if(r=Z(r),Array.isArray(r))for(let h=0;h<r.length;h++)Np(r[h],i,o,l,u);else{const h=Dt(),_=we();let E=Br(r)?r:Z(r.provide),C=iu(r);const b=dn(),M=1048575&b.providerIndexes,O=b.directiveStart,$=b.providerIndexes>>20;if(Br(r)||!r.multi){const J=new ki(C,u,Jo),ce=Eh(E,i,u?M:M+$,O);-1===ce?(Fi(ps(b,_),h,E),p_(h,r,i.length),i.push(E),b.directiveStart++,b.directiveEnd++,u&&(b.providerIndexes+=1048576),o.push(J),_.push(J)):(o[ce]=J,_[ce]=J)}else{const J=Eh(E,i,M+$,O),ce=Eh(E,i,M,M+$),Ae=J>=0&&o[J],Le=ce>=0&&o[ce];if(u&&!Le||!u&&!Ae){Fi(ps(b,_),h,E);const Qe=function Yw(r,i,o,l,u){const h=new ki(r,o,Jo);return h.multi=[],h.index=i,h.componentProviders=0,g_(h,u,l&&!o),h}(u?Kw:qw,o.length,u,l,C);!u&&Le&&(o[ce].providerFactory=Qe),p_(h,r,i.length,0),i.push(E),b.directiveStart++,b.directiveEnd++,u&&(b.providerIndexes+=1048576),o.push(Qe),_.push(Qe)}else p_(h,r,J>-1?J:ce,g_(o[u?ce:J],C,!u&&l));!u&&l&&Le&&o[ce].componentProviders++}}}function p_(r,i,o,l){const u=Br(i),h=function _f(r){return!!r.useClass}(i);if(u||h){const C=(h?Z(i.useClass):i).prototype.ngOnDestroy;if(C){const b=r.destroyHooks||(r.destroyHooks=[]);if(!u&&i.multi){const M=b.indexOf(o);-1===M?b.push(o,[l,C]):b[M+1].push(l,C)}else b.push(o,C)}}}function g_(r,i,o){return o&&r.componentProviders++,r.multi.push(i)-1}function Eh(r,i,o,l){for(let u=o;u<l;u++)if(i[u]===r)return u;return-1}function qw(r,i,o,l){return m_(this.multi,[])}function Kw(r,i,o,l){const u=this.multi;let h;if(this.providerFactory){const _=this.providerFactory.componentProviders,E=di(o,o[1],this.providerFactory.index,l);h=E.slice(0,_),m_(u,h);for(let C=_;C<E.length;C++)h.push(E[C])}else h=[],m_(u,h);return h}function m_(r,i){for(let o=0;o<r.length;o++)i.push((0,r[o])());return i}function VE(r,i=[]){return o=>{o.providersResolver=(l,u)=>function f_(r,i,o){const l=Dt();if(l.firstCreatePass){const u=Zn(r);Np(o,l.data,l.blueprint,u,!0),Np(i,l.data,l.blueprint,u,!1)}}(l,u?u(r):r,i)}}class nd{}class UE{}function BE(r,i){return new __(r,i??null)}class __ extends nd{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Jd(this);const l=Vt(i);this._bootstrapComponents=Qo(l.bootstrap),this._r3Injector=Yg(i,o,[{provide:nd,useValue:this},{provide:qo,useValue:this.componentFactoryResolver}],le(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Op extends UE{constructor(i){super(),this.moduleType=i}create(i){return new __(this.moduleType,i)}}class Qw extends nd{constructor(i,o,l){super(),this.componentFactoryResolver=new Jd(this),this.instance=null;const u=new _c([...i,{provide:nd,useValue:this},{provide:qo,useValue:this.componentFactoryResolver}],o||mc(),l,new Set(["environment"]));this.injector=u,u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function xp(r,i,o=null){return new Qw(r,i,o).injector}let kp=(()=>{class r{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const l=fc(0,o.type),u=l.length>0?xp([l],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,u)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=Ot({token:r,providedIn:"environment",factory:()=>new r(zt(Yn))}),r})();function y_(r){r.getStandaloneInjector=i=>i.get(kp).getOrCreateStandaloneInjector(r)}function wh(r,i,o,l,u,h){const _=i+o;return Rr(r,_,u)?function bs(r,i,o){return r[i]=o}(r,_+1,h?l.call(h,u):l(u)):function Tu(r,i){const o=r[i];return o===vt?void 0:o}(r,_+1)}function b_(r,i){const o=Dt();let l;const u=r+22;o.firstCreatePass?(l=function Dh(r,i){if(i)for(let o=i.length-1;o>=0;o--){const l=i[o];if(r===l.name)return l}}(i,o.pipeRegistry),o.data[u]=l,l.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(u,l.onDestroy)):l=o.data[u];const h=l.factory||(l.factory=Zr(l.type)),_=An(Jo);try{const E=Ao(!1),C=h();return Ao(E),function cw(r,i,o,l){o>=r.data.length&&(r.data[o]=null,r.blueprint[o]=null),i[o]=l}(o,we(),u,C),C}finally{An(_)}}function Bp(r,i,o){const l=r+22,u=we(),h=function li(r,i){return r[i]}(u,l);return function bh(r,i){return r[1].data[i].pure}(u,l)?wh(u,function hn(){const r=ft.lFrame;let i=r.bindingRootIndex;return-1===i&&(i=r.bindingRootIndex=r.tView.bindingStartIndex),i}(),i,h.transform,o,h):h.transform(o)}function M_(r){return i=>{setTimeout(r,void 0,i)}}const Ki=class lD extends f.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,l){let u=i,h=o||(()=>null),_=l;if(i&&"object"==typeof i){const C=i;u=C.next?.bind(C),h=C.error?.bind(C),_=C.complete?.bind(C)}this.__isAsync&&(h=M_(h),u&&(u=M_(u)),_&&(_=M_(_)));const E=super.subscribe({next:u,error:h,complete:_});return i instanceof Q.w0&&i.add(E),E}};function R_(){return this._results[Mr()]()}class P_{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Mr(),l=P_.prototype;l[o]||(l[o]=R_)}get changes(){return this._changes||(this._changes=new Ki)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const l=this;l.dirty=!1;const u=en(i);(this._changesDetected=!function wr(r,i,o){if(r.length!==i.length)return!1;for(let l=0;l<r.length;l++){let u=r[l],h=i[l];if(o&&(u=o(u),h=o(h)),h!==u)return!1}return!0}(l._results,u,o))&&(l._results=u,l.length=u.length,l.last=u[this.length-1],l.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let rd=(()=>{class r{}return r.__NG_ELEMENT_ID__=ZE,r})();const uD=rd,cD=class extends uD{constructor(i,o,l){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(i,o){const l=this._declarationTContainer.tViews,u=qf(this._declarationLView,l,i,16,null,l.declTNode,null,null,null,null,o||null);u[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(u[19]=_.createEmbeddedView(l)),gm(l,u,i),new Fc(u)}};function ZE(){return id(dn(),we())}function id(r,i){return 4&r.type?new cD(i,r,m(r,i)):null}let sd=(()=>{class r{}return r.__NG_ELEMENT_ID__=N_,r})();function N_(){return qE(dn(),we())}const jp=sd,hl=class extends jp{constructor(i,o,l){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=l}get element(){return m(this._hostTNode,this._hostLView)}get injector(){return new ms(this._hostTNode,this._hostLView)}get parentInjector(){const i=Ua(this._hostTNode,this._hostLView);if(Ju(i)){const o=To(i,this._hostLView),l=kn(i);return new ms(o[1].data[l+8],o)}return new ms(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=Hp(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,l){let u,h;"number"==typeof l?u=l:null!=l&&(u=l.index,h=l.injector);const _=i.createEmbeddedView(o||{},h);return this.insert(_,u),_}createComponent(i,o,l,u,h){const _=i&&!function Cr(r){return"function"==typeof r}(i);let E;if(_)E=o;else{const O=o||{};E=O.index,l=O.injector,u=O.projectableNodes,h=O.environmentInjector||O.ngModuleRef}const C=_?i:new Lc(Pe(i)),b=l||this.parentInjector;if(!h&&null==C.ngModule){const $=(_?b:this.parentInjector).get(Yn,null);$&&(h=$)}const M=C.create(b,u,void 0,h);return this.insert(M.hostView,E),M}insert(i,o){const l=i._lView,u=l[1];if(function va(r){return tr(r[3])}(l)){const M=this.indexOf(i);if(-1!==M)this.detach(M);else{const O=l[3],$=new hl(O,O[6],O[3]);$.detach($.indexOf(i))}}const h=this._adjustIndex(o),_=this._lContainer;!function v0(r,i,o,l){const u=10+l,h=o.length;l>0&&(o[u-1][4]=i),l<h-10?(i[4]=o[u],Oo(o,10+l,i)):(o.push(i),i[4]=null),i[3]=o;const _=i[17];null!==_&&o!==_&&function E0(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(_,i);const E=i[19];null!==E&&E.insertView(r),i[2]|=64}(u,l,_,h);const E=Qy(h,_),C=l[11],b=Nf(C,_[7]);return null!==b&&function Hy(r,i,o,l,u,h){l[0]=u,l[6]=i,ou(r,l,o,1,u,h)}(u,_[6],C,l,b,E),i.attachToViewContainerRef(),Oo($p(_),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=Hp(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),l=Bg(this._lContainer,o);l&&(Kn($p(this._lContainer),o),Hd(l[1],l))}detach(i){const o=this._adjustIndex(i,-1),l=Bg(this._lContainer,o);return l&&null!=Kn($p(this._lContainer),o)?new Fc(l):null}_adjustIndex(i,o=0){return i??this.length+o}};function Hp(r){return r[8]}function $p(r){return r[8]||(r[8]=[])}function qE(r,i){let o;const l=i[r.index];if(tr(l))o=l;else{let u;if(8&r.type)u=cn(l);else{const h=i[11];u=h.createComment("");const _=nr(r,i);oo(h,Nf(h,_),u,function Ky(r,i){return r.nextSibling(i)}(h,_),!1)}i[r.index]=o=tw(l,i,u,r),Yd(i,o)}return new hl(o,r,i)}class Su{constructor(i){this.queryList=i,this.matches=null}clone(){return new Su(this.queryList)}setDirty(){this.queryList.setDirty()}}class Th{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const l=null!==i.contentQueries?i.contentQueries[0]:o.length,u=[];for(let h=0;h<l;h++){const _=o.getByIndex(h);u.push(this.queries[_.indexInDeclarationView].clone())}return new Th(u)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==L_(i,o).matches&&this.queries[o].setDirty()}}class YE{constructor(i,o,l=null){this.predicate=i,this.flags=o,this.read=l}}class O_{constructor(i=[]){this.queries=i}elementStart(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let l=0;l<this.length;l++){const u=null!==o?o.length:0,h=this.getByIndex(l).embeddedTView(i,u);h&&(h.indexInDeclarationView=l,null!==o?o.push(h):o=[h])}return null!==o?new O_(o):null}template(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class x_{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new x_(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let u=0;u<l.length;u++){const h=l[u];this.matchTNodeWithReadOption(i,o,k_(o,h)),this.matchTNodeWithReadOption(i,o,$s(o,i,h,!1,!1))}else l===rd?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,$s(o,i,l,!1,!1))}matchTNodeWithReadOption(i,o,l){if(null!==l){const u=this.metadata.read;if(null!==u)if(u===d||u===sd||u===rd&&4&o.type)this.addMatch(o.index,-2);else{const h=$s(o,i,u,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,l)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function k_(r,i){const o=r.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===i)return o[l+1];return null}function QE(r,i,o,l){return-1===o?function Gp(r,i){return 11&r.type?m(r,i):4&r.type?id(r,i):null}(i,r):-2===o?function dD(r,i,o){return o===d?m(i,r):o===rd?id(i,r):o===sd?qE(i,r):void 0}(r,i,l):di(r,r[1],o,i)}function od(r,i,o,l){const u=i[19].queries[l];if(null===u.matches){const h=r.data,_=o.matches,E=[];for(let C=0;C<_.length;C+=2){const b=_[C];E.push(b<0?null:QE(i,h[b],_[C+1],o.metadata.read))}u.matches=E}return u.matches}function Yi(r,i,o,l){const u=r.queries.getByIndex(o),h=u.matches;if(null!==h){const _=od(r,i,u,o);for(let E=0;E<h.length;E+=2){const C=h[E];if(C>0)l.push(_[E/2]);else{const b=h[E+1],M=i[-C];for(let O=10;O<M.length;O++){const $=M[O];$[17]===$[3]&&Yi($[1],$,b,l)}if(null!==M[9]){const O=M[9];for(let $=0;$<O.length;$++){const J=O[$];Yi(J[1],J,b,l)}}}}}return l}function ad(r){const i=we(),o=Dt(),l=xl();Do(l+1);const u=L_(o,l);if(r.dirty&&function ya(r){return 4==(4&r[2])}(i)===(2==(2&u.metadata.flags))){if(null===u.matches)r.reset([]);else{const h=u.crossesNgTemplate?Yi(o,i,l,[]):od(o,i,u,l);r.reset(h,p),r.notifyOnChanges()}return!0}return!1}function F_(r,i,o,l){const u=Dt();if(u.firstCreatePass){const h=dn();(function JE(r,i,o){null===r.queries&&(r.queries=new O_),r.queries.track(new x_(i,o))})(u,new YE(i,o,l),h.index),function Qi(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(u,r),2==(2&o)&&(u.staticContentQueries=!0)}!function ld(r,i,o){const l=new P_(4==(4&o));_m(r,i,l,l.destroy),null===i[19]&&(i[19]=new Th),i[19].queries.push(new Su(l))}(u,we(),o)}function zp(){return function Ah(r,i){return r[19].queries[i].queryList}(we(),xl())}function L_(r,i){return r.queries.getByIndex(i)}function Jp(...r){}const Xp=new Gt("Application Initializer");let eg=(()=>{class r{constructor(o){this.appInits=o,this.resolve=Jp,this.reject=Jp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,u)=>{this.resolve=l,this.reject=u})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const h=this.appInits[u]();if(Wm(h))o.push(h);else if(Fv(h)){const _=new Promise((E,C)=>{h.subscribe({complete:E,error:C})});o.push(_)}}Promise.all(o).then(()=>{l()}).catch(u=>{this.reject(u)}),0===o.length&&l(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(zt(Xp,8))},r.\u0275prov=Ot({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const gC=new Gt("AppId",{providedIn:"root",factory:function mC(){return`${Ou()}${Ou()}${Ou()}`}});function Ou(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ph=new Gt("Platform Initializer"),Nh=new Gt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),tg=new Gt("appBootstrapListener");let _C=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Ot({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const Oh=new Gt("LocaleId",{providedIn:"root",factory:()=>w(Oh,Ue.Optional|Ue.SkipSelf)||function yC(){return typeof $localize<"u"&&$localize.locale||Kc}()}),Ns=new Gt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class TD{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let vC=(()=>{class r{compileModuleSync(o){return new Op(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),h=Qo(Vt(o).declarations).reduce((_,E)=>{const C=Pe(E);return C&&_.push(new Lc(C)),_},[]);return new TD(l,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Ot({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const MD=(()=>Promise.resolve(0))();function Y_(r){typeof Zone>"u"?MD.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Ji{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ki(!1),this.onMicrotaskEmpty=new Ki(!1),this.onStable=new Ki(!1),this.onError=new Ki(!1),typeof Zone>"u")throw new _e(908,!1);Zone.assertZonePatched();const u=this;if(u._nesting=0,u._outer=u._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const h=Zone.AsyncStackTaggingZoneSpec;u._inner=u._inner.fork(new h("Angular"))}Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!l&&o,u.shouldCoalesceRunChangeDetection=l,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function RD(){let r=Ht.requestAnimationFrame,i=Ht.cancelAnimationFrame;if(typeof Zone<"u"&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function OD(r){const i=()=>{!function ND(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Ht,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,J_(r),r.isCheckStableRunning=!0,Q_(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),J_(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,u,h,_,E)=>{try{return wC(r),o.invokeTask(u,h,_,E)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||r.shouldCoalesceRunChangeDetection)&&i(),Xi(r)}},onInvoke:(o,l,u,h,_,E,C)=>{try{return wC(r),o.invoke(u,h,_,E,C)}finally{r.shouldCoalesceRunChangeDetection&&i(),Xi(r)}},onHasTask:(o,l,u,h)=>{o.hasTask(u,h),l===u&&("microTask"==h.change?(r._hasPendingMicrotasks=h.microTask,J_(r),Q_(r)):"macroTask"==h.change&&(r.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,l,u,h)=>(o.handleError(u,h),r.runOutsideAngular(()=>r.onError.emit(h)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ji.isInAngularZone())throw new _e(909,!1)}static assertNotInAngularZone(){if(Ji.isInAngularZone())throw new _e(909,!1)}run(i,o,l){return this._inner.run(i,o,l)}runTask(i,o,l,u){const h=this._inner,_=h.scheduleEventTask("NgZoneEvent: "+u,i,PD,Jp,Jp);try{return h.runTask(_,o,l)}finally{h.cancelTask(_)}}runGuarded(i,o,l){return this._inner.runGuarded(i,o,l)}runOutsideAngular(i){return this._outer.run(i)}}const PD={};function Q_(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function J_(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function wC(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function Xi(r){r._nesting--,Q_(r)}class xD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ki,this.onMicrotaskEmpty=new Ki,this.onStable=new Ki,this.onError=new Ki}run(i,o,l){return i.apply(o,l)}runGuarded(i,o,l){return i.apply(o,l)}runOutsideAngular(i){return i()}runTask(i,o,l,u){return i.apply(o,l)}}const ng=new Gt(""),X_=new Gt("");let ty,kD=(()=>{class r{constructor(o,l,u){this._ngZone=o,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ty||(function FD(r){ty=r}(u),u.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ji.assertNotInAngularZone(),Y_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Y_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,u){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==h),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:u})}whenStable(o,l,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,u){return[]}}return r.\u0275fac=function(o){return new(o||r)(zt(Ji),zt(ey),zt(X_))},r.\u0275prov=Ot({token:r,factory:r.\u0275fac}),r})(),ey=(()=>{class r{constructor(){this._applications=new Map}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return ty?.findTestabilityInTree(this,o,l)??null}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Ot({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})(),gl=null;const DC=new Gt("AllowMultipleToken"),rg=new Gt("PlatformDestroyListeners");class VD{constructor(i,o){this.name=i,this.token=o}}function TC(r,i,o=[]){const l=`Platform: ${i}`,u=new Gt(l);return(h=[])=>{let _=SC();if(!_||_.injector.get(DC,!1)){const E=[...o,...h,{provide:u,useValue:!0}];r?r(E):function UD(r){if(gl&&!gl.get(DC,!1))throw new _e(400,!1);gl=r;const i=r.get(HD);(function bC(r){const i=r.get(Ph,null);i&&i.forEach(o=>o())})(r)}(function AC(r=[],i){return tl.create({name:i,providers:[{provide:Ya,useValue:"platform"},{provide:rg,useValue:new Set([()=>gl=null])},...r]})}(E,l))}return function jD(r){const i=SC();if(!i)throw new _e(401,!1);return i}()}}function SC(){return gl?.get(HD)??null}let HD=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const u=function RC(r,i){let o;return o="noop"===r?new xD:("zone.js"===r?void 0:r)||new Ji(i),o}(l?.ngZone,function MC(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(l)),h=[{provide:Ji,useValue:u}];return u.run(()=>{const _=tl.create({providers:h,parent:this.injector,name:o.moduleType.name}),E=o.create(_),C=E.injector.get(Ud,null);if(!C)throw new _e(402,!1);return u.runOutsideAngular(()=>{const b=u.onError.subscribe({next:M=>{C.handleError(M)}});E.onDestroy(()=>{sg(this._modules,E),b.unsubscribe()})}),function PC(r,i,o){try{const l=o();return Wm(l)?l.catch(u=>{throw i.runOutsideAngular(()=>r.handleError(u)),u}):l}catch(l){throw i.runOutsideAngular(()=>r.handleError(l)),l}}(C,u,()=>{const b=E.injector.get(eg);return b.runInitializers(),b.donePromise.then(()=>(function r_(r){wt(r,"Expected localeId to be defined"),"string"==typeof r&&(fh=r.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Oh,Kc)||Kc),this._moduleDoBootstrap(E),E))})})}bootstrapModule(o,l=[]){const u=ny({},l);return function LD(r,i,o){const l=new Op(o);return Promise.resolve(l)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,u))}_moduleDoBootstrap(o){const l=o.injector.get(ig);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(u=>l.bootstrap(u));else{if(!o.instance.ngDoBootstrap)throw new _e(403,!1);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _e(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const o=this._injector.get(rg,null);o&&(o.forEach(l=>l()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(zt(tl))},r.\u0275prov=Ot({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function ny(r,i){return Array.isArray(i)?i.reduce(ny,r):{...r,...i}}let ig=(()=>{class r{constructor(o,l,u){this._zone=o,this._injector=l,this._exceptionHandler=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new P.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),_=new P.y(E=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{Ji.assertNotInAngularZone(),Y_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const b=this._zone.onUnstable.subscribe(()=>{Ji.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{C.unsubscribe(),b.unsubscribe()}});this.isStable=(0,ie.T)(h,_.pipe((0,ne.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,l){const u=o instanceof yc;if(!this._injector.get(eg).done)throw!u&&sn(o),new _e(405,false);let _;_=u?o:this._injector.get(qo).resolveComponentFactory(o),this.componentTypes.push(_.componentType);const E=function IC(r){return r.isBoundToModule}(_)?void 0:this._injector.get(nd),b=_.create(tl.NULL,[],l||_.selector,E),M=b.location.nativeElement,O=b.injector.get(ng,null);return O?.registerApplication(M),b.onDestroy(()=>{this.detachView(b.hostView),sg(this.components,b),O?.unregisterApplication(M)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new _e(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;sg(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(tg,[]).concat(this._bootstrapListeners).forEach(u=>u(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>sg(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new _e(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(o){return new(o||r)(zt(Ji),zt(Yn),zt(Ud))},r.\u0275prov=Ot({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function sg(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}let ca=!0,ur=!1;function Ti(){return ur=!0,ca}function xh(){if(ur)throw new Error("Cannot enable prod mode after platform setup.");ca=!1}let WD=(()=>{class r{}return r.__NG_ELEMENT_ID__=GD,r})();function GD(r){return function zD(r,i,o){if(go(r)&&!o){const l=Mt(r.index,i);return new Fc(l,l)}return 47&r.type?new Fc(i[16],i):null}(dn(),we(),16==(16&r))}class ly{constructor(){}supports(i){return eh(i)}create(i){return new xC(i)}}const nI=(r,i)=>i;class xC{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||nI}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,l=this._removalsHead,u=0,h=null;for(;o||l;){const _=!l||o&&o.currentIndex<_l(l,u,h)?o:l,E=_l(_,u,h),C=_.currentIndex;if(_===l)u--,l=l._nextRemoved;else if(o=o._next,null==_.previousIndex)u++;else{h||(h=[]);const b=E-u,M=C-u;if(b!=M){for(let $=0;$<b;$++){const J=$<h.length?h[$]:h[$]=0,ce=J+$;M<=ce&&ce<b&&(h[$]=J+1)}h[_.previousIndex]=M-b}}E!==C&&i(_,E,C)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!eh(i))throw new _e(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let u,h,_,o=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let E=0;E<this.length;E++)h=i[E],_=this._trackByFn(E,h),null!==o&&Object.is(o.trackById,_)?(l&&(o=this._verifyReinsertion(o,h,_,E)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,_,E),l=!0),o=o._next}else u=0,function Sm(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[Mr()]();let l;for(;!(l=o.next()).done;)i(l.value)}}(i,E=>{_=this._trackByFn(u,E),null!==o&&Object.is(o.trackById,_)?(l&&(o=this._verifyReinsertion(o,E,_,u)),Object.is(o.item,E)||this._addIdentityChange(o,E)):(o=this._mismatch(o,E,_,u),l=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,l,u){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,u)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,u))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,u)):i=this._addAfter(new uy(o,l),h,u),i}_verifyReinsertion(i,o,l,u){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?i=this._reinsertAfter(h,i._prev,u):i.currentIndex!=u&&(i.currentIndex=u,this._addToMoves(i,u)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const u=i._prevRemoved,h=i._nextRemoved;return null===u?this._removalsHead=h:u._nextRemoved=h,null===h?this._removalsTail=u:h._prevRemoved=u,this._insertAfter(i,o,l),this._addToMoves(i,l),i}_moveAfter(i,o,l){return this._unlink(i),this._insertAfter(i,o,l),this._addToMoves(i,l),i}_addAfter(i,o,l){return this._insertAfter(i,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,l){const u=null===o?this._itHead:o._next;return i._next=u,i._prev=o,null===u?this._itTail=i:u._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new cy),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,l=i._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cy),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class uy{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const o=i._prevDup,l=i._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class cy{constructor(){this.map=new Map}put(i){const o=i.trackById;let l=this.map.get(o);l||(l=new rI,this.map.set(o,l)),l.add(i)}get(i,o){const u=this.map.get(i);return u?u.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _l(r,i,o){const l=r.previousIndex;if(null===l)return l;let u=0;return o&&l<o.length&&(u=o[l]),l+i+u}class xs{constructor(){}supports(i){return i instanceof Map||op(i)}create(){return new iI}}class iI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||op(i)))throw new _e(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(u,l);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const l=i._prev;return o._next=i,o._prev=l,i._prev=o,l&&(l._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const u=this._records.get(i);this._maybeAddToChanges(u,o);const h=u._prev,_=u._next;return h&&(h._next=_),_&&(_._prev=h),u._next=null,u._prev=null,u}const l=new kC(i);return this._records.set(i,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(l=>o(i[l],l))}}class kC{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function FC(){return new dy([new ly])}let dy=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(null!=l){const u=l.factories.slice();o=o.concat(u)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||FC()),deps:[[r,new lt,new Se]]}}find(o){const l=this.factories.find(u=>u.supports(o));if(null!=l)return l;throw new _e(901,!1)}}return r.\u0275prov=Ot({token:r,providedIn:"root",factory:FC}),r})();function xu(){return new hy([new xs])}let hy=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(l){const u=l.factories.slice();o=o.concat(u)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||xu()),deps:[[r,new lt,new Se]]}}find(o){const l=this.factories.find(u=>u.supports(o));if(l)return l;throw new _e(901,!1)}}return r.\u0275prov=Ot({token:r,providedIn:"root",factory:xu}),r})();const sI=TC(null,"core",[]);let Sb=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(zt(ig))},r.\u0275mod=L({type:r}),r.\u0275inj=_t({}),r})();function VC(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}},3942:(Ze,ye,N)=>{"use strict";N.d(ye,{Z:()=>_e});var f=N(2090),Q=N(4859),P=N(9681),ie=N(1877);class ne{constructor(fe,de){this._delegate=fe,this.firebase=de,(0,P._addComponent)(fe,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(fe,de=P._DEFAULT_ENTRY_NAME){var je;this._delegate.checkDestroyed();const qe=this._delegate.container.getProvider(fe);return!qe.isInitialized()&&"EXPLICIT"===(null===(je=qe.getComponent())||void 0===je?void 0:je.instantiationMode)&&qe.initialize(),qe.getImmediate({identifier:de})}_removeServiceInstance(fe,de=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(de)}_addComponent(fe){(0,P._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,P._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const oe=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function ue(){const We=function le(We){const fe={},de={__esModule:!0,initializeApp:function be(Fe,B={}){const he=P.initializeApp(Fe,B);if((0,f.r3)(fe,he.name))return fe[he.name];const G=new We(he,de);return fe[he.name]=G,G},app:qe,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function Ee(Fe){const B=Fe.name,he=B.replace("-compat","");if(P._registerComponent(Fe)&&"PUBLIC"===Fe.type){const G=(Y=qe())=>{if("function"!=typeof Y[he])throw oe.create("invalid-app-argument",{appName:B});return Y[he]()};void 0!==Fe.serviceProps&&(0,f.ZB)(G,Fe.serviceProps),de[he]=G,We.prototype[he]=function(...Y){return this._getService.bind(this,B).apply(this,Fe.multipleInstances?Y:[])}}return"PUBLIC"===Fe.type?de[he]:null},removeApp:function je(Fe){delete fe[Fe]},useAsService:function xe(Fe,B){return"serverAuth"===B?null:B},modularAPIs:P}};function qe(Fe){if(!(0,f.r3)(fe,Fe=Fe||P._DEFAULT_ENTRY_NAME))throw oe.create("no-app",{appName:Fe});return fe[Fe]}return de.default=de,Object.defineProperty(de,"apps",{get:function pe(){return Object.keys(fe).map(Fe=>fe[Fe])}}),qe.App=We,de}(ne);return We.INTERNAL=Object.assign(Object.assign({},We.INTERNAL),{createFirebaseNamespace:ue,extendNamespace:function fe(de){(0,f.ZB)(We,de)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),We}(),H=new ie.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const We=self.firebase.SDK_VERSION;We&&We.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const _e=j;!function Te(We){(0,P.registerVersion)("@firebase/app-compat","0.1.35",We)}()},9681:(Ze,ye,N)=>{"use strict";N.r(ye),N.d(ye,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>Ai,_DEFAULT_ENTRY_NAME:()=>wt,_addComponent:()=>Nt,_addOrOverwriteComponent:()=>Ot,_apps:()=>Pt,_clearComponents:()=>fo,_components:()=>rn,_getProvider:()=>_t,_registerComponent:()=>Vn,_removeServiceInstance:()=>xt,deleteApp:()=>es,getApp:()=>cr,getApps:()=>mr,initializeApp:()=>Nr,onLog:()=>ni,registerVersion:()=>dr,setLogLevel:()=>An});var f=N(5861),Q=N(4859),P=N(1877),ie=N(2090),ne=N(8766);class ae{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map($e=>{if(function oe(He){return"VERSION"===He.getComponent()?.type}($e)){const ot=$e.getImmediate();return`${ot.library}/${ot.version}`}return null}).filter($e=>$e).join(" ")}}const le="@firebase/app",j=new P.Yd("@firebase/app"),wt="[DEFAULT]",Ve={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Pt=new Map,rn=new Map;function Nt(He,Ce){try{He.container.addComponent(Ce)}catch($e){j.debug(`Component ${Ce.name} failed to register with FirebaseApp ${He.name}`,$e)}}function Ot(He,Ce){He.container.addOrOverwriteComponent(Ce)}function Vn(He){const Ce=He.name;if(rn.has(Ce))return j.debug(`There were multiple attempts to register component ${Ce}.`),!1;rn.set(Ce,He);for(const $e of Pt.values())Nt($e,He);return!0}function _t(He,Ce){const $e=He.container.getProvider("heartbeat").getImmediate({optional:!0});return $e&&$e.triggerHeartbeat(),He.container.getProvider(Ce)}function xt(He,Ce,$e=wt){_t(He,Ce).clearInstance($e)}function fo(){rn.clear()}const zn=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Qn{constructor(Ce,$e,ot){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},$e),this._name=$e.name,this._automaticDataCollectionEnabled=$e.automaticDataCollectionEnabled,this._container=ot,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw zn.create("app-deleted",{appName:this._name})}}const Ai="9.11.0";function Nr(He,Ce={}){let $e=He;"object"!=typeof Ce&&(Ce={name:Ce});const ot=Object.assign({name:wt,automaticDataCollectionEnabled:!1},Ce),at=ot.name;if("string"!=typeof at||!at)throw zn.create("bad-app-name",{appName:String(at)});if($e||($e=(0,ie.aH)()),!$e)throw zn.create("no-options");const L=Pt.get(at);if(L){if((0,ie.vZ)($e,L.options)&&(0,ie.vZ)(ot,L.config))return L;throw zn.create("duplicate-app",{appName:at})}const U=new Q.H0(at);for(const ge of rn.values())U.addComponent(ge);const z=new Qn($e,ot,U);return Pt.set(at,z),z}function cr(He=wt){const Ce=Pt.get(He);if(!Ce&&He===wt)return Nr();if(!Ce)throw zn.create("no-app",{appName:He});return Ce}function mr(){return Array.from(Pt.values())}function es(He){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,f.Z)(function*(He){const Ce=He.name;Pt.has(Ce)&&(Pt.delete(Ce),yield Promise.all(He.container.getProviders().map($e=>$e.delete())),He.isDeleted=!0)})).apply(this,arguments)}function dr(He,Ce,$e){var ot;let at=null!==(ot=Ve[He])&&void 0!==ot?ot:He;$e&&(at+=`-${$e}`);const L=at.match(/\s|\//),U=Ce.match(/\s|\//);if(L||U){const z=[`Unable to register library "${at}" with version "${Ce}":`];return L&&z.push(`library name "${at}" contains illegal characters (whitespace or "/")`),L&&U&&z.push("and"),U&&z.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void j.warn(z.join(" "))}Vn(new Q.wA(`${at}-version`,()=>({library:at,version:Ce}),"VERSION"))}function ni(He,Ce){if(null!==He&&"function"!=typeof He)throw zn.create("invalid-log-argument");(0,P.Am)(He,Ce)}function An(He){(0,P.Ub)(He)}const un="firebase-heartbeat-store";let In=null;function qt(){return In||(In=(0,ne.X3)("firebase-heartbeat-database",1,{upgrade:(He,Ce)=>{0===Ce&&He.createObjectStore(un)}}).catch(He=>{throw zn.create("idb-open",{originalErrorMessage:He.message})})),In}function ze(){return(ze=(0,f.Z)(function*(He){var Ce;try{return(yield qt()).transaction(un).objectStore(un).get(Un(He))}catch($e){if($e instanceof ie.ZR)j.warn($e.message);else{const ot=zn.create("idb-get",{originalErrorMessage:null===(Ce=$e)||void 0===Ce?void 0:Ce.message});j.warn(ot.message)}}})).apply(this,arguments)}function Ht(He,Ce){return pn.apply(this,arguments)}function pn(){return(pn=(0,f.Z)(function*(He,Ce){var $e;try{const at=(yield qt()).transaction(un,"readwrite");return yield at.objectStore(un).put(Ce,Un(He)),at.done}catch(ot){if(ot instanceof ie.ZR)j.warn(ot.message);else{const at=zn.create("idb-set",{originalErrorMessage:null===($e=ot)||void 0===$e?void 0:$e.message});j.warn(at.message)}}})).apply(this,arguments)}function Un(He){return`${He.name}!${He.options.appId}`}class ri{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const $e=this.container.getProvider("app").getImmediate();this._storage=new Ft($e),this._heartbeatsCachePromise=this._storage.read().then(ot=>(this._heartbeatsCache=ot,ot))}triggerHeartbeat(){var Ce=this;return(0,f.Z)(function*(){const ot=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),at=kt();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==at&&!Ce._heartbeatsCache.heartbeats.some(L=>L.date===at))return Ce._heartbeatsCache.heartbeats.push({date:at,agent:ot}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(L=>{const U=new Date(L.date).valueOf();return Date.now()-U<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,f.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const $e=kt(),{heartbeatsToSend:ot,unsentEntries:at}=function Gr(He,Ce=1024){const $e=[];let ot=He.slice();for(const at of He){const L=$e.find(U=>U.agent===at.agent);if(L){if(L.dates.push(at.date),Sn($e)>Ce){L.dates.pop();break}}else if($e.push({agent:at.agent,dates:[at.date]}),Sn($e)>Ce){$e.pop();break}ot=ot.slice(1)}return{heartbeatsToSend:$e,unsentEntries:ot}}(Ce._heartbeatsCache.heartbeats),L=(0,ie.L)(JSON.stringify({version:2,heartbeats:ot}));return Ce._heartbeatsCache.lastSentHeartbeatDate=$e,at.length>0?(Ce._heartbeatsCache.heartbeats=at,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),L})()}}function kt(){return(new Date).toISOString().substring(0,10)}class Ft{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,f.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function rt(He){return ze.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var $e=this;return(0,f.Z)(function*(){var ot;if(yield $e._canUseIndexedDBPromise){const L=yield $e.read();return Ht($e.app,{lastSentHeartbeatDate:null!==(ot=Ce.lastSentHeartbeatDate)&&void 0!==ot?ot:L.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var $e=this;return(0,f.Z)(function*(){var ot;if(yield $e._canUseIndexedDBPromise){const L=yield $e.read();return Ht($e.app,{lastSentHeartbeatDate:null!==(ot=Ce.lastSentHeartbeatDate)&&void 0!==ot?ot:L.lastSentHeartbeatDate,heartbeats:[...L.heartbeats,...Ce.heartbeats]})}})()}}function Sn(He){return(0,ie.L)(JSON.stringify({version:2,heartbeats:He})).length}!function Xn(He){Vn(new Q.wA("platform-logger",Ce=>new ae(Ce),"PRIVATE")),Vn(new Q.wA("heartbeat",Ce=>new ri(Ce),"PRIVATE")),dr(le,"0.8.0",He),dr(le,"0.8.0","esm2017"),dr("fire-js","")}("")},4859:(Ze,ye,N)=>{"use strict";N.d(ye,{H0:()=>le,wA:()=>P,zt:()=>ne});var f=N(5861),Q=N(2090);class P{constructor(j,H,Z){this.name=j,this.instanceFactory=H,this.type=Z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const ie="[DEFAULT]";class ne{constructor(j,H){this.name=j,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const H=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(H)){const Z=new Q.BH;if(this.instancesDeferred.set(H,Z),this.isInitialized(H)||this.shouldAutoInitialize())try{const Ne=this.getOrInitializeService({instanceIdentifier:H});Ne&&Z.resolve(Ne)}catch{}}return this.instancesDeferred.get(H).promise}getImmediate(j){var H;const Z=this.normalizeInstanceIdentifier(j?.identifier),Ne=null!==(H=j?.optional)&&void 0!==H&&H;if(!this.isInitialized(Z)&&!this.shouldAutoInitialize()){if(Ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Z})}catch(Te){if(Ne)return null;throw Te}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function oe(ue){return"EAGER"===ue.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[H,Z]of this.instancesDeferred.entries()){const Ne=this.normalizeInstanceIdentifier(H);try{const Te=this.getOrInitializeService({instanceIdentifier:Ne});Z.resolve(Te)}catch{}}}}clearInstance(j=ie){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,f.Z)(function*(){const H=Array.from(j.instances.values());yield Promise.all([...H.filter(Z=>"INTERNAL"in Z).map(Z=>Z.INTERNAL.delete()),...H.filter(Z=>"_delete"in Z).map(Z=>Z._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=ie){return this.instances.has(j)}getOptions(j=ie){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:H={}}=j,Z=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(Z))throw Error(`${this.name}(${Z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ne=this.getOrInitializeService({instanceIdentifier:Z,options:H});for(const[Te,_e]of this.instancesDeferred.entries())Z===this.normalizeInstanceIdentifier(Te)&&_e.resolve(Ne);return Ne}onInit(j,H){var Z;const Ne=this.normalizeInstanceIdentifier(H),Te=null!==(Z=this.onInitCallbacks.get(Ne))&&void 0!==Z?Z:new Set;Te.add(j),this.onInitCallbacks.set(Ne,Te);const _e=this.instances.get(Ne);return _e&&j(_e,Ne),()=>{Te.delete(j)}}invokeOnInitCallbacks(j,H){const Z=this.onInitCallbacks.get(H);if(Z)for(const Ne of Z)try{Ne(j,H)}catch{}}getOrInitializeService({instanceIdentifier:j,options:H={}}){let Z=this.instances.get(j);if(!Z&&this.component&&(Z=this.component.instanceFactory(this.container,{instanceIdentifier:(ue=j,ue===ie?void 0:ue),options:H}),this.instances.set(j,Z),this.instancesOptions.set(j,H),this.invokeOnInitCallbacks(Z,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,Z)}catch{}var ue;return Z||null}normalizeInstanceIdentifier(j=ie){return this.component?this.component.multipleInstances?j:ie:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class le{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const H=this.getProvider(j.name);if(H.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);H.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const H=new ne(j,this);return this.providers.set(j,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(Ze,ye,N)=>{"use strict";N.d(ye,{Am:()=>ue,Ub:()=>le,Yd:()=>oe,in:()=>Q});const f=[];var Q=(()=>{return(j=Q||(Q={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",Q;var j})();const P={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},ie=Q.INFO,ne={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},ae=(j,H,...Z)=>{if(H<j.logLevel)return;const Ne=(new Date).toISOString(),Te=ne[H];if(!Te)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Te](`[${Ne}]  ${j.name}:`,...Z)};class oe{constructor(H){this.name=H,this._logLevel=ie,this._logHandler=ae,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in Q))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?P[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...H),this._logHandler(this,Q.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...H),this._logHandler(this,Q.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...H),this._logHandler(this,Q.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...H),this._logHandler(this,Q.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...H),this._logHandler(this,Q.ERROR,...H)}}function le(j){f.forEach(H=>{H.setLogLevel(j)})}function ue(j,H){for(const Z of f){let Ne=null;H&&H.level&&(Ne=P[H.level]),Z.userLogHandler=null===j?null:(Te,_e,...We)=>{const fe=We.map(de=>{if(null==de)return null;if("string"==typeof de)return de;if("number"==typeof de||"boolean"==typeof de)return de.toString();if(de instanceof Error)return de.message;try{return JSON.stringify(de)}catch{return null}}).filter(de=>de).join(" ");_e>=(Ne??Te.logLevel)&&j({level:Q[_e].toLowerCase(),message:fe,args:We,type:Te.name})}}}},8766:(Ze,ye,N)=>{"use strict";N.d(ye,{Lj:()=>be,X3:()=>qe});var f=N(5861);let P,ie;const oe=new WeakMap,le=new WeakMap,ue=new WeakMap,j=new WeakMap,H=new WeakMap;let Te={get(B,he,G){if(B instanceof IDBTransaction){if("done"===he)return le.get(B);if("objectStoreNames"===he)return B.objectStoreNames||ue.get(B);if("store"===he)return G.objectStoreNames[1]?void 0:G.objectStore(G.objectStoreNames[0])}return de(B[he])},set:(B,he,G)=>(B[he]=G,!0),has:(B,he)=>B instanceof IDBTransaction&&("done"===he||"store"===he)||he in B};function fe(B){return"function"==typeof B?function We(B){return B!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ae(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(B)?function(...he){return B.apply(je(this),he),de(oe.get(this))}:function(...he){return de(B.apply(je(this),he))}:function(he,...G){const Y=B.call(je(this),he,...G);return ue.set(Y,he.sort?he.sort():[he]),de(Y)}}(B):(B instanceof IDBTransaction&&function Ne(B){if(le.has(B))return;const he=new Promise((G,Y)=>{const re=()=>{B.removeEventListener("complete",X),B.removeEventListener("error",Re),B.removeEventListener("abort",Re)},X=()=>{G(),re()},Re=()=>{Y(B.error||new DOMException("AbortError","AbortError")),re()};B.addEventListener("complete",X),B.addEventListener("error",Re),B.addEventListener("abort",Re)});le.set(B,he)}(B),((B,he)=>he.some(G=>B instanceof G))(B,function ne(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(B,Te):B)}function de(B){if(B instanceof IDBRequest)return function Z(B){const he=new Promise((G,Y)=>{const re=()=>{B.removeEventListener("success",X),B.removeEventListener("error",Re)},X=()=>{G(de(B.result)),re()},Re=()=>{Y(B.error),re()};B.addEventListener("success",X),B.addEventListener("error",Re)});return he.then(G=>{G instanceof IDBCursor&&oe.set(G,B)}).catch(()=>{}),H.set(he,B),he}(B);if(j.has(B))return j.get(B);const he=fe(B);return he!==B&&(j.set(B,he),H.set(he,B)),he}const je=B=>H.get(B);function qe(B,he,{blocked:G,upgrade:Y,blocking:re,terminated:X}={}){const Re=indexedDB.open(B,he),Me=de(Re);return Y&&Re.addEventListener("upgradeneeded",nt=>{Y(de(Re.result),nt.oldVersion,nt.newVersion,de(Re.transaction))}),G&&Re.addEventListener("blocked",()=>G()),Me.then(nt=>{X&&nt.addEventListener("close",()=>X()),re&&nt.addEventListener("versionchange",()=>re())}).catch(()=>{}),Me}function be(B,{blocked:he}={}){const G=indexedDB.deleteDatabase(B);return he&&G.addEventListener("blocked",()=>he()),de(G).then(()=>{})}const pe=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],xe=new Map;function Fe(B,he){if(!(B instanceof IDBDatabase)||he in B||"string"!=typeof he)return;if(xe.get(he))return xe.get(he);const G=he.replace(/FromIndex$/,""),Y=he!==G,re=Ee.includes(G);if(!(G in(Y?IDBIndex:IDBObjectStore).prototype)||!re&&!pe.includes(G))return;const X=function(){var Re=(0,f.Z)(function*(Me,...nt){const Rt=this.transaction(Me,re?"readwrite":"readonly");let wt=Rt.store;return Y&&(wt=wt.index(nt.shift())),(yield Promise.all([wt[G](...nt),re&&Rt.done]))[0]});return function(nt){return Re.apply(this,arguments)}}();return xe.set(he,X),X}!function _e(B){Te=B(Te)}(B=>({...B,get:(he,G,Y)=>Fe(he,G)||B.get(he,G,Y),has:(he,G)=>!!Fe(he,G)||B.has(he,G)}))},5861:(Ze,ye,N)=>{"use strict";function f(P,ie,ne,ae,oe,le,ue){try{var j=P[le](ue),H=j.value}catch(Z){return void ne(Z)}j.done?ie(H):Promise.resolve(H).then(ae,oe)}function Q(P){return function(){var ie=this,ne=arguments;return new Promise(function(ae,oe){var le=P.apply(ie,ne);function ue(H){f(le,ae,oe,ue,j,"next",H)}function j(H){f(le,ae,oe,ue,j,"throw",H)}ue(void 0)})}}N.d(ye,{Z:()=>Q})}},Ze=>{Ze(Ze.s=5108)}]);